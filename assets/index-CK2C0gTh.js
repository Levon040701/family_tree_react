(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function f1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Nd={exports:{}},lo={},Id={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wr=Symbol.for("react.element"),p1=Symbol.for("react.portal"),h1=Symbol.for("react.fragment"),m1=Symbol.for("react.strict_mode"),g1=Symbol.for("react.profiler"),v1=Symbol.for("react.provider"),y1=Symbol.for("react.context"),x1=Symbol.for("react.forward_ref"),b1=Symbol.for("react.suspense"),_1=Symbol.for("react.memo"),w1=Symbol.for("react.lazy"),is=Symbol.iterator;function S1(r){return r===null||typeof r!="object"?null:(r=is&&r[is]||r["@@iterator"],typeof r=="function"?r:null)}var Ld={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ad=Object.assign,Md={};function tr(r,e,t){this.props=r,this.context=e,this.refs=Md,this.updater=t||Ld}tr.prototype.isReactComponent={};tr.prototype.setState=function(r,e){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,e,"setState")};tr.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function Od(){}Od.prototype=tr.prototype;function ia(r,e,t){this.props=r,this.context=e,this.refs=Md,this.updater=t||Ld}var oa=ia.prototype=new Od;oa.constructor=ia;Ad(oa,tr.prototype);oa.isPureReactComponent=!0;var os=Array.isArray,Rd=Object.prototype.hasOwnProperty,la={current:null},Pd={key:!0,ref:!0,__self:!0,__source:!0};function Ud(r,e,t){var n,i={},o=null,l=null;if(e!=null)for(n in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(o=""+e.key),e)Rd.call(e,n)&&!Pd.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var s=Array(a),c=0;c<a;c++)s[c]=arguments[c+2];i.children=s}if(r&&r.defaultProps)for(n in a=r.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Wr,type:r,key:o,ref:l,props:i,_owner:la.current}}function k1(r,e){return{$$typeof:Wr,type:r.type,key:e,ref:r.ref,props:r.props,_owner:r._owner}}function aa(r){return typeof r=="object"&&r!==null&&r.$$typeof===Wr}function C1(r){var e={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(t){return e[t]})}var ls=/\/+/g;function Lo(r,e){return typeof r=="object"&&r!==null&&r.key!=null?C1(""+r.key):e.toString(36)}function bi(r,e,t,n,i){var o=typeof r;(o==="undefined"||o==="boolean")&&(r=null);var l=!1;if(r===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(r.$$typeof){case Wr:case p1:l=!0}}if(l)return l=r,i=i(l),r=n===""?"."+Lo(l,0):n,os(i)?(t="",r!=null&&(t=r.replace(ls,"$&/")+"/"),bi(i,e,t,"",function(c){return c})):i!=null&&(aa(i)&&(i=k1(i,t+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(ls,"$&/")+"/")+r)),e.push(i)),1;if(l=0,n=n===""?".":n+":",os(r))for(var a=0;a<r.length;a++){o=r[a];var s=n+Lo(o,a);l+=bi(o,e,t,s,i)}else if(s=S1(r),typeof s=="function")for(r=s.call(r),a=0;!(o=r.next()).done;)o=o.value,s=n+Lo(o,a++),l+=bi(o,e,t,s,i);else if(o==="object")throw e=String(r),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function ni(r,e,t){if(r==null)return r;var n=[],i=0;return bi(r,n,"","",function(o){return e.call(t,o,i++)}),n}function E1(r){if(r._status===-1){var e=r._result;e=e(),e.then(function(t){(r._status===0||r._status===-1)&&(r._status=1,r._result=t)},function(t){(r._status===0||r._status===-1)&&(r._status=2,r._result=t)}),r._status===-1&&(r._status=0,r._result=e)}if(r._status===1)return r._result.default;throw r._result}var Re={current:null},_i={transition:null},N1={ReactCurrentDispatcher:Re,ReactCurrentBatchConfig:_i,ReactCurrentOwner:la};function Td(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:ni,forEach:function(r,e,t){ni(r,function(){e.apply(this,arguments)},t)},count:function(r){var e=0;return ni(r,function(){e++}),e},toArray:function(r){return ni(r,function(e){return e})||[]},only:function(r){if(!aa(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};q.Component=tr;q.Fragment=h1;q.Profiler=g1;q.PureComponent=ia;q.StrictMode=m1;q.Suspense=b1;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N1;q.act=Td;q.cloneElement=function(r,e,t){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var n=Ad({},r.props),i=r.key,o=r.ref,l=r._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,l=la.current),e.key!==void 0&&(i=""+e.key),r.type&&r.type.defaultProps)var a=r.type.defaultProps;for(s in e)Rd.call(e,s)&&!Pd.hasOwnProperty(s)&&(n[s]=e[s]===void 0&&a!==void 0?a[s]:e[s])}var s=arguments.length-2;if(s===1)n.children=t;else if(1<s){a=Array(s);for(var c=0;c<s;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Wr,type:r.type,key:i,ref:o,props:n,_owner:l}};q.createContext=function(r){return r={$$typeof:y1,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:v1,_context:r},r.Consumer=r};q.createElement=Ud;q.createFactory=function(r){var e=Ud.bind(null,r);return e.type=r,e};q.createRef=function(){return{current:null}};q.forwardRef=function(r){return{$$typeof:x1,render:r}};q.isValidElement=aa;q.lazy=function(r){return{$$typeof:w1,_payload:{_status:-1,_result:r},_init:E1}};q.memo=function(r,e){return{$$typeof:_1,type:r,compare:e===void 0?null:e}};q.startTransition=function(r){var e=_i.transition;_i.transition={};try{r()}finally{_i.transition=e}};q.unstable_act=Td;q.useCallback=function(r,e){return Re.current.useCallback(r,e)};q.useContext=function(r){return Re.current.useContext(r)};q.useDebugValue=function(){};q.useDeferredValue=function(r){return Re.current.useDeferredValue(r)};q.useEffect=function(r,e){return Re.current.useEffect(r,e)};q.useId=function(){return Re.current.useId()};q.useImperativeHandle=function(r,e,t){return Re.current.useImperativeHandle(r,e,t)};q.useInsertionEffect=function(r,e){return Re.current.useInsertionEffect(r,e)};q.useLayoutEffect=function(r,e){return Re.current.useLayoutEffect(r,e)};q.useMemo=function(r,e){return Re.current.useMemo(r,e)};q.useReducer=function(r,e,t){return Re.current.useReducer(r,e,t)};q.useRef=function(r){return Re.current.useRef(r)};q.useState=function(r){return Re.current.useState(r)};q.useSyncExternalStore=function(r,e,t){return Re.current.useSyncExternalStore(r,e,t)};q.useTransition=function(){return Re.current.useTransition()};q.version="18.3.1";Id.exports=q;var Dt=Id.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I1=Dt,L1=Symbol.for("react.element"),A1=Symbol.for("react.fragment"),M1=Object.prototype.hasOwnProperty,O1=I1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,R1={key:!0,ref:!0,__self:!0,__source:!0};function Bd(r,e,t){var n,i={},o=null,l=null;t!==void 0&&(o=""+t),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(l=e.ref);for(n in e)M1.call(e,n)&&!R1.hasOwnProperty(n)&&(i[n]=e[n]);if(r&&r.defaultProps)for(n in e=r.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:L1,type:r,key:o,ref:l,props:i,_owner:O1.current}}lo.Fragment=A1;lo.jsx=Bd;lo.jsxs=Bd;Nd.exports=lo;var kt=Nd.exports,Dd={exports:{}},qe={},zd={exports:{}},Fd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function e(I,A){var M=I.length;I.push(A);e:for(;0<M;){var H=M-1>>>1,D=I[H];if(0<i(D,A))I[H]=A,I[M]=D,M=H;else break e}}function t(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var A=I[0],M=I.pop();if(M!==A){I[0]=M;e:for(var H=0,D=I.length,$=D>>>1;H<$;){var K=2*(H+1)-1,O=I[K],X=K+1,T=I[X];if(0>i(O,M))X<D&&0>i(T,O)?(I[H]=T,I[X]=M,H=X):(I[H]=O,I[K]=M,H=K);else if(X<D&&0>i(T,M))I[H]=T,I[X]=M,H=X;else break e}}return A}function i(I,A){var M=I.sortIndex-A.sortIndex;return M!==0?M:I.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var l=Date,a=l.now();r.unstable_now=function(){return l.now()-a}}var s=[],c=[],d=1,f=null,u=3,p=!1,m=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(I){for(var A=t(c);A!==null;){if(A.callback===null)n(c);else if(A.startTime<=I)n(c),A.sortIndex=A.expirationTime,e(s,A);else break;A=t(c)}}function w(I){if(g=!1,h(I),!m)if(t(s)!==null)m=!0,j(_);else{var A=t(c);A!==null&&V(w,A.startTime-I)}}function _(I,A){m=!1,g&&(g=!1,y(k),k=-1),p=!0;var M=u;try{for(h(A),f=t(s);f!==null&&(!(f.expirationTime>A)||I&&!L());){var H=f.callback;if(typeof H=="function"){f.callback=null,u=f.priorityLevel;var D=H(f.expirationTime<=A);A=r.unstable_now(),typeof D=="function"?f.callback=D:f===t(s)&&n(s),h(A)}else n(s);f=t(s)}if(f!==null)var $=!0;else{var K=t(c);K!==null&&V(w,K.startTime-A),$=!1}return $}finally{f=null,u=M,p=!1}}var b=!1,S=null,k=-1,C=5,E=-1;function L(){return!(r.unstable_now()-E<C)}function B(){if(S!==null){var I=r.unstable_now();E=I;var A=!0;try{A=S(!0,I)}finally{A?R():(b=!1,S=null)}}else b=!1}var R;if(typeof v=="function")R=function(){v(B)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,z=U.port2;U.port1.onmessage=B,R=function(){z.postMessage(null)}}else R=function(){x(B,0)};function j(I){S=I,b||(b=!0,R())}function V(I,A){k=x(function(){I(r.unstable_now())},A)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(I){I.callback=null},r.unstable_continueExecution=function(){m||p||(m=!0,j(_))},r.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<I?Math.floor(1e3/I):5},r.unstable_getCurrentPriorityLevel=function(){return u},r.unstable_getFirstCallbackNode=function(){return t(s)},r.unstable_next=function(I){switch(u){case 1:case 2:case 3:var A=3;break;default:A=u}var M=u;u=A;try{return I()}finally{u=M}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(I,A){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var M=u;u=I;try{return A()}finally{u=M}},r.unstable_scheduleCallback=function(I,A,M){var H=r.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?H+M:H):M=H,I){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=M+D,I={id:d++,callback:A,priorityLevel:I,startTime:M,expirationTime:D,sortIndex:-1},M>H?(I.sortIndex=M,e(c,I),t(s)===null&&I===t(c)&&(g?(y(k),k=-1):g=!0,V(w,M-H))):(I.sortIndex=D,e(s,I),m||p||(m=!0,j(_))),I},r.unstable_shouldYield=L,r.unstable_wrapCallback=function(I){var A=u;return function(){var M=u;u=A;try{return I.apply(this,arguments)}finally{u=M}}}})(Fd);zd.exports=Fd;var P1=zd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U1=Dt,Xe=P1;function P(r){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+r,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+r+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hd=new Set,Ar={};function Cn(r,e){Wn(r,e),Wn(r+"Capture",e)}function Wn(r,e){for(Ar[r]=e,r=0;r<e.length;r++)Hd.add(e[r])}var It=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ol=Object.prototype.hasOwnProperty,T1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,as={},ss={};function B1(r){return ol.call(ss,r)?!0:ol.call(as,r)?!1:T1.test(r)?ss[r]=!0:(as[r]=!0,!1)}function D1(r,e,t,n){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:t!==null?!t.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function z1(r,e,t,n){if(e===null||typeof e>"u"||D1(r,e,t,n))return!0;if(n)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pe(r,e,t,n,i,o,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=r,this.type=e,this.sanitizeURL=o,this.removeEmptyString=l}var Se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){Se[r]=new Pe(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var e=r[0];Se[e]=new Pe(e,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){Se[r]=new Pe(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){Se[r]=new Pe(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){Se[r]=new Pe(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){Se[r]=new Pe(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){Se[r]=new Pe(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){Se[r]=new Pe(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){Se[r]=new Pe(r,5,!1,r.toLowerCase(),null,!1,!1)});var sa=/[\-:]([a-z])/g;function da(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var e=r.replace(sa,da);Se[e]=new Pe(e,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var e=r.replace(sa,da);Se[e]=new Pe(e,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var e=r.replace(sa,da);Se[e]=new Pe(e,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){Se[r]=new Pe(r,1,!1,r.toLowerCase(),null,!1,!1)});Se.xlinkHref=new Pe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){Se[r]=new Pe(r,1,!1,r.toLowerCase(),null,!0,!0)});function ca(r,e,t,n){var i=Se.hasOwnProperty(e)?Se[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(z1(e,t,i,n)&&(t=null),n||i===null?B1(e)&&(t===null?r.removeAttribute(e):r.setAttribute(e,""+t)):i.mustUseProperty?r[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,n=i.attributeNamespace,t===null?r.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,n?r.setAttributeNS(n,e,t):r.setAttribute(e,t))))}var Ot=U1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ri=Symbol.for("react.element"),An=Symbol.for("react.portal"),Mn=Symbol.for("react.fragment"),ua=Symbol.for("react.strict_mode"),ll=Symbol.for("react.profiler"),jd=Symbol.for("react.provider"),$d=Symbol.for("react.context"),fa=Symbol.for("react.forward_ref"),al=Symbol.for("react.suspense"),sl=Symbol.for("react.suspense_list"),pa=Symbol.for("react.memo"),zt=Symbol.for("react.lazy"),Vd=Symbol.for("react.offscreen"),ds=Symbol.iterator;function sr(r){return r===null||typeof r!="object"?null:(r=ds&&r[ds]||r["@@iterator"],typeof r=="function"?r:null)}var le=Object.assign,Ao;function vr(r){if(Ao===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Ao=e&&e[1]||""}return`
`+Ao+r}var Mo=!1;function Oo(r,e){if(!r||Mo)return"";Mo=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(r,[],e)}else{try{e.call()}catch(c){n=c}r.call(e.prototype)}else{try{throw Error()}catch(c){n=c}r()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=n.stack.split(`
`),l=i.length-1,a=o.length-1;1<=l&&0<=a&&i[l]!==o[a];)a--;for(;1<=l&&0<=a;l--,a--)if(i[l]!==o[a]){if(l!==1||a!==1)do if(l--,a--,0>a||i[l]!==o[a]){var s=`
`+i[l].replace(" at new "," at ");return r.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",r.displayName)),s}while(1<=l&&0<=a);break}}}finally{Mo=!1,Error.prepareStackTrace=t}return(r=r?r.displayName||r.name:"")?vr(r):""}function F1(r){switch(r.tag){case 5:return vr(r.type);case 16:return vr("Lazy");case 13:return vr("Suspense");case 19:return vr("SuspenseList");case 0:case 2:case 15:return r=Oo(r.type,!1),r;case 11:return r=Oo(r.type.render,!1),r;case 1:return r=Oo(r.type,!0),r;default:return""}}function dl(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case Mn:return"Fragment";case An:return"Portal";case ll:return"Profiler";case ua:return"StrictMode";case al:return"Suspense";case sl:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case $d:return(r.displayName||"Context")+".Consumer";case jd:return(r._context.displayName||"Context")+".Provider";case fa:var e=r.render;return r=r.displayName,r||(r=e.displayName||e.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case pa:return e=r.displayName||null,e!==null?e:dl(r.type)||"Memo";case zt:e=r._payload,r=r._init;try{return dl(r(e))}catch{}}return null}function H1(r){var e=r.type;switch(r.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=e.render,r=r.displayName||r.name||"",e.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dl(e);case 8:return e===ua?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zt(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Yd(r){var e=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function j1(r){var e=Yd(r)?"checked":"value",t=Object.getOwnPropertyDescriptor(r.constructor.prototype,e),n=""+r[e];if(!r.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,o=t.set;return Object.defineProperty(r,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){n=""+l,o.call(this,l)}}),Object.defineProperty(r,e,{enumerable:t.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){r._valueTracker=null,delete r[e]}}}}function ii(r){r._valueTracker||(r._valueTracker=j1(r))}function Xd(r){if(!r)return!1;var e=r._valueTracker;if(!e)return!0;var t=e.getValue(),n="";return r&&(n=Yd(r)?r.checked?"true":"false":r.value),r=n,r!==t?(e.setValue(r),!0):!1}function Pi(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function cl(r,e){var t=e.checked;return le({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??r._wrapperState.initialChecked})}function cs(r,e){var t=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;t=Zt(e.value!=null?e.value:t),r._wrapperState={initialChecked:n,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qd(r,e){e=e.checked,e!=null&&ca(r,"checked",e,!1)}function ul(r,e){qd(r,e);var t=Zt(e.value),n=e.type;if(t!=null)n==="number"?(t===0&&r.value===""||r.value!=t)&&(r.value=""+t):r.value!==""+t&&(r.value=""+t);else if(n==="submit"||n==="reset"){r.removeAttribute("value");return}e.hasOwnProperty("value")?fl(r,e.type,t):e.hasOwnProperty("defaultValue")&&fl(r,e.type,Zt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(r.defaultChecked=!!e.defaultChecked)}function us(r,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+r._wrapperState.initialValue,t||e===r.value||(r.value=e),r.defaultValue=e}t=r.name,t!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,t!==""&&(r.name=t)}function fl(r,e,t){(e!=="number"||Pi(r.ownerDocument)!==r)&&(t==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+t&&(r.defaultValue=""+t))}var yr=Array.isArray;function jn(r,e,t,n){if(r=r.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<r.length;t++)i=e.hasOwnProperty("$"+r[t].value),r[t].selected!==i&&(r[t].selected=i),i&&n&&(r[t].defaultSelected=!0)}else{for(t=""+Zt(t),e=null,i=0;i<r.length;i++){if(r[i].value===t){r[i].selected=!0,n&&(r[i].defaultSelected=!0);return}e!==null||r[i].disabled||(e=r[i])}e!==null&&(e.selected=!0)}}function pl(r,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return le({},e,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function fs(r,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(P(92));if(yr(t)){if(1<t.length)throw Error(P(93));t=t[0]}e=t}e==null&&(e=""),t=e}r._wrapperState={initialValue:Zt(t)}}function Wd(r,e){var t=Zt(e.value),n=Zt(e.defaultValue);t!=null&&(t=""+t,t!==r.value&&(r.value=t),e.defaultValue==null&&r.defaultValue!==t&&(r.defaultValue=t)),n!=null&&(r.defaultValue=""+n)}function ps(r){var e=r.textContent;e===r._wrapperState.initialValue&&e!==""&&e!==null&&(r.value=e)}function Kd(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hl(r,e){return r==null||r==="http://www.w3.org/1999/xhtml"?Kd(e):r==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var oi,Gd=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction(function(){return r(e,t,n,i)})}:r}(function(r,e){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=e;else{for(oi=oi||document.createElement("div"),oi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=oi.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;e.firstChild;)r.appendChild(e.firstChild)}});function Mr(r,e){if(e){var t=r.firstChild;if(t&&t===r.lastChild&&t.nodeType===3){t.nodeValue=e;return}}r.textContent=e}var _r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$1=["Webkit","ms","Moz","O"];Object.keys(_r).forEach(function(r){$1.forEach(function(e){e=e+r.charAt(0).toUpperCase()+r.substring(1),_r[e]=_r[r]})});function Jd(r,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||_r.hasOwnProperty(r)&&_r[r]?(""+e).trim():e+"px"}function Qd(r,e){r=r.style;for(var t in e)if(e.hasOwnProperty(t)){var n=t.indexOf("--")===0,i=Jd(t,e[t],n);t==="float"&&(t="cssFloat"),n?r.setProperty(t,i):r[t]=i}}var V1=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ml(r,e){if(e){if(V1[r]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,r));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function gl(r,e){if(r.indexOf("-")===-1)return typeof e.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vl=null;function ha(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var yl=null,$n=null,Vn=null;function hs(r){if(r=Jr(r)){if(typeof yl!="function")throw Error(P(280));var e=r.stateNode;e&&(e=fo(e),yl(r.stateNode,r.type,e))}}function Zd(r){$n?Vn?Vn.push(r):Vn=[r]:$n=r}function ec(){if($n){var r=$n,e=Vn;if(Vn=$n=null,hs(r),e)for(r=0;r<e.length;r++)hs(e[r])}}function tc(r,e){return r(e)}function nc(){}var Ro=!1;function rc(r,e,t){if(Ro)return r(e,t);Ro=!0;try{return tc(r,e,t)}finally{Ro=!1,($n!==null||Vn!==null)&&(nc(),ec())}}function Or(r,e){var t=r.stateNode;if(t===null)return null;var n=fo(t);if(n===null)return null;t=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(r=r.type,n=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!n;break e;default:r=!1}if(r)return null;if(t&&typeof t!="function")throw Error(P(231,e,typeof t));return t}var xl=!1;if(It)try{var dr={};Object.defineProperty(dr,"passive",{get:function(){xl=!0}}),window.addEventListener("test",dr,dr),window.removeEventListener("test",dr,dr)}catch{xl=!1}function Y1(r,e,t,n,i,o,l,a,s){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(d){this.onError(d)}}var wr=!1,Ui=null,Ti=!1,bl=null,X1={onError:function(r){wr=!0,Ui=r}};function q1(r,e,t,n,i,o,l,a,s){wr=!1,Ui=null,Y1.apply(X1,arguments)}function W1(r,e,t,n,i,o,l,a,s){if(q1.apply(this,arguments),wr){if(wr){var c=Ui;wr=!1,Ui=null}else throw Error(P(198));Ti||(Ti=!0,bl=c)}}function En(r){var e=r,t=r;if(r.alternate)for(;e.return;)e=e.return;else{r=e;do e=r,e.flags&4098&&(t=e.return),r=e.return;while(r)}return e.tag===3?t:null}function ic(r){if(r.tag===13){var e=r.memoizedState;if(e===null&&(r=r.alternate,r!==null&&(e=r.memoizedState)),e!==null)return e.dehydrated}return null}function ms(r){if(En(r)!==r)throw Error(P(188))}function K1(r){var e=r.alternate;if(!e){if(e=En(r),e===null)throw Error(P(188));return e!==r?null:r}for(var t=r,n=e;;){var i=t.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){t=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===t)return ms(i),r;if(o===n)return ms(i),e;o=o.sibling}throw Error(P(188))}if(t.return!==n.return)t=i,n=o;else{for(var l=!1,a=i.child;a;){if(a===t){l=!0,t=i,n=o;break}if(a===n){l=!0,n=i,t=o;break}a=a.sibling}if(!l){for(a=o.child;a;){if(a===t){l=!0,t=o,n=i;break}if(a===n){l=!0,n=o,t=i;break}a=a.sibling}if(!l)throw Error(P(189))}}if(t.alternate!==n)throw Error(P(190))}if(t.tag!==3)throw Error(P(188));return t.stateNode.current===t?r:e}function oc(r){return r=K1(r),r!==null?lc(r):null}function lc(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var e=lc(r);if(e!==null)return e;r=r.sibling}return null}var ac=Xe.unstable_scheduleCallback,gs=Xe.unstable_cancelCallback,G1=Xe.unstable_shouldYield,J1=Xe.unstable_requestPaint,ce=Xe.unstable_now,Q1=Xe.unstable_getCurrentPriorityLevel,ma=Xe.unstable_ImmediatePriority,sc=Xe.unstable_UserBlockingPriority,Bi=Xe.unstable_NormalPriority,Z1=Xe.unstable_LowPriority,dc=Xe.unstable_IdlePriority,ao=null,vt=null;function ef(r){if(vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(ao,r,void 0,(r.current.flags&128)===128)}catch{}}var st=Math.clz32?Math.clz32:rf,tf=Math.log,nf=Math.LN2;function rf(r){return r>>>=0,r===0?32:31-(tf(r)/nf|0)|0}var li=64,ai=4194304;function xr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Di(r,e){var t=r.pendingLanes;if(t===0)return 0;var n=0,i=r.suspendedLanes,o=r.pingedLanes,l=t&268435455;if(l!==0){var a=l&~i;a!==0?n=xr(a):(o&=l,o!==0&&(n=xr(o)))}else l=t&~i,l!==0?n=xr(l):o!==0&&(n=xr(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(n&4&&(n|=t&16),e=r.entangledLanes,e!==0)for(r=r.entanglements,e&=n;0<e;)t=31-st(e),i=1<<t,n|=r[t],e&=~i;return n}function of(r,e){switch(r){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lf(r,e){for(var t=r.suspendedLanes,n=r.pingedLanes,i=r.expirationTimes,o=r.pendingLanes;0<o;){var l=31-st(o),a=1<<l,s=i[l];s===-1?(!(a&t)||a&n)&&(i[l]=of(a,e)):s<=e&&(r.expiredLanes|=a),o&=~a}}function _l(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function cc(){var r=li;return li<<=1,!(li&4194240)&&(li=64),r}function Po(r){for(var e=[],t=0;31>t;t++)e.push(r);return e}function Kr(r,e,t){r.pendingLanes|=e,e!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,e=31-st(e),r[e]=t}function af(r,e){var t=r.pendingLanes&~e;r.pendingLanes=e,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=e,r.mutableReadLanes&=e,r.entangledLanes&=e,e=r.entanglements;var n=r.eventTimes;for(r=r.expirationTimes;0<t;){var i=31-st(t),o=1<<i;e[i]=0,n[i]=-1,r[i]=-1,t&=~o}}function ga(r,e){var t=r.entangledLanes|=e;for(r=r.entanglements;t;){var n=31-st(t),i=1<<n;i&e|r[n]&e&&(r[n]|=e),t&=~i}}var Z=0;function uc(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var fc,va,pc,hc,mc,wl=!1,si=[],Yt=null,Xt=null,qt=null,Rr=new Map,Pr=new Map,Ht=[],sf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vs(r,e){switch(r){case"focusin":case"focusout":Yt=null;break;case"dragenter":case"dragleave":Xt=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":Rr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pr.delete(e.pointerId)}}function cr(r,e,t,n,i,o){return r===null||r.nativeEvent!==o?(r={blockedOn:e,domEventName:t,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Jr(e),e!==null&&va(e)),r):(r.eventSystemFlags|=n,e=r.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),r)}function df(r,e,t,n,i){switch(e){case"focusin":return Yt=cr(Yt,r,e,t,n,i),!0;case"dragenter":return Xt=cr(Xt,r,e,t,n,i),!0;case"mouseover":return qt=cr(qt,r,e,t,n,i),!0;case"pointerover":var o=i.pointerId;return Rr.set(o,cr(Rr.get(o)||null,r,e,t,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Pr.set(o,cr(Pr.get(o)||null,r,e,t,n,i)),!0}return!1}function gc(r){var e=fn(r.target);if(e!==null){var t=En(e);if(t!==null){if(e=t.tag,e===13){if(e=ic(t),e!==null){r.blockedOn=e,mc(r.priority,function(){pc(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){r.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}r.blockedOn=null}function wi(r){if(r.blockedOn!==null)return!1;for(var e=r.targetContainers;0<e.length;){var t=Sl(r.domEventName,r.eventSystemFlags,e[0],r.nativeEvent);if(t===null){t=r.nativeEvent;var n=new t.constructor(t.type,t);vl=n,t.target.dispatchEvent(n),vl=null}else return e=Jr(t),e!==null&&va(e),r.blockedOn=t,!1;e.shift()}return!0}function ys(r,e,t){wi(r)&&t.delete(e)}function cf(){wl=!1,Yt!==null&&wi(Yt)&&(Yt=null),Xt!==null&&wi(Xt)&&(Xt=null),qt!==null&&wi(qt)&&(qt=null),Rr.forEach(ys),Pr.forEach(ys)}function ur(r,e){r.blockedOn===e&&(r.blockedOn=null,wl||(wl=!0,Xe.unstable_scheduleCallback(Xe.unstable_NormalPriority,cf)))}function Ur(r){function e(i){return ur(i,r)}if(0<si.length){ur(si[0],r);for(var t=1;t<si.length;t++){var n=si[t];n.blockedOn===r&&(n.blockedOn=null)}}for(Yt!==null&&ur(Yt,r),Xt!==null&&ur(Xt,r),qt!==null&&ur(qt,r),Rr.forEach(e),Pr.forEach(e),t=0;t<Ht.length;t++)n=Ht[t],n.blockedOn===r&&(n.blockedOn=null);for(;0<Ht.length&&(t=Ht[0],t.blockedOn===null);)gc(t),t.blockedOn===null&&Ht.shift()}var Yn=Ot.ReactCurrentBatchConfig,zi=!0;function uf(r,e,t,n){var i=Z,o=Yn.transition;Yn.transition=null;try{Z=1,ya(r,e,t,n)}finally{Z=i,Yn.transition=o}}function ff(r,e,t,n){var i=Z,o=Yn.transition;Yn.transition=null;try{Z=4,ya(r,e,t,n)}finally{Z=i,Yn.transition=o}}function ya(r,e,t,n){if(zi){var i=Sl(r,e,t,n);if(i===null)Vo(r,e,n,Fi,t),vs(r,n);else if(df(i,r,e,t,n))n.stopPropagation();else if(vs(r,n),e&4&&-1<sf.indexOf(r)){for(;i!==null;){var o=Jr(i);if(o!==null&&fc(o),o=Sl(r,e,t,n),o===null&&Vo(r,e,n,Fi,t),o===i)break;i=o}i!==null&&n.stopPropagation()}else Vo(r,e,n,null,t)}}var Fi=null;function Sl(r,e,t,n){if(Fi=null,r=ha(n),r=fn(r),r!==null)if(e=En(r),e===null)r=null;else if(t=e.tag,t===13){if(r=ic(e),r!==null)return r;r=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;r=null}else e!==r&&(r=null);return Fi=r,null}function vc(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Q1()){case ma:return 1;case sc:return 4;case Bi:case Z1:return 16;case dc:return 536870912;default:return 16}default:return 16}}var $t=null,xa=null,Si=null;function yc(){if(Si)return Si;var r,e=xa,t=e.length,n,i="value"in $t?$t.value:$t.textContent,o=i.length;for(r=0;r<t&&e[r]===i[r];r++);var l=t-r;for(n=1;n<=l&&e[t-n]===i[o-n];n++);return Si=i.slice(r,1<n?1-n:void 0)}function ki(r){var e=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&e===13&&(r=13)):r=e,r===10&&(r=13),32<=r||r===13?r:0}function di(){return!0}function xs(){return!1}function We(r){function e(t,n,i,o,l){this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var a in r)r.hasOwnProperty(a)&&(t=r[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?di:xs,this.isPropagationStopped=xs,this}return le(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),e}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ba=We(nr),Gr=le({},nr,{view:0,detail:0}),pf=We(Gr),Uo,To,fr,so=le({},Gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_a,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==fr&&(fr&&r.type==="mousemove"?(Uo=r.screenX-fr.screenX,To=r.screenY-fr.screenY):To=Uo=0,fr=r),Uo)},movementY:function(r){return"movementY"in r?r.movementY:To}}),bs=We(so),hf=le({},so,{dataTransfer:0}),mf=We(hf),gf=le({},Gr,{relatedTarget:0}),Bo=We(gf),vf=le({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),yf=We(vf),xf=le({},nr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),bf=We(xf),_f=le({},nr,{data:0}),_s=We(_f),wf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cf(r){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(r):(r=kf[r])?!!e[r]:!1}function _a(){return Cf}var Ef=le({},Gr,{key:function(r){if(r.key){var e=wf[r.key]||r.key;if(e!=="Unidentified")return e}return r.type==="keypress"?(r=ki(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Sf[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_a,charCode:function(r){return r.type==="keypress"?ki(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ki(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Nf=We(Ef),If=le({},so,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ws=We(If),Lf=le({},Gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_a}),Af=We(Lf),Mf=le({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Of=We(Mf),Rf=le({},so,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Pf=We(Rf),Uf=[9,13,27,32],wa=It&&"CompositionEvent"in window,Sr=null;It&&"documentMode"in document&&(Sr=document.documentMode);var Tf=It&&"TextEvent"in window&&!Sr,xc=It&&(!wa||Sr&&8<Sr&&11>=Sr),Ss=" ",ks=!1;function bc(r,e){switch(r){case"keyup":return Uf.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _c(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var On=!1;function Bf(r,e){switch(r){case"compositionend":return _c(e);case"keypress":return e.which!==32?null:(ks=!0,Ss);case"textInput":return r=e.data,r===Ss&&ks?null:r;default:return null}}function Df(r,e){if(On)return r==="compositionend"||!wa&&bc(r,e)?(r=yc(),Si=xa=$t=null,On=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xc&&e.locale!=="ko"?null:e.data;default:return null}}var zf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cs(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e==="input"?!!zf[r.type]:e==="textarea"}function wc(r,e,t,n){Zd(n),e=Hi(e,"onChange"),0<e.length&&(t=new ba("onChange","change",null,t,n),r.push({event:t,listeners:e}))}var kr=null,Tr=null;function Ff(r){Rc(r,0)}function co(r){var e=Un(r);if(Xd(e))return r}function Hf(r,e){if(r==="change")return e}var Sc=!1;if(It){var Do;if(It){var zo="oninput"in document;if(!zo){var Es=document.createElement("div");Es.setAttribute("oninput","return;"),zo=typeof Es.oninput=="function"}Do=zo}else Do=!1;Sc=Do&&(!document.documentMode||9<document.documentMode)}function Ns(){kr&&(kr.detachEvent("onpropertychange",kc),Tr=kr=null)}function kc(r){if(r.propertyName==="value"&&co(Tr)){var e=[];wc(e,Tr,r,ha(r)),rc(Ff,e)}}function jf(r,e,t){r==="focusin"?(Ns(),kr=e,Tr=t,kr.attachEvent("onpropertychange",kc)):r==="focusout"&&Ns()}function $f(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return co(Tr)}function Vf(r,e){if(r==="click")return co(e)}function Yf(r,e){if(r==="input"||r==="change")return co(e)}function Xf(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var ct=typeof Object.is=="function"?Object.is:Xf;function Br(r,e){if(ct(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;var t=Object.keys(r),n=Object.keys(e);if(t.length!==n.length)return!1;for(n=0;n<t.length;n++){var i=t[n];if(!ol.call(e,i)||!ct(r[i],e[i]))return!1}return!0}function Is(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ls(r,e){var t=Is(r);r=0;for(var n;t;){if(t.nodeType===3){if(n=r+t.textContent.length,r<=e&&n>=e)return{node:t,offset:e-r};r=n}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Is(t)}}function Cc(r,e){return r&&e?r===e?!0:r&&r.nodeType===3?!1:e&&e.nodeType===3?Cc(r,e.parentNode):"contains"in r?r.contains(e):r.compareDocumentPosition?!!(r.compareDocumentPosition(e)&16):!1:!1}function Ec(){for(var r=window,e=Pi();e instanceof r.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)r=e.contentWindow;else break;e=Pi(r.document)}return e}function Sa(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e&&(e==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||e==="textarea"||r.contentEditable==="true")}function qf(r){var e=Ec(),t=r.focusedElem,n=r.selectionRange;if(e!==t&&t&&t.ownerDocument&&Cc(t.ownerDocument.documentElement,t)){if(n!==null&&Sa(t)){if(e=n.start,r=n.end,r===void 0&&(r=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(r,t.value.length);else if(r=(e=t.ownerDocument||document)&&e.defaultView||window,r.getSelection){r=r.getSelection();var i=t.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!r.extend&&o>n&&(i=n,n=o,o=i),i=Ls(t,o);var l=Ls(t,n);i&&l&&(r.rangeCount!==1||r.anchorNode!==i.node||r.anchorOffset!==i.offset||r.focusNode!==l.node||r.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),r.removeAllRanges(),o>n?(r.addRange(e),r.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),r.addRange(e)))}}for(e=[],r=t;r=r.parentNode;)r.nodeType===1&&e.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)r=e[t],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Wf=It&&"documentMode"in document&&11>=document.documentMode,Rn=null,kl=null,Cr=null,Cl=!1;function As(r,e,t){var n=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Cl||Rn==null||Rn!==Pi(n)||(n=Rn,"selectionStart"in n&&Sa(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Cr&&Br(Cr,n)||(Cr=n,n=Hi(kl,"onSelect"),0<n.length&&(e=new ba("onSelect","select",null,e,t),r.push({event:e,listeners:n}),e.target=Rn)))}function ci(r,e){var t={};return t[r.toLowerCase()]=e.toLowerCase(),t["Webkit"+r]="webkit"+e,t["Moz"+r]="moz"+e,t}var Pn={animationend:ci("Animation","AnimationEnd"),animationiteration:ci("Animation","AnimationIteration"),animationstart:ci("Animation","AnimationStart"),transitionend:ci("Transition","TransitionEnd")},Fo={},Nc={};It&&(Nc=document.createElement("div").style,"AnimationEvent"in window||(delete Pn.animationend.animation,delete Pn.animationiteration.animation,delete Pn.animationstart.animation),"TransitionEvent"in window||delete Pn.transitionend.transition);function uo(r){if(Fo[r])return Fo[r];if(!Pn[r])return r;var e=Pn[r],t;for(t in e)if(e.hasOwnProperty(t)&&t in Nc)return Fo[r]=e[t];return r}var Ic=uo("animationend"),Lc=uo("animationiteration"),Ac=uo("animationstart"),Mc=uo("transitionend"),Oc=new Map,Ms="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tn(r,e){Oc.set(r,e),Cn(e,[r])}for(var Ho=0;Ho<Ms.length;Ho++){var jo=Ms[Ho],Kf=jo.toLowerCase(),Gf=jo[0].toUpperCase()+jo.slice(1);tn(Kf,"on"+Gf)}tn(Ic,"onAnimationEnd");tn(Lc,"onAnimationIteration");tn(Ac,"onAnimationStart");tn("dblclick","onDoubleClick");tn("focusin","onFocus");tn("focusout","onBlur");tn(Mc,"onTransitionEnd");Wn("onMouseEnter",["mouseout","mouseover"]);Wn("onMouseLeave",["mouseout","mouseover"]);Wn("onPointerEnter",["pointerout","pointerover"]);Wn("onPointerLeave",["pointerout","pointerover"]);Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jf=new Set("cancel close invalid load scroll toggle".split(" ").concat(br));function Os(r,e,t){var n=r.type||"unknown-event";r.currentTarget=t,W1(n,e,void 0,r),r.currentTarget=null}function Rc(r,e){e=(e&4)!==0;for(var t=0;t<r.length;t++){var n=r[t],i=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var l=n.length-1;0<=l;l--){var a=n[l],s=a.instance,c=a.currentTarget;if(a=a.listener,s!==o&&i.isPropagationStopped())break e;Os(i,a,c),o=s}else for(l=0;l<n.length;l++){if(a=n[l],s=a.instance,c=a.currentTarget,a=a.listener,s!==o&&i.isPropagationStopped())break e;Os(i,a,c),o=s}}}if(Ti)throw r=bl,Ti=!1,bl=null,r}function te(r,e){var t=e[Al];t===void 0&&(t=e[Al]=new Set);var n=r+"__bubble";t.has(n)||(Pc(e,r,2,!1),t.add(n))}function $o(r,e,t){var n=0;e&&(n|=4),Pc(t,r,n,e)}var ui="_reactListening"+Math.random().toString(36).slice(2);function Dr(r){if(!r[ui]){r[ui]=!0,Hd.forEach(function(t){t!=="selectionchange"&&(Jf.has(t)||$o(t,!1,r),$o(t,!0,r))});var e=r.nodeType===9?r:r.ownerDocument;e===null||e[ui]||(e[ui]=!0,$o("selectionchange",!1,e))}}function Pc(r,e,t,n){switch(vc(e)){case 1:var i=uf;break;case 4:i=ff;break;default:i=ya}t=i.bind(null,e,t,r),i=void 0,!xl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?r.addEventListener(e,t,{capture:!0,passive:i}):r.addEventListener(e,t,!0):i!==void 0?r.addEventListener(e,t,{passive:i}):r.addEventListener(e,t,!1)}function Vo(r,e,t,n,i){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(l===4)for(l=n.return;l!==null;){var s=l.tag;if((s===3||s===4)&&(s=l.stateNode.containerInfo,s===i||s.nodeType===8&&s.parentNode===i))return;l=l.return}for(;a!==null;){if(l=fn(a),l===null)return;if(s=l.tag,s===5||s===6){n=o=l;continue e}a=a.parentNode}}n=n.return}rc(function(){var c=o,d=ha(t),f=[];e:{var u=Oc.get(r);if(u!==void 0){var p=ba,m=r;switch(r){case"keypress":if(ki(t)===0)break e;case"keydown":case"keyup":p=Nf;break;case"focusin":m="focus",p=Bo;break;case"focusout":m="blur",p=Bo;break;case"beforeblur":case"afterblur":p=Bo;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=bs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=mf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Af;break;case Ic:case Lc:case Ac:p=yf;break;case Mc:p=Of;break;case"scroll":p=pf;break;case"wheel":p=Pf;break;case"copy":case"cut":case"paste":p=bf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ws}var g=(e&4)!==0,x=!g&&r==="scroll",y=g?u!==null?u+"Capture":null:u;g=[];for(var v=c,h;v!==null;){h=v;var w=h.stateNode;if(h.tag===5&&w!==null&&(h=w,y!==null&&(w=Or(v,y),w!=null&&g.push(zr(v,w,h)))),x)break;v=v.return}0<g.length&&(u=new p(u,m,null,t,d),f.push({event:u,listeners:g}))}}if(!(e&7)){e:{if(u=r==="mouseover"||r==="pointerover",p=r==="mouseout"||r==="pointerout",u&&t!==vl&&(m=t.relatedTarget||t.fromElement)&&(fn(m)||m[Lt]))break e;if((p||u)&&(u=d.window===d?d:(u=d.ownerDocument)?u.defaultView||u.parentWindow:window,p?(m=t.relatedTarget||t.toElement,p=c,m=m?fn(m):null,m!==null&&(x=En(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=bs,w="onMouseLeave",y="onMouseEnter",v="mouse",(r==="pointerout"||r==="pointerover")&&(g=ws,w="onPointerLeave",y="onPointerEnter",v="pointer"),x=p==null?u:Un(p),h=m==null?u:Un(m),u=new g(w,v+"leave",p,t,d),u.target=x,u.relatedTarget=h,w=null,fn(d)===c&&(g=new g(y,v+"enter",m,t,d),g.target=h,g.relatedTarget=x,w=g),x=w,p&&m)t:{for(g=p,y=m,v=0,h=g;h;h=Ln(h))v++;for(h=0,w=y;w;w=Ln(w))h++;for(;0<v-h;)g=Ln(g),v--;for(;0<h-v;)y=Ln(y),h--;for(;v--;){if(g===y||y!==null&&g===y.alternate)break t;g=Ln(g),y=Ln(y)}g=null}else g=null;p!==null&&Rs(f,u,p,g,!1),m!==null&&x!==null&&Rs(f,x,m,g,!0)}}e:{if(u=c?Un(c):window,p=u.nodeName&&u.nodeName.toLowerCase(),p==="select"||p==="input"&&u.type==="file")var _=Hf;else if(Cs(u))if(Sc)_=Yf;else{_=$f;var b=jf}else(p=u.nodeName)&&p.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(_=Vf);if(_&&(_=_(r,c))){wc(f,_,t,d);break e}b&&b(r,u,c),r==="focusout"&&(b=u._wrapperState)&&b.controlled&&u.type==="number"&&fl(u,"number",u.value)}switch(b=c?Un(c):window,r){case"focusin":(Cs(b)||b.contentEditable==="true")&&(Rn=b,kl=c,Cr=null);break;case"focusout":Cr=kl=Rn=null;break;case"mousedown":Cl=!0;break;case"contextmenu":case"mouseup":case"dragend":Cl=!1,As(f,t,d);break;case"selectionchange":if(Wf)break;case"keydown":case"keyup":As(f,t,d)}var S;if(wa)e:{switch(r){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else On?bc(r,t)&&(k="onCompositionEnd"):r==="keydown"&&t.keyCode===229&&(k="onCompositionStart");k&&(xc&&t.locale!=="ko"&&(On||k!=="onCompositionStart"?k==="onCompositionEnd"&&On&&(S=yc()):($t=d,xa="value"in $t?$t.value:$t.textContent,On=!0)),b=Hi(c,k),0<b.length&&(k=new _s(k,r,null,t,d),f.push({event:k,listeners:b}),S?k.data=S:(S=_c(t),S!==null&&(k.data=S)))),(S=Tf?Bf(r,t):Df(r,t))&&(c=Hi(c,"onBeforeInput"),0<c.length&&(d=new _s("onBeforeInput","beforeinput",null,t,d),f.push({event:d,listeners:c}),d.data=S))}Rc(f,e)})}function zr(r,e,t){return{instance:r,listener:e,currentTarget:t}}function Hi(r,e){for(var t=e+"Capture",n=[];r!==null;){var i=r,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Or(r,t),o!=null&&n.unshift(zr(r,o,i)),o=Or(r,e),o!=null&&n.push(zr(r,o,i))),r=r.return}return n}function Ln(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Rs(r,e,t,n,i){for(var o=e._reactName,l=[];t!==null&&t!==n;){var a=t,s=a.alternate,c=a.stateNode;if(s!==null&&s===n)break;a.tag===5&&c!==null&&(a=c,i?(s=Or(t,o),s!=null&&l.unshift(zr(t,s,a))):i||(s=Or(t,o),s!=null&&l.push(zr(t,s,a)))),t=t.return}l.length!==0&&r.push({event:e,listeners:l})}var Qf=/\r\n?/g,Zf=/\u0000|\uFFFD/g;function Ps(r){return(typeof r=="string"?r:""+r).replace(Qf,`
`).replace(Zf,"")}function fi(r,e,t){if(e=Ps(e),Ps(r)!==e&&t)throw Error(P(425))}function ji(){}var El=null,Nl=null;function Il(r,e){return r==="textarea"||r==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ll=typeof setTimeout=="function"?setTimeout:void 0,ep=typeof clearTimeout=="function"?clearTimeout:void 0,Us=typeof Promise=="function"?Promise:void 0,tp=typeof queueMicrotask=="function"?queueMicrotask:typeof Us<"u"?function(r){return Us.resolve(null).then(r).catch(np)}:Ll;function np(r){setTimeout(function(){throw r})}function Yo(r,e){var t=e,n=0;do{var i=t.nextSibling;if(r.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(n===0){r.removeChild(i),Ur(e);return}n--}else t!=="$"&&t!=="$?"&&t!=="$!"||n++;t=i}while(t);Ur(e)}function Wt(r){for(;r!=null;r=r.nextSibling){var e=r.nodeType;if(e===1||e===3)break;if(e===8){if(e=r.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return r}function Ts(r){r=r.previousSibling;for(var e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return r;e--}else t==="/$"&&e++}r=r.previousSibling}return null}var rr=Math.random().toString(36).slice(2),gt="__reactFiber$"+rr,Fr="__reactProps$"+rr,Lt="__reactContainer$"+rr,Al="__reactEvents$"+rr,rp="__reactListeners$"+rr,ip="__reactHandles$"+rr;function fn(r){var e=r[gt];if(e)return e;for(var t=r.parentNode;t;){if(e=t[Lt]||t[gt]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(r=Ts(r);r!==null;){if(t=r[gt])return t;r=Ts(r)}return e}r=t,t=r.parentNode}return null}function Jr(r){return r=r[gt]||r[Lt],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Un(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(P(33))}function fo(r){return r[Fr]||null}var Ml=[],Tn=-1;function nn(r){return{current:r}}function ne(r){0>Tn||(r.current=Ml[Tn],Ml[Tn]=null,Tn--)}function ee(r,e){Tn++,Ml[Tn]=r.current,r.current=e}var en={},Ie=nn(en),Be=nn(!1),xn=en;function Kn(r,e){var t=r.type.contextTypes;if(!t)return en;var n=r.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in t)i[o]=e[o];return n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=e,r.__reactInternalMemoizedMaskedChildContext=i),i}function De(r){return r=r.childContextTypes,r!=null}function $i(){ne(Be),ne(Ie)}function Bs(r,e,t){if(Ie.current!==en)throw Error(P(168));ee(Ie,e),ee(Be,t)}function Uc(r,e,t){var n=r.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return t;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(P(108,H1(r)||"Unknown",i));return le({},t,n)}function Vi(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||en,xn=Ie.current,ee(Ie,r),ee(Be,Be.current),!0}function Ds(r,e,t){var n=r.stateNode;if(!n)throw Error(P(169));t?(r=Uc(r,e,xn),n.__reactInternalMemoizedMergedChildContext=r,ne(Be),ne(Ie),ee(Ie,r)):ne(Be),ee(Be,t)}var St=null,po=!1,Xo=!1;function Tc(r){St===null?St=[r]:St.push(r)}function op(r){po=!0,Tc(r)}function rn(){if(!Xo&&St!==null){Xo=!0;var r=0,e=Z;try{var t=St;for(Z=1;r<t.length;r++){var n=t[r];do n=n(!0);while(n!==null)}St=null,po=!1}catch(i){throw St!==null&&(St=St.slice(r+1)),ac(ma,rn),i}finally{Z=e,Xo=!1}}return null}var Bn=[],Dn=0,Yi=null,Xi=0,Ge=[],Je=0,bn=null,Ct=1,Et="";function cn(r,e){Bn[Dn++]=Xi,Bn[Dn++]=Yi,Yi=r,Xi=e}function Bc(r,e,t){Ge[Je++]=Ct,Ge[Je++]=Et,Ge[Je++]=bn,bn=r;var n=Ct;r=Et;var i=32-st(n)-1;n&=~(1<<i),t+=1;var o=32-st(e)+i;if(30<o){var l=i-i%5;o=(n&(1<<l)-1).toString(32),n>>=l,i-=l,Ct=1<<32-st(e)+i|t<<i|n,Et=o+r}else Ct=1<<o|t<<i|n,Et=r}function ka(r){r.return!==null&&(cn(r,1),Bc(r,1,0))}function Ca(r){for(;r===Yi;)Yi=Bn[--Dn],Bn[Dn]=null,Xi=Bn[--Dn],Bn[Dn]=null;for(;r===bn;)bn=Ge[--Je],Ge[Je]=null,Et=Ge[--Je],Ge[Je]=null,Ct=Ge[--Je],Ge[Je]=null}var Ve=null,$e=null,re=!1,at=null;function Dc(r,e){var t=Qe(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=r,e=r.deletions,e===null?(r.deletions=[t],r.flags|=16):e.push(t)}function zs(r,e){switch(r.tag){case 5:var t=r.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(r.stateNode=e,Ve=r,$e=Wt(e.firstChild),!0):!1;case 6:return e=r.pendingProps===""||e.nodeType!==3?null:e,e!==null?(r.stateNode=e,Ve=r,$e=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=bn!==null?{id:Ct,overflow:Et}:null,r.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Qe(18,null,null,0),t.stateNode=e,t.return=r,r.child=t,Ve=r,$e=null,!0):!1;default:return!1}}function Ol(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Rl(r){if(re){var e=$e;if(e){var t=e;if(!zs(r,e)){if(Ol(r))throw Error(P(418));e=Wt(t.nextSibling);var n=Ve;e&&zs(r,e)?Dc(n,t):(r.flags=r.flags&-4097|2,re=!1,Ve=r)}}else{if(Ol(r))throw Error(P(418));r.flags=r.flags&-4097|2,re=!1,Ve=r}}}function Fs(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Ve=r}function pi(r){if(r!==Ve)return!1;if(!re)return Fs(r),re=!0,!1;var e;if((e=r.tag!==3)&&!(e=r.tag!==5)&&(e=r.type,e=e!=="head"&&e!=="body"&&!Il(r.type,r.memoizedProps)),e&&(e=$e)){if(Ol(r))throw zc(),Error(P(418));for(;e;)Dc(r,e),e=Wt(e.nextSibling)}if(Fs(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(P(317));e:{for(r=r.nextSibling,e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="/$"){if(e===0){$e=Wt(r.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}r=r.nextSibling}$e=null}}else $e=Ve?Wt(r.stateNode.nextSibling):null;return!0}function zc(){for(var r=$e;r;)r=Wt(r.nextSibling)}function Gn(){$e=Ve=null,re=!1}function Ea(r){at===null?at=[r]:at.push(r)}var lp=Ot.ReactCurrentBatchConfig;function pr(r,e,t){if(r=t.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(P(309));var n=t.stateNode}if(!n)throw Error(P(147,r));var i=n,o=""+r;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(l){var a=i.refs;l===null?delete a[o]:a[o]=l},e._stringRef=o,e)}if(typeof r!="string")throw Error(P(284));if(!t._owner)throw Error(P(290,r))}return r}function hi(r,e){throw r=Object.prototype.toString.call(e),Error(P(31,r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r))}function Hs(r){var e=r._init;return e(r._payload)}function Fc(r){function e(y,v){if(r){var h=y.deletions;h===null?(y.deletions=[v],y.flags|=16):h.push(v)}}function t(y,v){if(!r)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=Qt(y,v),y.index=0,y.sibling=null,y}function o(y,v,h){return y.index=h,r?(h=y.alternate,h!==null?(h=h.index,h<v?(y.flags|=2,v):h):(y.flags|=2,v)):(y.flags|=1048576,v)}function l(y){return r&&y.alternate===null&&(y.flags|=2),y}function a(y,v,h,w){return v===null||v.tag!==6?(v=Zo(h,y.mode,w),v.return=y,v):(v=i(v,h),v.return=y,v)}function s(y,v,h,w){var _=h.type;return _===Mn?d(y,v,h.props.children,w,h.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===zt&&Hs(_)===v.type)?(w=i(v,h.props),w.ref=pr(y,v,h),w.return=y,w):(w=Mi(h.type,h.key,h.props,null,y.mode,w),w.ref=pr(y,v,h),w.return=y,w)}function c(y,v,h,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==h.containerInfo||v.stateNode.implementation!==h.implementation?(v=el(h,y.mode,w),v.return=y,v):(v=i(v,h.children||[]),v.return=y,v)}function d(y,v,h,w,_){return v===null||v.tag!==7?(v=vn(h,y.mode,w,_),v.return=y,v):(v=i(v,h),v.return=y,v)}function f(y,v,h){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Zo(""+v,y.mode,h),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ri:return h=Mi(v.type,v.key,v.props,null,y.mode,h),h.ref=pr(y,null,v),h.return=y,h;case An:return v=el(v,y.mode,h),v.return=y,v;case zt:var w=v._init;return f(y,w(v._payload),h)}if(yr(v)||sr(v))return v=vn(v,y.mode,h,null),v.return=y,v;hi(y,v)}return null}function u(y,v,h,w){var _=v!==null?v.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return _!==null?null:a(y,v,""+h,w);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ri:return h.key===_?s(y,v,h,w):null;case An:return h.key===_?c(y,v,h,w):null;case zt:return _=h._init,u(y,v,_(h._payload),w)}if(yr(h)||sr(h))return _!==null?null:d(y,v,h,w,null);hi(y,h)}return null}function p(y,v,h,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(h)||null,a(v,y,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ri:return y=y.get(w.key===null?h:w.key)||null,s(v,y,w,_);case An:return y=y.get(w.key===null?h:w.key)||null,c(v,y,w,_);case zt:var b=w._init;return p(y,v,h,b(w._payload),_)}if(yr(w)||sr(w))return y=y.get(h)||null,d(v,y,w,_,null);hi(v,w)}return null}function m(y,v,h,w){for(var _=null,b=null,S=v,k=v=0,C=null;S!==null&&k<h.length;k++){S.index>k?(C=S,S=null):C=S.sibling;var E=u(y,S,h[k],w);if(E===null){S===null&&(S=C);break}r&&S&&E.alternate===null&&e(y,S),v=o(E,v,k),b===null?_=E:b.sibling=E,b=E,S=C}if(k===h.length)return t(y,S),re&&cn(y,k),_;if(S===null){for(;k<h.length;k++)S=f(y,h[k],w),S!==null&&(v=o(S,v,k),b===null?_=S:b.sibling=S,b=S);return re&&cn(y,k),_}for(S=n(y,S);k<h.length;k++)C=p(S,y,k,h[k],w),C!==null&&(r&&C.alternate!==null&&S.delete(C.key===null?k:C.key),v=o(C,v,k),b===null?_=C:b.sibling=C,b=C);return r&&S.forEach(function(L){return e(y,L)}),re&&cn(y,k),_}function g(y,v,h,w){var _=sr(h);if(typeof _!="function")throw Error(P(150));if(h=_.call(h),h==null)throw Error(P(151));for(var b=_=null,S=v,k=v=0,C=null,E=h.next();S!==null&&!E.done;k++,E=h.next()){S.index>k?(C=S,S=null):C=S.sibling;var L=u(y,S,E.value,w);if(L===null){S===null&&(S=C);break}r&&S&&L.alternate===null&&e(y,S),v=o(L,v,k),b===null?_=L:b.sibling=L,b=L,S=C}if(E.done)return t(y,S),re&&cn(y,k),_;if(S===null){for(;!E.done;k++,E=h.next())E=f(y,E.value,w),E!==null&&(v=o(E,v,k),b===null?_=E:b.sibling=E,b=E);return re&&cn(y,k),_}for(S=n(y,S);!E.done;k++,E=h.next())E=p(S,y,k,E.value,w),E!==null&&(r&&E.alternate!==null&&S.delete(E.key===null?k:E.key),v=o(E,v,k),b===null?_=E:b.sibling=E,b=E);return r&&S.forEach(function(B){return e(y,B)}),re&&cn(y,k),_}function x(y,v,h,w){if(typeof h=="object"&&h!==null&&h.type===Mn&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case ri:e:{for(var _=h.key,b=v;b!==null;){if(b.key===_){if(_=h.type,_===Mn){if(b.tag===7){t(y,b.sibling),v=i(b,h.props.children),v.return=y,y=v;break e}}else if(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===zt&&Hs(_)===b.type){t(y,b.sibling),v=i(b,h.props),v.ref=pr(y,b,h),v.return=y,y=v;break e}t(y,b);break}else e(y,b);b=b.sibling}h.type===Mn?(v=vn(h.props.children,y.mode,w,h.key),v.return=y,y=v):(w=Mi(h.type,h.key,h.props,null,y.mode,w),w.ref=pr(y,v,h),w.return=y,y=w)}return l(y);case An:e:{for(b=h.key;v!==null;){if(v.key===b)if(v.tag===4&&v.stateNode.containerInfo===h.containerInfo&&v.stateNode.implementation===h.implementation){t(y,v.sibling),v=i(v,h.children||[]),v.return=y,y=v;break e}else{t(y,v);break}else e(y,v);v=v.sibling}v=el(h,y.mode,w),v.return=y,y=v}return l(y);case zt:return b=h._init,x(y,v,b(h._payload),w)}if(yr(h))return m(y,v,h,w);if(sr(h))return g(y,v,h,w);hi(y,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,v!==null&&v.tag===6?(t(y,v.sibling),v=i(v,h),v.return=y,y=v):(t(y,v),v=Zo(h,y.mode,w),v.return=y,y=v),l(y)):t(y,v)}return x}var Jn=Fc(!0),Hc=Fc(!1),qi=nn(null),Wi=null,zn=null,Na=null;function Ia(){Na=zn=Wi=null}function La(r){var e=qi.current;ne(qi),r._currentValue=e}function Pl(r,e,t){for(;r!==null;){var n=r.alternate;if((r.childLanes&e)!==e?(r.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),r===t)break;r=r.return}}function Xn(r,e){Wi=r,Na=zn=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&e&&(Te=!0),r.firstContext=null)}function et(r){var e=r._currentValue;if(Na!==r)if(r={context:r,memoizedValue:e,next:null},zn===null){if(Wi===null)throw Error(P(308));zn=r,Wi.dependencies={lanes:0,firstContext:r}}else zn=zn.next=r;return e}var pn=null;function Aa(r){pn===null?pn=[r]:pn.push(r)}function jc(r,e,t,n){var i=e.interleaved;return i===null?(t.next=t,Aa(e)):(t.next=i.next,i.next=t),e.interleaved=t,At(r,n)}function At(r,e){r.lanes|=e;var t=r.alternate;for(t!==null&&(t.lanes|=e),t=r,r=r.return;r!==null;)r.childLanes|=e,t=r.alternate,t!==null&&(t.childLanes|=e),t=r,r=r.return;return t.tag===3?t.stateNode:null}var Ft=!1;function Ma(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $c(r,e){r=r.updateQueue,e.updateQueue===r&&(e.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Nt(r,e){return{eventTime:r,lane:e,tag:0,payload:null,callback:null,next:null}}function Kt(r,e,t){var n=r.updateQueue;if(n===null)return null;if(n=n.shared,G&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,At(r,t)}return i=n.interleaved,i===null?(e.next=e,Aa(n)):(e.next=i.next,i.next=e),n.interleaved=e,At(r,t)}function Ci(r,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var n=e.lanes;n&=r.pendingLanes,t|=n,e.lanes=t,ga(r,t)}}function js(r,e){var t=r.updateQueue,n=r.alternate;if(n!==null&&(n=n.updateQueue,t===n)){var i=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var l={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};o===null?i=o=l:o=o.next=l,t=t.next}while(t!==null);o===null?i=o=e:o=o.next=e}else i=o=e;t={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},r.updateQueue=t;return}r=t.lastBaseUpdate,r===null?t.firstBaseUpdate=e:r.next=e,t.lastBaseUpdate=e}function Ki(r,e,t,n){var i=r.updateQueue;Ft=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var s=a,c=s.next;s.next=null,l===null?o=c:l.next=c,l=s;var d=r.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==l&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=s))}if(o!==null){var f=i.baseState;l=0,d=c=s=null,a=o;do{var u=a.lane,p=a.eventTime;if((n&u)===u){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=r,g=a;switch(u=e,p=t,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,u);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,u=typeof m=="function"?m.call(p,f,u):m,u==null)break e;f=le({},f,u);break e;case 2:Ft=!0}}a.callback!==null&&a.lane!==0&&(r.flags|=64,u=i.effects,u===null?i.effects=[a]:u.push(a))}else p={eventTime:p,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,s=f):d=d.next=p,l|=u;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;u=a,a=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}while(!0);if(d===null&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);wn|=l,r.lanes=l,r.memoizedState=f}}function $s(r,e,t){if(r=e.effects,e.effects=null,r!==null)for(e=0;e<r.length;e++){var n=r[e],i=n.callback;if(i!==null){if(n.callback=null,n=t,typeof i!="function")throw Error(P(191,i));i.call(n)}}}var Qr={},yt=nn(Qr),Hr=nn(Qr),jr=nn(Qr);function hn(r){if(r===Qr)throw Error(P(174));return r}function Oa(r,e){switch(ee(jr,e),ee(Hr,r),ee(yt,Qr),r=e.nodeType,r){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:hl(null,"");break;default:r=r===8?e.parentNode:e,e=r.namespaceURI||null,r=r.tagName,e=hl(e,r)}ne(yt),ee(yt,e)}function Qn(){ne(yt),ne(Hr),ne(jr)}function Vc(r){hn(jr.current);var e=hn(yt.current),t=hl(e,r.type);e!==t&&(ee(Hr,r),ee(yt,t))}function Ra(r){Hr.current===r&&(ne(yt),ne(Hr))}var ie=nn(0);function Gi(r){for(var e=r;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qo=[];function Pa(){for(var r=0;r<qo.length;r++)qo[r]._workInProgressVersionPrimary=null;qo.length=0}var Ei=Ot.ReactCurrentDispatcher,Wo=Ot.ReactCurrentBatchConfig,_n=0,oe=null,he=null,ge=null,Ji=!1,Er=!1,$r=0,ap=0;function Ce(){throw Error(P(321))}function Ua(r,e){if(e===null)return!1;for(var t=0;t<e.length&&t<r.length;t++)if(!ct(r[t],e[t]))return!1;return!0}function Ta(r,e,t,n,i,o){if(_n=o,oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ei.current=r===null||r.memoizedState===null?up:fp,r=t(n,i),Er){o=0;do{if(Er=!1,$r=0,25<=o)throw Error(P(301));o+=1,ge=he=null,e.updateQueue=null,Ei.current=pp,r=t(n,i)}while(Er)}if(Ei.current=Qi,e=he!==null&&he.next!==null,_n=0,ge=he=oe=null,Ji=!1,e)throw Error(P(300));return r}function Ba(){var r=$r!==0;return $r=0,r}function mt(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?oe.memoizedState=ge=r:ge=ge.next=r,ge}function tt(){if(he===null){var r=oe.alternate;r=r!==null?r.memoizedState:null}else r=he.next;var e=ge===null?oe.memoizedState:ge.next;if(e!==null)ge=e,he=r;else{if(r===null)throw Error(P(310));he=r,r={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},ge===null?oe.memoizedState=ge=r:ge=ge.next=r}return ge}function Vr(r,e){return typeof e=="function"?e(r):e}function Ko(r){var e=tt(),t=e.queue;if(t===null)throw Error(P(311));t.lastRenderedReducer=r;var n=he,i=n.baseQueue,o=t.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}n.baseQueue=i=o,t.pending=null}if(i!==null){o=i.next,n=n.baseState;var a=l=null,s=null,c=o;do{var d=c.lane;if((_n&d)===d)s!==null&&(s=s.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:r(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};s===null?(a=s=f,l=n):s=s.next=f,oe.lanes|=d,wn|=d}c=c.next}while(c!==null&&c!==o);s===null?l=n:s.next=a,ct(n,e.memoizedState)||(Te=!0),e.memoizedState=n,e.baseState=l,e.baseQueue=s,t.lastRenderedState=n}if(r=t.interleaved,r!==null){i=r;do o=i.lane,oe.lanes|=o,wn|=o,i=i.next;while(i!==r)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Go(r){var e=tt(),t=e.queue;if(t===null)throw Error(P(311));t.lastRenderedReducer=r;var n=t.dispatch,i=t.pending,o=e.memoizedState;if(i!==null){t.pending=null;var l=i=i.next;do o=r(o,l.action),l=l.next;while(l!==i);ct(o,e.memoizedState)||(Te=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),t.lastRenderedState=o}return[o,n]}function Yc(){}function Xc(r,e){var t=oe,n=tt(),i=e(),o=!ct(n.memoizedState,i);if(o&&(n.memoizedState=i,Te=!0),n=n.queue,Da(Kc.bind(null,t,n,r),[r]),n.getSnapshot!==e||o||ge!==null&&ge.memoizedState.tag&1){if(t.flags|=2048,Yr(9,Wc.bind(null,t,n,i,e),void 0,null),ve===null)throw Error(P(349));_n&30||qc(t,e,i)}return i}function qc(r,e,t){r.flags|=16384,r={getSnapshot:e,value:t},e=oe.updateQueue,e===null?(e={lastEffect:null,stores:null},oe.updateQueue=e,e.stores=[r]):(t=e.stores,t===null?e.stores=[r]:t.push(r))}function Wc(r,e,t,n){e.value=t,e.getSnapshot=n,Gc(e)&&Jc(r)}function Kc(r,e,t){return t(function(){Gc(e)&&Jc(r)})}function Gc(r){var e=r.getSnapshot;r=r.value;try{var t=e();return!ct(r,t)}catch{return!0}}function Jc(r){var e=At(r,1);e!==null&&dt(e,r,1,-1)}function Vs(r){var e=mt();return typeof r=="function"&&(r=r()),e.memoizedState=e.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:r},e.queue=r,r=r.dispatch=cp.bind(null,oe,r),[e.memoizedState,r]}function Yr(r,e,t,n){return r={tag:r,create:e,destroy:t,deps:n,next:null},e=oe.updateQueue,e===null?(e={lastEffect:null,stores:null},oe.updateQueue=e,e.lastEffect=r.next=r):(t=e.lastEffect,t===null?e.lastEffect=r.next=r:(n=t.next,t.next=r,r.next=n,e.lastEffect=r)),r}function Qc(){return tt().memoizedState}function Ni(r,e,t,n){var i=mt();oe.flags|=r,i.memoizedState=Yr(1|e,t,void 0,n===void 0?null:n)}function ho(r,e,t,n){var i=tt();n=n===void 0?null:n;var o=void 0;if(he!==null){var l=he.memoizedState;if(o=l.destroy,n!==null&&Ua(n,l.deps)){i.memoizedState=Yr(e,t,o,n);return}}oe.flags|=r,i.memoizedState=Yr(1|e,t,o,n)}function Ys(r,e){return Ni(8390656,8,r,e)}function Da(r,e){return ho(2048,8,r,e)}function Zc(r,e){return ho(4,2,r,e)}function eu(r,e){return ho(4,4,r,e)}function tu(r,e){if(typeof e=="function")return r=r(),e(r),function(){e(null)};if(e!=null)return r=r(),e.current=r,function(){e.current=null}}function nu(r,e,t){return t=t!=null?t.concat([r]):null,ho(4,4,tu.bind(null,e,r),t)}function za(){}function ru(r,e){var t=tt();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&Ua(e,n[1])?n[0]:(t.memoizedState=[r,e],r)}function iu(r,e){var t=tt();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&Ua(e,n[1])?n[0]:(r=r(),t.memoizedState=[r,e],r)}function ou(r,e,t){return _n&21?(ct(t,e)||(t=cc(),oe.lanes|=t,wn|=t,r.baseState=!0),e):(r.baseState&&(r.baseState=!1,Te=!0),r.memoizedState=t)}function sp(r,e){var t=Z;Z=t!==0&&4>t?t:4,r(!0);var n=Wo.transition;Wo.transition={};try{r(!1),e()}finally{Z=t,Wo.transition=n}}function lu(){return tt().memoizedState}function dp(r,e,t){var n=Jt(r);if(t={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null},au(r))su(e,t);else if(t=jc(r,e,t,n),t!==null){var i=Oe();dt(t,r,n,i),du(t,e,n)}}function cp(r,e,t){var n=Jt(r),i={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null};if(au(r))su(e,i);else{var o=r.alternate;if(r.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,a=o(l,t);if(i.hasEagerState=!0,i.eagerState=a,ct(a,l)){var s=e.interleaved;s===null?(i.next=i,Aa(e)):(i.next=s.next,s.next=i),e.interleaved=i;return}}catch{}finally{}t=jc(r,e,i,n),t!==null&&(i=Oe(),dt(t,r,n,i),du(t,e,n))}}function au(r){var e=r.alternate;return r===oe||e!==null&&e===oe}function su(r,e){Er=Ji=!0;var t=r.pending;t===null?e.next=e:(e.next=t.next,t.next=e),r.pending=e}function du(r,e,t){if(t&4194240){var n=e.lanes;n&=r.pendingLanes,t|=n,e.lanes=t,ga(r,t)}}var Qi={readContext:et,useCallback:Ce,useContext:Ce,useEffect:Ce,useImperativeHandle:Ce,useInsertionEffect:Ce,useLayoutEffect:Ce,useMemo:Ce,useReducer:Ce,useRef:Ce,useState:Ce,useDebugValue:Ce,useDeferredValue:Ce,useTransition:Ce,useMutableSource:Ce,useSyncExternalStore:Ce,useId:Ce,unstable_isNewReconciler:!1},up={readContext:et,useCallback:function(r,e){return mt().memoizedState=[r,e===void 0?null:e],r},useContext:et,useEffect:Ys,useImperativeHandle:function(r,e,t){return t=t!=null?t.concat([r]):null,Ni(4194308,4,tu.bind(null,e,r),t)},useLayoutEffect:function(r,e){return Ni(4194308,4,r,e)},useInsertionEffect:function(r,e){return Ni(4,2,r,e)},useMemo:function(r,e){var t=mt();return e=e===void 0?null:e,r=r(),t.memoizedState=[r,e],r},useReducer:function(r,e,t){var n=mt();return e=t!==void 0?t(e):e,n.memoizedState=n.baseState=e,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:e},n.queue=r,r=r.dispatch=dp.bind(null,oe,r),[n.memoizedState,r]},useRef:function(r){var e=mt();return r={current:r},e.memoizedState=r},useState:Vs,useDebugValue:za,useDeferredValue:function(r){return mt().memoizedState=r},useTransition:function(){var r=Vs(!1),e=r[0];return r=sp.bind(null,r[1]),mt().memoizedState=r,[e,r]},useMutableSource:function(){},useSyncExternalStore:function(r,e,t){var n=oe,i=mt();if(re){if(t===void 0)throw Error(P(407));t=t()}else{if(t=e(),ve===null)throw Error(P(349));_n&30||qc(n,e,t)}i.memoizedState=t;var o={value:t,getSnapshot:e};return i.queue=o,Ys(Kc.bind(null,n,o,r),[r]),n.flags|=2048,Yr(9,Wc.bind(null,n,o,t,e),void 0,null),t},useId:function(){var r=mt(),e=ve.identifierPrefix;if(re){var t=Et,n=Ct;t=(n&~(1<<32-st(n)-1)).toString(32)+t,e=":"+e+"R"+t,t=$r++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=ap++,e=":"+e+"r"+t.toString(32)+":";return r.memoizedState=e},unstable_isNewReconciler:!1},fp={readContext:et,useCallback:ru,useContext:et,useEffect:Da,useImperativeHandle:nu,useInsertionEffect:Zc,useLayoutEffect:eu,useMemo:iu,useReducer:Ko,useRef:Qc,useState:function(){return Ko(Vr)},useDebugValue:za,useDeferredValue:function(r){var e=tt();return ou(e,he.memoizedState,r)},useTransition:function(){var r=Ko(Vr)[0],e=tt().memoizedState;return[r,e]},useMutableSource:Yc,useSyncExternalStore:Xc,useId:lu,unstable_isNewReconciler:!1},pp={readContext:et,useCallback:ru,useContext:et,useEffect:Da,useImperativeHandle:nu,useInsertionEffect:Zc,useLayoutEffect:eu,useMemo:iu,useReducer:Go,useRef:Qc,useState:function(){return Go(Vr)},useDebugValue:za,useDeferredValue:function(r){var e=tt();return he===null?e.memoizedState=r:ou(e,he.memoizedState,r)},useTransition:function(){var r=Go(Vr)[0],e=tt().memoizedState;return[r,e]},useMutableSource:Yc,useSyncExternalStore:Xc,useId:lu,unstable_isNewReconciler:!1};function ot(r,e){if(r&&r.defaultProps){e=le({},e),r=r.defaultProps;for(var t in r)e[t]===void 0&&(e[t]=r[t]);return e}return e}function Ul(r,e,t,n){e=r.memoizedState,t=t(n,e),t=t==null?e:le({},e,t),r.memoizedState=t,r.lanes===0&&(r.updateQueue.baseState=t)}var mo={isMounted:function(r){return(r=r._reactInternals)?En(r)===r:!1},enqueueSetState:function(r,e,t){r=r._reactInternals;var n=Oe(),i=Jt(r),o=Nt(n,i);o.payload=e,t!=null&&(o.callback=t),e=Kt(r,o,i),e!==null&&(dt(e,r,i,n),Ci(e,r,i))},enqueueReplaceState:function(r,e,t){r=r._reactInternals;var n=Oe(),i=Jt(r),o=Nt(n,i);o.tag=1,o.payload=e,t!=null&&(o.callback=t),e=Kt(r,o,i),e!==null&&(dt(e,r,i,n),Ci(e,r,i))},enqueueForceUpdate:function(r,e){r=r._reactInternals;var t=Oe(),n=Jt(r),i=Nt(t,n);i.tag=2,e!=null&&(i.callback=e),e=Kt(r,i,n),e!==null&&(dt(e,r,n,t),Ci(e,r,n))}};function Xs(r,e,t,n,i,o,l){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(n,o,l):e.prototype&&e.prototype.isPureReactComponent?!Br(t,n)||!Br(i,o):!0}function cu(r,e,t){var n=!1,i=en,o=e.contextType;return typeof o=="object"&&o!==null?o=et(o):(i=De(e)?xn:Ie.current,n=e.contextTypes,o=(n=n!=null)?Kn(r,i):en),e=new e(t,o),r.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mo,r.stateNode=e,e._reactInternals=r,n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=o),e}function qs(r,e,t,n){r=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,n),e.state!==r&&mo.enqueueReplaceState(e,e.state,null)}function Tl(r,e,t,n){var i=r.stateNode;i.props=t,i.state=r.memoizedState,i.refs={},Ma(r);var o=e.contextType;typeof o=="object"&&o!==null?i.context=et(o):(o=De(e)?xn:Ie.current,i.context=Kn(r,o)),i.state=r.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Ul(r,e,o,t),i.state=r.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&mo.enqueueReplaceState(i,i.state,null),Ki(r,t,i,n),i.state=r.memoizedState),typeof i.componentDidMount=="function"&&(r.flags|=4194308)}function Zn(r,e){try{var t="",n=e;do t+=F1(n),n=n.return;while(n);var i=t}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:r,source:e,stack:i,digest:null}}function Jo(r,e,t){return{value:r,source:null,stack:t??null,digest:e??null}}function Bl(r,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var hp=typeof WeakMap=="function"?WeakMap:Map;function uu(r,e,t){t=Nt(-1,t),t.tag=3,t.payload={element:null};var n=e.value;return t.callback=function(){eo||(eo=!0,ql=n),Bl(r,e)},t}function fu(r,e,t){t=Nt(-1,t),t.tag=3;var n=r.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;t.payload=function(){return n(i)},t.callback=function(){Bl(r,e)}}var o=r.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){Bl(r,e),typeof n!="function"&&(Gt===null?Gt=new Set([this]):Gt.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),t}function Ws(r,e,t){var n=r.pingCache;if(n===null){n=r.pingCache=new hp;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(t)||(i.add(t),r=Ip.bind(null,r,e,t),e.then(r,r))}function Ks(r){do{var e;if((e=r.tag===13)&&(e=r.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return r;r=r.return}while(r!==null);return null}function Gs(r,e,t,n,i){return r.mode&1?(r.flags|=65536,r.lanes=i,r):(r===e?r.flags|=65536:(r.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Nt(-1,1),e.tag=2,Kt(t,e,1))),t.lanes|=1),r)}var mp=Ot.ReactCurrentOwner,Te=!1;function Me(r,e,t,n){e.child=r===null?Hc(e,null,t,n):Jn(e,r.child,t,n)}function Js(r,e,t,n,i){t=t.render;var o=e.ref;return Xn(e,i),n=Ta(r,e,t,n,o,i),t=Ba(),r!==null&&!Te?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~i,Mt(r,e,i)):(re&&t&&ka(e),e.flags|=1,Me(r,e,n,i),e.child)}function Qs(r,e,t,n,i){if(r===null){var o=t.type;return typeof o=="function"&&!qa(o)&&o.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=o,pu(r,e,o,n,i)):(r=Mi(t.type,null,n,e,e.mode,i),r.ref=e.ref,r.return=e,e.child=r)}if(o=r.child,!(r.lanes&i)){var l=o.memoizedProps;if(t=t.compare,t=t!==null?t:Br,t(l,n)&&r.ref===e.ref)return Mt(r,e,i)}return e.flags|=1,r=Qt(o,n),r.ref=e.ref,r.return=e,e.child=r}function pu(r,e,t,n,i){if(r!==null){var o=r.memoizedProps;if(Br(o,n)&&r.ref===e.ref)if(Te=!1,e.pendingProps=n=o,(r.lanes&i)!==0)r.flags&131072&&(Te=!0);else return e.lanes=r.lanes,Mt(r,e,i)}return Dl(r,e,t,n,i)}function hu(r,e,t){var n=e.pendingProps,i=n.children,o=r!==null?r.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(Hn,je),je|=t;else{if(!(t&1073741824))return r=o!==null?o.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:r,cachePool:null,transitions:null},e.updateQueue=null,ee(Hn,je),je|=r,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:t,ee(Hn,je),je|=n}else o!==null?(n=o.baseLanes|t,e.memoizedState=null):n=t,ee(Hn,je),je|=n;return Me(r,e,i,t),e.child}function mu(r,e){var t=e.ref;(r===null&&t!==null||r!==null&&r.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Dl(r,e,t,n,i){var o=De(t)?xn:Ie.current;return o=Kn(e,o),Xn(e,i),t=Ta(r,e,t,n,o,i),n=Ba(),r!==null&&!Te?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~i,Mt(r,e,i)):(re&&n&&ka(e),e.flags|=1,Me(r,e,t,i),e.child)}function Zs(r,e,t,n,i){if(De(t)){var o=!0;Vi(e)}else o=!1;if(Xn(e,i),e.stateNode===null)Ii(r,e),cu(e,t,n),Tl(e,t,n,i),n=!0;else if(r===null){var l=e.stateNode,a=e.memoizedProps;l.props=a;var s=l.context,c=t.contextType;typeof c=="object"&&c!==null?c=et(c):(c=De(t)?xn:Ie.current,c=Kn(e,c));var d=t.getDerivedStateFromProps,f=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";f||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==n||s!==c)&&qs(e,l,n,c),Ft=!1;var u=e.memoizedState;l.state=u,Ki(e,n,l,i),s=e.memoizedState,a!==n||u!==s||Be.current||Ft?(typeof d=="function"&&(Ul(e,t,d,n),s=e.memoizedState),(a=Ft||Xs(e,t,a,n,u,s,c))?(f||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=s),l.props=n,l.state=s,l.context=c,n=a):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{l=e.stateNode,$c(r,e),a=e.memoizedProps,c=e.type===e.elementType?a:ot(e.type,a),l.props=c,f=e.pendingProps,u=l.context,s=t.contextType,typeof s=="object"&&s!==null?s=et(s):(s=De(t)?xn:Ie.current,s=Kn(e,s));var p=t.getDerivedStateFromProps;(d=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==f||u!==s)&&qs(e,l,n,s),Ft=!1,u=e.memoizedState,l.state=u,Ki(e,n,l,i);var m=e.memoizedState;a!==f||u!==m||Be.current||Ft?(typeof p=="function"&&(Ul(e,t,p,n),m=e.memoizedState),(c=Ft||Xs(e,t,c,n,u,m,s)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,m,s),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,m,s)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||a===r.memoizedProps&&u===r.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===r.memoizedProps&&u===r.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),l.props=n,l.state=m,l.context=s,n=c):(typeof l.componentDidUpdate!="function"||a===r.memoizedProps&&u===r.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===r.memoizedProps&&u===r.memoizedState||(e.flags|=1024),n=!1)}return zl(r,e,t,n,o,i)}function zl(r,e,t,n,i,o){mu(r,e);var l=(e.flags&128)!==0;if(!n&&!l)return i&&Ds(e,t,!1),Mt(r,e,o);n=e.stateNode,mp.current=e;var a=l&&typeof t.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,r!==null&&l?(e.child=Jn(e,r.child,null,o),e.child=Jn(e,null,a,o)):Me(r,e,a,o),e.memoizedState=n.state,i&&Ds(e,t,!0),e.child}function gu(r){var e=r.stateNode;e.pendingContext?Bs(r,e.pendingContext,e.pendingContext!==e.context):e.context&&Bs(r,e.context,!1),Oa(r,e.containerInfo)}function ed(r,e,t,n,i){return Gn(),Ea(i),e.flags|=256,Me(r,e,t,n),e.child}var Fl={dehydrated:null,treeContext:null,retryLane:0};function Hl(r){return{baseLanes:r,cachePool:null,transitions:null}}function vu(r,e,t){var n=e.pendingProps,i=ie.current,o=!1,l=(e.flags&128)!==0,a;if((a=l)||(a=r!==null&&r.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(r===null||r.memoizedState!==null)&&(i|=1),ee(ie,i&1),r===null)return Rl(e),r=e.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(e.mode&1?r.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=n.children,r=n.fallback,o?(n=e.mode,o=e.child,l={mode:"hidden",children:l},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=yo(l,n,0,null),r=vn(r,n,t,null),o.return=e,r.return=e,o.sibling=r,e.child=o,e.child.memoizedState=Hl(t),e.memoizedState=Fl,r):Fa(e,l));if(i=r.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return gp(r,e,l,n,a,i,t);if(o){o=n.fallback,l=e.mode,i=r.child,a=i.sibling;var s={mode:"hidden",children:n.children};return!(l&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=s,e.deletions=null):(n=Qt(i,s),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Qt(a,o):(o=vn(o,l,t,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,l=r.child.memoizedState,l=l===null?Hl(t):{baseLanes:l.baseLanes|t,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=r.childLanes&~t,e.memoizedState=Fl,n}return o=r.child,r=o.sibling,n=Qt(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=t),n.return=e,n.sibling=null,r!==null&&(t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)),e.child=n,e.memoizedState=null,n}function Fa(r,e){return e=yo({mode:"visible",children:e},r.mode,0,null),e.return=r,r.child=e}function mi(r,e,t,n){return n!==null&&Ea(n),Jn(e,r.child,null,t),r=Fa(e,e.pendingProps.children),r.flags|=2,e.memoizedState=null,r}function gp(r,e,t,n,i,o,l){if(t)return e.flags&256?(e.flags&=-257,n=Jo(Error(P(422))),mi(r,e,l,n)):e.memoizedState!==null?(e.child=r.child,e.flags|=128,null):(o=n.fallback,i=e.mode,n=yo({mode:"visible",children:n.children},i,0,null),o=vn(o,i,l,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&Jn(e,r.child,null,l),e.child.memoizedState=Hl(l),e.memoizedState=Fl,o);if(!(e.mode&1))return mi(r,e,l,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(P(419)),n=Jo(o,n,void 0),mi(r,e,l,n)}if(a=(l&r.childLanes)!==0,Te||a){if(n=ve,n!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,At(r,i),dt(n,r,i,-1))}return Xa(),n=Jo(Error(P(421))),mi(r,e,l,n)}return i.data==="$?"?(e.flags|=128,e.child=r.child,e=Lp.bind(null,r),i._reactRetry=e,null):(r=o.treeContext,$e=Wt(i.nextSibling),Ve=e,re=!0,at=null,r!==null&&(Ge[Je++]=Ct,Ge[Je++]=Et,Ge[Je++]=bn,Ct=r.id,Et=r.overflow,bn=e),e=Fa(e,n.children),e.flags|=4096,e)}function td(r,e,t){r.lanes|=e;var n=r.alternate;n!==null&&(n.lanes|=e),Pl(r.return,e,t)}function Qo(r,e,t,n,i){var o=r.memoizedState;o===null?r.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:t,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=t,o.tailMode=i)}function yu(r,e,t){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(Me(r,e,n.children,t),n=ie.current,n&2)n=n&1|2,e.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=e.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&td(r,t,e);else if(r.tag===19)td(r,t,e);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}n&=1}if(ee(ie,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)r=t.alternate,r!==null&&Gi(r)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),Qo(e,!1,i,t,o);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(r=i.alternate,r!==null&&Gi(r)===null){e.child=i;break}r=i.sibling,i.sibling=t,t=i,i=r}Qo(e,!0,t,null,o);break;case"together":Qo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ii(r,e){!(e.mode&1)&&r!==null&&(r.alternate=null,e.alternate=null,e.flags|=2)}function Mt(r,e,t){if(r!==null&&(e.dependencies=r.dependencies),wn|=e.lanes,!(t&e.childLanes))return null;if(r!==null&&e.child!==r.child)throw Error(P(153));if(e.child!==null){for(r=e.child,t=Qt(r,r.pendingProps),e.child=t,t.return=e;r.sibling!==null;)r=r.sibling,t=t.sibling=Qt(r,r.pendingProps),t.return=e;t.sibling=null}return e.child}function vp(r,e,t){switch(e.tag){case 3:gu(e),Gn();break;case 5:Vc(e);break;case 1:De(e.type)&&Vi(e);break;case 4:Oa(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;ee(qi,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ee(ie,ie.current&1),e.flags|=128,null):t&e.child.childLanes?vu(r,e,t):(ee(ie,ie.current&1),r=Mt(r,e,t),r!==null?r.sibling:null);ee(ie,ie.current&1);break;case 19:if(n=(t&e.childLanes)!==0,r.flags&128){if(n)return yu(r,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ee(ie,ie.current),n)break;return null;case 22:case 23:return e.lanes=0,hu(r,e,t)}return Mt(r,e,t)}var xu,jl,bu,_u;xu=function(r,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)r.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};jl=function(){};bu=function(r,e,t,n){var i=r.memoizedProps;if(i!==n){r=e.stateNode,hn(yt.current);var o=null;switch(t){case"input":i=cl(r,i),n=cl(r,n),o=[];break;case"select":i=le({},i,{value:void 0}),n=le({},n,{value:void 0}),o=[];break;case"textarea":i=pl(r,i),n=pl(r,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(r.onclick=ji)}ml(t,n);var l;t=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(l in a)a.hasOwnProperty(l)&&(t||(t={}),t[l]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ar.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var s=n[c];if(a=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&s!==a&&(s!=null||a!=null))if(c==="style")if(a){for(l in a)!a.hasOwnProperty(l)||s&&s.hasOwnProperty(l)||(t||(t={}),t[l]="");for(l in s)s.hasOwnProperty(l)&&a[l]!==s[l]&&(t||(t={}),t[l]=s[l])}else t||(o||(o=[]),o.push(c,t)),t=s;else c==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,a=a?a.__html:void 0,s!=null&&a!==s&&(o=o||[]).push(c,s)):c==="children"?typeof s!="string"&&typeof s!="number"||(o=o||[]).push(c,""+s):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ar.hasOwnProperty(c)?(s!=null&&c==="onScroll"&&te("scroll",r),o||a===s||(o=[])):(o=o||[]).push(c,s))}t&&(o=o||[]).push("style",t);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};_u=function(r,e,t,n){t!==n&&(e.flags|=4)};function hr(r,e){if(!re)switch(r.tailMode){case"hidden":e=r.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?r.tail=null:t.sibling=null;break;case"collapsed":t=r.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e||r.tail===null?r.tail=null:r.tail.sibling=null:n.sibling=null}}function Ee(r){var e=r.alternate!==null&&r.alternate.child===r.child,t=0,n=0;if(e)for(var i=r.child;i!==null;)t|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=r,i=i.sibling;else for(i=r.child;i!==null;)t|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=r,i=i.sibling;return r.subtreeFlags|=n,r.childLanes=t,e}function yp(r,e,t){var n=e.pendingProps;switch(Ca(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(e),null;case 1:return De(e.type)&&$i(),Ee(e),null;case 3:return n=e.stateNode,Qn(),ne(Be),ne(Ie),Pa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(r===null||r.child===null)&&(pi(e)?e.flags|=4:r===null||r.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,at!==null&&(Gl(at),at=null))),jl(r,e),Ee(e),null;case 5:Ra(e);var i=hn(jr.current);if(t=e.type,r!==null&&e.stateNode!=null)bu(r,e,t,n,i),r.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(P(166));return Ee(e),null}if(r=hn(yt.current),pi(e)){n=e.stateNode,t=e.type;var o=e.memoizedProps;switch(n[gt]=e,n[Fr]=o,r=(e.mode&1)!==0,t){case"dialog":te("cancel",n),te("close",n);break;case"iframe":case"object":case"embed":te("load",n);break;case"video":case"audio":for(i=0;i<br.length;i++)te(br[i],n);break;case"source":te("error",n);break;case"img":case"image":case"link":te("error",n),te("load",n);break;case"details":te("toggle",n);break;case"input":cs(n,o),te("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},te("invalid",n);break;case"textarea":fs(n,o),te("invalid",n)}ml(t,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var a=o[l];l==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&fi(n.textContent,a,r),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&fi(n.textContent,a,r),i=["children",""+a]):Ar.hasOwnProperty(l)&&a!=null&&l==="onScroll"&&te("scroll",n)}switch(t){case"input":ii(n),us(n,o,!0);break;case"textarea":ii(n),ps(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=ji)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Kd(t)),r==="http://www.w3.org/1999/xhtml"?t==="script"?(r=l.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof n.is=="string"?r=l.createElement(t,{is:n.is}):(r=l.createElement(t),t==="select"&&(l=r,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):r=l.createElementNS(r,t),r[gt]=e,r[Fr]=n,xu(r,e,!1,!1),e.stateNode=r;e:{switch(l=gl(t,n),t){case"dialog":te("cancel",r),te("close",r),i=n;break;case"iframe":case"object":case"embed":te("load",r),i=n;break;case"video":case"audio":for(i=0;i<br.length;i++)te(br[i],r);i=n;break;case"source":te("error",r),i=n;break;case"img":case"image":case"link":te("error",r),te("load",r),i=n;break;case"details":te("toggle",r),i=n;break;case"input":cs(r,n),i=cl(r,n),te("invalid",r);break;case"option":i=n;break;case"select":r._wrapperState={wasMultiple:!!n.multiple},i=le({},n,{value:void 0}),te("invalid",r);break;case"textarea":fs(r,n),i=pl(r,n),te("invalid",r);break;default:i=n}ml(t,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="style"?Qd(r,s):o==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,s!=null&&Gd(r,s)):o==="children"?typeof s=="string"?(t!=="textarea"||s!=="")&&Mr(r,s):typeof s=="number"&&Mr(r,""+s):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ar.hasOwnProperty(o)?s!=null&&o==="onScroll"&&te("scroll",r):s!=null&&ca(r,o,s,l))}switch(t){case"input":ii(r),us(r,n,!1);break;case"textarea":ii(r),ps(r);break;case"option":n.value!=null&&r.setAttribute("value",""+Zt(n.value));break;case"select":r.multiple=!!n.multiple,o=n.value,o!=null?jn(r,!!n.multiple,o,!1):n.defaultValue!=null&&jn(r,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(r.onclick=ji)}switch(t){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ee(e),null;case 6:if(r&&e.stateNode!=null)_u(r,e,r.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(P(166));if(t=hn(jr.current),hn(yt.current),pi(e)){if(n=e.stateNode,t=e.memoizedProps,n[gt]=e,(o=n.nodeValue!==t)&&(r=Ve,r!==null))switch(r.tag){case 3:fi(n.nodeValue,t,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&fi(n.nodeValue,t,(r.mode&1)!==0)}o&&(e.flags|=4)}else n=(t.nodeType===9?t:t.ownerDocument).createTextNode(n),n[gt]=e,e.stateNode=n}return Ee(e),null;case 13:if(ne(ie),n=e.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(re&&$e!==null&&e.mode&1&&!(e.flags&128))zc(),Gn(),e.flags|=98560,o=!1;else if(o=pi(e),n!==null&&n.dehydrated!==null){if(r===null){if(!o)throw Error(P(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(P(317));o[gt]=e}else Gn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ee(e),o=!1}else at!==null&&(Gl(at),at=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(n=n!==null,n!==(r!==null&&r.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(r===null||ie.current&1?me===0&&(me=3):Xa())),e.updateQueue!==null&&(e.flags|=4),Ee(e),null);case 4:return Qn(),jl(r,e),r===null&&Dr(e.stateNode.containerInfo),Ee(e),null;case 10:return La(e.type._context),Ee(e),null;case 17:return De(e.type)&&$i(),Ee(e),null;case 19:if(ne(ie),o=e.memoizedState,o===null)return Ee(e),null;if(n=(e.flags&128)!==0,l=o.rendering,l===null)if(n)hr(o,!1);else{if(me!==0||r!==null&&r.flags&128)for(r=e.child;r!==null;){if(l=Gi(r),l!==null){for(e.flags|=128,hr(o,!1),n=l.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=t,t=e.child;t!==null;)o=t,r=n,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=r,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,r=l.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t=t.sibling;return ee(ie,ie.current&1|2),e.child}r=r.sibling}o.tail!==null&&ce()>er&&(e.flags|=128,n=!0,hr(o,!1),e.lanes=4194304)}else{if(!n)if(r=Gi(l),r!==null){if(e.flags|=128,n=!0,t=r.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),hr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!re)return Ee(e),null}else 2*ce()-o.renderingStartTime>er&&t!==1073741824&&(e.flags|=128,n=!0,hr(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(t=o.last,t!==null?t.sibling=l:e.child=l,o.last=l)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ce(),e.sibling=null,t=ie.current,ee(ie,n?t&1|2:t&1),e):(Ee(e),null);case 22:case 23:return Ya(),n=e.memoizedState!==null,r!==null&&r.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?je&1073741824&&(Ee(e),e.subtreeFlags&6&&(e.flags|=8192)):Ee(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function xp(r,e){switch(Ca(e),e.tag){case 1:return De(e.type)&&$i(),r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 3:return Qn(),ne(Be),ne(Ie),Pa(),r=e.flags,r&65536&&!(r&128)?(e.flags=r&-65537|128,e):null;case 5:return Ra(e),null;case 13:if(ne(ie),r=e.memoizedState,r!==null&&r.dehydrated!==null){if(e.alternate===null)throw Error(P(340));Gn()}return r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 19:return ne(ie),null;case 4:return Qn(),null;case 10:return La(e.type._context),null;case 22:case 23:return Ya(),null;case 24:return null;default:return null}}var gi=!1,Ne=!1,bp=typeof WeakSet=="function"?WeakSet:Set,F=null;function Fn(r,e){var t=r.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){se(r,e,n)}else t.current=null}function $l(r,e,t){try{t()}catch(n){se(r,e,n)}}var nd=!1;function _p(r,e){if(El=zi,r=Ec(),Sa(r)){if("selectionStart"in r)var t={start:r.selectionStart,end:r.selectionEnd};else e:{t=(t=r.ownerDocument)&&t.defaultView||window;var n=t.getSelection&&t.getSelection();if(n&&n.rangeCount!==0){t=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{t.nodeType,o.nodeType}catch{t=null;break e}var l=0,a=-1,s=-1,c=0,d=0,f=r,u=null;t:for(;;){for(var p;f!==t||i!==0&&f.nodeType!==3||(a=l+i),f!==o||n!==0&&f.nodeType!==3||(s=l+n),f.nodeType===3&&(l+=f.nodeValue.length),(p=f.firstChild)!==null;)u=f,f=p;for(;;){if(f===r)break t;if(u===t&&++c===i&&(a=l),u===o&&++d===n&&(s=l),(p=f.nextSibling)!==null)break;f=u,u=f.parentNode}f=p}t=a===-1||s===-1?null:{start:a,end:s}}else t=null}t=t||{start:0,end:0}}else t=null;for(Nl={focusedElem:r,selectionRange:t},zi=!1,F=e;F!==null;)if(e=F,r=e.child,(e.subtreeFlags&1028)!==0&&r!==null)r.return=e,F=r;else for(;F!==null;){e=F;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,x=m.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:ot(e.type,g),x);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var h=e.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(w){se(e,e.return,w)}if(r=e.sibling,r!==null){r.return=e.return,F=r;break}F=e.return}return m=nd,nd=!1,m}function Nr(r,e,t){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&r)===r){var o=i.destroy;i.destroy=void 0,o!==void 0&&$l(e,t,o)}i=i.next}while(i!==n)}}function go(r,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&r)===r){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}}function Vl(r){var e=r.ref;if(e!==null){var t=r.stateNode;switch(r.tag){case 5:r=t;break;default:r=t}typeof e=="function"?e(r):e.current=r}}function wu(r){var e=r.alternate;e!==null&&(r.alternate=null,wu(e)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(e=r.stateNode,e!==null&&(delete e[gt],delete e[Fr],delete e[Al],delete e[rp],delete e[ip])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Su(r){return r.tag===5||r.tag===3||r.tag===4}function rd(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Su(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Yl(r,e,t){var n=r.tag;if(n===5||n===6)r=r.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(r,e):t.insertBefore(r,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(r,t)):(e=t,e.appendChild(r)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=ji));else if(n!==4&&(r=r.child,r!==null))for(Yl(r,e,t),r=r.sibling;r!==null;)Yl(r,e,t),r=r.sibling}function Xl(r,e,t){var n=r.tag;if(n===5||n===6)r=r.stateNode,e?t.insertBefore(r,e):t.appendChild(r);else if(n!==4&&(r=r.child,r!==null))for(Xl(r,e,t),r=r.sibling;r!==null;)Xl(r,e,t),r=r.sibling}var _e=null,lt=!1;function Tt(r,e,t){for(t=t.child;t!==null;)ku(r,e,t),t=t.sibling}function ku(r,e,t){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(ao,t)}catch{}switch(t.tag){case 5:Ne||Fn(t,e);case 6:var n=_e,i=lt;_e=null,Tt(r,e,t),_e=n,lt=i,_e!==null&&(lt?(r=_e,t=t.stateNode,r.nodeType===8?r.parentNode.removeChild(t):r.removeChild(t)):_e.removeChild(t.stateNode));break;case 18:_e!==null&&(lt?(r=_e,t=t.stateNode,r.nodeType===8?Yo(r.parentNode,t):r.nodeType===1&&Yo(r,t),Ur(r)):Yo(_e,t.stateNode));break;case 4:n=_e,i=lt,_e=t.stateNode.containerInfo,lt=!0,Tt(r,e,t),_e=n,lt=i;break;case 0:case 11:case 14:case 15:if(!Ne&&(n=t.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&$l(t,e,l),i=i.next}while(i!==n)}Tt(r,e,t);break;case 1:if(!Ne&&(Fn(t,e),n=t.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=t.memoizedProps,n.state=t.memoizedState,n.componentWillUnmount()}catch(a){se(t,e,a)}Tt(r,e,t);break;case 21:Tt(r,e,t);break;case 22:t.mode&1?(Ne=(n=Ne)||t.memoizedState!==null,Tt(r,e,t),Ne=n):Tt(r,e,t);break;default:Tt(r,e,t)}}function id(r){var e=r.updateQueue;if(e!==null){r.updateQueue=null;var t=r.stateNode;t===null&&(t=r.stateNode=new bp),e.forEach(function(n){var i=Ap.bind(null,r,n);t.has(n)||(t.add(n),n.then(i,i))})}}function it(r,e){var t=e.deletions;if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];try{var o=r,l=e,a=l;e:for(;a!==null;){switch(a.tag){case 5:_e=a.stateNode,lt=!1;break e;case 3:_e=a.stateNode.containerInfo,lt=!0;break e;case 4:_e=a.stateNode.containerInfo,lt=!0;break e}a=a.return}if(_e===null)throw Error(P(160));ku(o,l,i),_e=null,lt=!1;var s=i.alternate;s!==null&&(s.return=null),i.return=null}catch(c){se(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Cu(e,r),e=e.sibling}function Cu(r,e){var t=r.alternate,n=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(it(e,r),ht(r),n&4){try{Nr(3,r,r.return),go(3,r)}catch(g){se(r,r.return,g)}try{Nr(5,r,r.return)}catch(g){se(r,r.return,g)}}break;case 1:it(e,r),ht(r),n&512&&t!==null&&Fn(t,t.return);break;case 5:if(it(e,r),ht(r),n&512&&t!==null&&Fn(t,t.return),r.flags&32){var i=r.stateNode;try{Mr(i,"")}catch(g){se(r,r.return,g)}}if(n&4&&(i=r.stateNode,i!=null)){var o=r.memoizedProps,l=t!==null?t.memoizedProps:o,a=r.type,s=r.updateQueue;if(r.updateQueue=null,s!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&qd(i,o),gl(a,l);var c=gl(a,o);for(l=0;l<s.length;l+=2){var d=s[l],f=s[l+1];d==="style"?Qd(i,f):d==="dangerouslySetInnerHTML"?Gd(i,f):d==="children"?Mr(i,f):ca(i,d,f,c)}switch(a){case"input":ul(i,o);break;case"textarea":Wd(i,o);break;case"select":var u=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?jn(i,!!o.multiple,p,!1):u!==!!o.multiple&&(o.defaultValue!=null?jn(i,!!o.multiple,o.defaultValue,!0):jn(i,!!o.multiple,o.multiple?[]:"",!1))}i[Fr]=o}catch(g){se(r,r.return,g)}}break;case 6:if(it(e,r),ht(r),n&4){if(r.stateNode===null)throw Error(P(162));i=r.stateNode,o=r.memoizedProps;try{i.nodeValue=o}catch(g){se(r,r.return,g)}}break;case 3:if(it(e,r),ht(r),n&4&&t!==null&&t.memoizedState.isDehydrated)try{Ur(e.containerInfo)}catch(g){se(r,r.return,g)}break;case 4:it(e,r),ht(r);break;case 13:it(e,r),ht(r),i=r.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||($a=ce())),n&4&&id(r);break;case 22:if(d=t!==null&&t.memoizedState!==null,r.mode&1?(Ne=(c=Ne)||d,it(e,r),Ne=c):it(e,r),ht(r),n&8192){if(c=r.memoizedState!==null,(r.stateNode.isHidden=c)&&!d&&r.mode&1)for(F=r,d=r.child;d!==null;){for(f=F=d;F!==null;){switch(u=F,p=u.child,u.tag){case 0:case 11:case 14:case 15:Nr(4,u,u.return);break;case 1:Fn(u,u.return);var m=u.stateNode;if(typeof m.componentWillUnmount=="function"){n=u,t=u.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){se(n,t,g)}}break;case 5:Fn(u,u.return);break;case 22:if(u.memoizedState!==null){ld(f);continue}}p!==null?(p.return=u,F=p):ld(f)}d=d.sibling}e:for(d=null,f=r;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,s=f.memoizedProps.style,l=s!=null&&s.hasOwnProperty("display")?s.display:null,a.style.display=Jd("display",l))}catch(g){se(r,r.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){se(r,r.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===r)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:it(e,r),ht(r),n&4&&id(r);break;case 21:break;default:it(e,r),ht(r)}}function ht(r){var e=r.flags;if(e&2){try{e:{for(var t=r.return;t!==null;){if(Su(t)){var n=t;break e}t=t.return}throw Error(P(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Mr(i,""),n.flags&=-33);var o=rd(r);Xl(r,o,i);break;case 3:case 4:var l=n.stateNode.containerInfo,a=rd(r);Yl(r,a,l);break;default:throw Error(P(161))}}catch(s){se(r,r.return,s)}r.flags&=-3}e&4096&&(r.flags&=-4097)}function wp(r,e,t){F=r,Eu(r)}function Eu(r,e,t){for(var n=(r.mode&1)!==0;F!==null;){var i=F,o=i.child;if(i.tag===22&&n){var l=i.memoizedState!==null||gi;if(!l){var a=i.alternate,s=a!==null&&a.memoizedState!==null||Ne;a=gi;var c=Ne;if(gi=l,(Ne=s)&&!c)for(F=i;F!==null;)l=F,s=l.child,l.tag===22&&l.memoizedState!==null?ad(i):s!==null?(s.return=l,F=s):ad(i);for(;o!==null;)F=o,Eu(o),o=o.sibling;F=i,gi=a,Ne=c}od(r)}else i.subtreeFlags&8772&&o!==null?(o.return=i,F=o):od(r)}}function od(r){for(;F!==null;){var e=F;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ne||go(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ne)if(t===null)n.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:ot(e.type,t.memoizedProps);n.componentDidUpdate(i,t.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&$s(e,o,n);break;case 3:var l=e.updateQueue;if(l!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}$s(e,l,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var s=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&t.focus();break;case"img":s.src&&(t.src=s.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ur(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Ne||e.flags&512&&Vl(e)}catch(u){se(e,e.return,u)}}if(e===r){F=null;break}if(t=e.sibling,t!==null){t.return=e.return,F=t;break}F=e.return}}function ld(r){for(;F!==null;){var e=F;if(e===r){F=null;break}var t=e.sibling;if(t!==null){t.return=e.return,F=t;break}F=e.return}}function ad(r){for(;F!==null;){var e=F;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{go(4,e)}catch(s){se(e,t,s)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(s){se(e,i,s)}}var o=e.return;try{Vl(e)}catch(s){se(e,o,s)}break;case 5:var l=e.return;try{Vl(e)}catch(s){se(e,l,s)}}}catch(s){se(e,e.return,s)}if(e===r){F=null;break}var a=e.sibling;if(a!==null){a.return=e.return,F=a;break}F=e.return}}var Sp=Math.ceil,Zi=Ot.ReactCurrentDispatcher,Ha=Ot.ReactCurrentOwner,Ze=Ot.ReactCurrentBatchConfig,G=0,ve=null,fe=null,we=0,je=0,Hn=nn(0),me=0,Xr=null,wn=0,vo=0,ja=0,Ir=null,Ue=null,$a=0,er=1/0,wt=null,eo=!1,ql=null,Gt=null,vi=!1,Vt=null,to=0,Lr=0,Wl=null,Li=-1,Ai=0;function Oe(){return G&6?ce():Li!==-1?Li:Li=ce()}function Jt(r){return r.mode&1?G&2&&we!==0?we&-we:lp.transition!==null?(Ai===0&&(Ai=cc()),Ai):(r=Z,r!==0||(r=window.event,r=r===void 0?16:vc(r.type)),r):1}function dt(r,e,t,n){if(50<Lr)throw Lr=0,Wl=null,Error(P(185));Kr(r,t,n),(!(G&2)||r!==ve)&&(r===ve&&(!(G&2)&&(vo|=t),me===4&&jt(r,we)),ze(r,n),t===1&&G===0&&!(e.mode&1)&&(er=ce()+500,po&&rn()))}function ze(r,e){var t=r.callbackNode;lf(r,e);var n=Di(r,r===ve?we:0);if(n===0)t!==null&&gs(t),r.callbackNode=null,r.callbackPriority=0;else if(e=n&-n,r.callbackPriority!==e){if(t!=null&&gs(t),e===1)r.tag===0?op(sd.bind(null,r)):Tc(sd.bind(null,r)),tp(function(){!(G&6)&&rn()}),t=null;else{switch(uc(n)){case 1:t=ma;break;case 4:t=sc;break;case 16:t=Bi;break;case 536870912:t=dc;break;default:t=Bi}t=Pu(t,Nu.bind(null,r))}r.callbackPriority=e,r.callbackNode=t}}function Nu(r,e){if(Li=-1,Ai=0,G&6)throw Error(P(327));var t=r.callbackNode;if(qn()&&r.callbackNode!==t)return null;var n=Di(r,r===ve?we:0);if(n===0)return null;if(n&30||n&r.expiredLanes||e)e=no(r,n);else{e=n;var i=G;G|=2;var o=Lu();(ve!==r||we!==e)&&(wt=null,er=ce()+500,gn(r,e));do try{Ep();break}catch(a){Iu(r,a)}while(!0);Ia(),Zi.current=o,G=i,fe!==null?e=0:(ve=null,we=0,e=me)}if(e!==0){if(e===2&&(i=_l(r),i!==0&&(n=i,e=Kl(r,i))),e===1)throw t=Xr,gn(r,0),jt(r,n),ze(r,ce()),t;if(e===6)jt(r,n);else{if(i=r.current.alternate,!(n&30)&&!kp(i)&&(e=no(r,n),e===2&&(o=_l(r),o!==0&&(n=o,e=Kl(r,o))),e===1))throw t=Xr,gn(r,0),jt(r,n),ze(r,ce()),t;switch(r.finishedWork=i,r.finishedLanes=n,e){case 0:case 1:throw Error(P(345));case 2:un(r,Ue,wt);break;case 3:if(jt(r,n),(n&130023424)===n&&(e=$a+500-ce(),10<e)){if(Di(r,0)!==0)break;if(i=r.suspendedLanes,(i&n)!==n){Oe(),r.pingedLanes|=r.suspendedLanes&i;break}r.timeoutHandle=Ll(un.bind(null,r,Ue,wt),e);break}un(r,Ue,wt);break;case 4:if(jt(r,n),(n&4194240)===n)break;for(e=r.eventTimes,i=-1;0<n;){var l=31-st(n);o=1<<l,l=e[l],l>i&&(i=l),n&=~o}if(n=i,n=ce()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Sp(n/1960))-n,10<n){r.timeoutHandle=Ll(un.bind(null,r,Ue,wt),n);break}un(r,Ue,wt);break;case 5:un(r,Ue,wt);break;default:throw Error(P(329))}}}return ze(r,ce()),r.callbackNode===t?Nu.bind(null,r):null}function Kl(r,e){var t=Ir;return r.current.memoizedState.isDehydrated&&(gn(r,e).flags|=256),r=no(r,e),r!==2&&(e=Ue,Ue=t,e!==null&&Gl(e)),r}function Gl(r){Ue===null?Ue=r:Ue.push.apply(Ue,r)}function kp(r){for(var e=r;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var n=0;n<t.length;n++){var i=t[n],o=i.getSnapshot;i=i.value;try{if(!ct(o(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function jt(r,e){for(e&=~ja,e&=~vo,r.suspendedLanes|=e,r.pingedLanes&=~e,r=r.expirationTimes;0<e;){var t=31-st(e),n=1<<t;r[t]=-1,e&=~n}}function sd(r){if(G&6)throw Error(P(327));qn();var e=Di(r,0);if(!(e&1))return ze(r,ce()),null;var t=no(r,e);if(r.tag!==0&&t===2){var n=_l(r);n!==0&&(e=n,t=Kl(r,n))}if(t===1)throw t=Xr,gn(r,0),jt(r,e),ze(r,ce()),t;if(t===6)throw Error(P(345));return r.finishedWork=r.current.alternate,r.finishedLanes=e,un(r,Ue,wt),ze(r,ce()),null}function Va(r,e){var t=G;G|=1;try{return r(e)}finally{G=t,G===0&&(er=ce()+500,po&&rn())}}function Sn(r){Vt!==null&&Vt.tag===0&&!(G&6)&&qn();var e=G;G|=1;var t=Ze.transition,n=Z;try{if(Ze.transition=null,Z=1,r)return r()}finally{Z=n,Ze.transition=t,G=e,!(G&6)&&rn()}}function Ya(){je=Hn.current,ne(Hn)}function gn(r,e){r.finishedWork=null,r.finishedLanes=0;var t=r.timeoutHandle;if(t!==-1&&(r.timeoutHandle=-1,ep(t)),fe!==null)for(t=fe.return;t!==null;){var n=t;switch(Ca(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&$i();break;case 3:Qn(),ne(Be),ne(Ie),Pa();break;case 5:Ra(n);break;case 4:Qn();break;case 13:ne(ie);break;case 19:ne(ie);break;case 10:La(n.type._context);break;case 22:case 23:Ya()}t=t.return}if(ve=r,fe=r=Qt(r.current,null),we=je=e,me=0,Xr=null,ja=vo=wn=0,Ue=Ir=null,pn!==null){for(e=0;e<pn.length;e++)if(t=pn[e],n=t.interleaved,n!==null){t.interleaved=null;var i=n.next,o=t.pending;if(o!==null){var l=o.next;o.next=i,n.next=l}t.pending=n}pn=null}return r}function Iu(r,e){do{var t=fe;try{if(Ia(),Ei.current=Qi,Ji){for(var n=oe.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ji=!1}if(_n=0,ge=he=oe=null,Er=!1,$r=0,Ha.current=null,t===null||t.return===null){me=1,Xr=e,fe=null;break}e:{var o=r,l=t.return,a=t,s=e;if(e=we,a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){var c=s,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var u=d.alternate;u?(d.updateQueue=u.updateQueue,d.memoizedState=u.memoizedState,d.lanes=u.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Ks(l);if(p!==null){p.flags&=-257,Gs(p,l,a,o,e),p.mode&1&&Ws(o,c,e),e=p,s=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(s),e.updateQueue=g}else m.add(s);break e}else{if(!(e&1)){Ws(o,c,e),Xa();break e}s=Error(P(426))}}else if(re&&a.mode&1){var x=Ks(l);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Gs(x,l,a,o,e),Ea(Zn(s,a));break e}}o=s=Zn(s,a),me!==4&&(me=2),Ir===null?Ir=[o]:Ir.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=uu(o,s,e);js(o,y);break e;case 1:a=s;var v=o.type,h=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Gt===null||!Gt.has(h)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=fu(o,a,e);js(o,w);break e}}o=o.return}while(o!==null)}Mu(t)}catch(_){e=_,fe===t&&t!==null&&(fe=t=t.return);continue}break}while(!0)}function Lu(){var r=Zi.current;return Zi.current=Qi,r===null?Qi:r}function Xa(){(me===0||me===3||me===2)&&(me=4),ve===null||!(wn&268435455)&&!(vo&268435455)||jt(ve,we)}function no(r,e){var t=G;G|=2;var n=Lu();(ve!==r||we!==e)&&(wt=null,gn(r,e));do try{Cp();break}catch(i){Iu(r,i)}while(!0);if(Ia(),G=t,Zi.current=n,fe!==null)throw Error(P(261));return ve=null,we=0,me}function Cp(){for(;fe!==null;)Au(fe)}function Ep(){for(;fe!==null&&!G1();)Au(fe)}function Au(r){var e=Ru(r.alternate,r,je);r.memoizedProps=r.pendingProps,e===null?Mu(r):fe=e,Ha.current=null}function Mu(r){var e=r;do{var t=e.alternate;if(r=e.return,e.flags&32768){if(t=xp(t,e),t!==null){t.flags&=32767,fe=t;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{me=6,fe=null;return}}else if(t=yp(t,e,je),t!==null){fe=t;return}if(e=e.sibling,e!==null){fe=e;return}fe=e=r}while(e!==null);me===0&&(me=5)}function un(r,e,t){var n=Z,i=Ze.transition;try{Ze.transition=null,Z=1,Np(r,e,t,n)}finally{Ze.transition=i,Z=n}return null}function Np(r,e,t,n){do qn();while(Vt!==null);if(G&6)throw Error(P(327));t=r.finishedWork;var i=r.finishedLanes;if(t===null)return null;if(r.finishedWork=null,r.finishedLanes=0,t===r.current)throw Error(P(177));r.callbackNode=null,r.callbackPriority=0;var o=t.lanes|t.childLanes;if(af(r,o),r===ve&&(fe=ve=null,we=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||vi||(vi=!0,Pu(Bi,function(){return qn(),null})),o=(t.flags&15990)!==0,t.subtreeFlags&15990||o){o=Ze.transition,Ze.transition=null;var l=Z;Z=1;var a=G;G|=4,Ha.current=null,_p(r,t),Cu(t,r),qf(Nl),zi=!!El,Nl=El=null,r.current=t,wp(t),J1(),G=a,Z=l,Ze.transition=o}else r.current=t;if(vi&&(vi=!1,Vt=r,to=i),o=r.pendingLanes,o===0&&(Gt=null),ef(t.stateNode),ze(r,ce()),e!==null)for(n=r.onRecoverableError,t=0;t<e.length;t++)i=e[t],n(i.value,{componentStack:i.stack,digest:i.digest});if(eo)throw eo=!1,r=ql,ql=null,r;return to&1&&r.tag!==0&&qn(),o=r.pendingLanes,o&1?r===Wl?Lr++:(Lr=0,Wl=r):Lr=0,rn(),null}function qn(){if(Vt!==null){var r=uc(to),e=Ze.transition,t=Z;try{if(Ze.transition=null,Z=16>r?16:r,Vt===null)var n=!1;else{if(r=Vt,Vt=null,to=0,G&6)throw Error(P(331));var i=G;for(G|=4,F=r.current;F!==null;){var o=F,l=o.child;if(F.flags&16){var a=o.deletions;if(a!==null){for(var s=0;s<a.length;s++){var c=a[s];for(F=c;F!==null;){var d=F;switch(d.tag){case 0:case 11:case 15:Nr(8,d,o)}var f=d.child;if(f!==null)f.return=d,F=f;else for(;F!==null;){d=F;var u=d.sibling,p=d.return;if(wu(d),d===c){F=null;break}if(u!==null){u.return=p,F=u;break}F=p}}}var m=o.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}F=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,F=l;else e:for(;F!==null;){if(o=F,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Nr(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,F=y;break e}F=o.return}}var v=r.current;for(F=v;F!==null;){l=F;var h=l.child;if(l.subtreeFlags&2064&&h!==null)h.return=l,F=h;else e:for(l=v;F!==null;){if(a=F,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:go(9,a)}}catch(_){se(a,a.return,_)}if(a===l){F=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,F=w;break e}F=a.return}}if(G=i,rn(),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(ao,r)}catch{}n=!0}return n}finally{Z=t,Ze.transition=e}}return!1}function dd(r,e,t){e=Zn(t,e),e=uu(r,e,1),r=Kt(r,e,1),e=Oe(),r!==null&&(Kr(r,1,e),ze(r,e))}function se(r,e,t){if(r.tag===3)dd(r,r,t);else for(;e!==null;){if(e.tag===3){dd(e,r,t);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Gt===null||!Gt.has(n))){r=Zn(t,r),r=fu(e,r,1),e=Kt(e,r,1),r=Oe(),e!==null&&(Kr(e,1,r),ze(e,r));break}}e=e.return}}function Ip(r,e,t){var n=r.pingCache;n!==null&&n.delete(e),e=Oe(),r.pingedLanes|=r.suspendedLanes&t,ve===r&&(we&t)===t&&(me===4||me===3&&(we&130023424)===we&&500>ce()-$a?gn(r,0):ja|=t),ze(r,e)}function Ou(r,e){e===0&&(r.mode&1?(e=ai,ai<<=1,!(ai&130023424)&&(ai=4194304)):e=1);var t=Oe();r=At(r,e),r!==null&&(Kr(r,e,t),ze(r,t))}function Lp(r){var e=r.memoizedState,t=0;e!==null&&(t=e.retryLane),Ou(r,t)}function Ap(r,e){var t=0;switch(r.tag){case 13:var n=r.stateNode,i=r.memoizedState;i!==null&&(t=i.retryLane);break;case 19:n=r.stateNode;break;default:throw Error(P(314))}n!==null&&n.delete(e),Ou(r,t)}var Ru;Ru=function(r,e,t){if(r!==null)if(r.memoizedProps!==e.pendingProps||Be.current)Te=!0;else{if(!(r.lanes&t)&&!(e.flags&128))return Te=!1,vp(r,e,t);Te=!!(r.flags&131072)}else Te=!1,re&&e.flags&1048576&&Bc(e,Xi,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ii(r,e),r=e.pendingProps;var i=Kn(e,Ie.current);Xn(e,t),i=Ta(null,e,n,r,i,t);var o=Ba();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,De(n)?(o=!0,Vi(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ma(e),i.updater=mo,e.stateNode=i,i._reactInternals=e,Tl(e,n,r,t),e=zl(null,e,n,!0,o,t)):(e.tag=0,re&&o&&ka(e),Me(null,e,i,t),e=e.child),e;case 16:n=e.elementType;e:{switch(Ii(r,e),r=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Op(n),r=ot(n,r),i){case 0:e=Dl(null,e,n,r,t);break e;case 1:e=Zs(null,e,n,r,t);break e;case 11:e=Js(null,e,n,r,t);break e;case 14:e=Qs(null,e,n,ot(n.type,r),t);break e}throw Error(P(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ot(n,i),Dl(r,e,n,i,t);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ot(n,i),Zs(r,e,n,i,t);case 3:e:{if(gu(e),r===null)throw Error(P(387));n=e.pendingProps,o=e.memoizedState,i=o.element,$c(r,e),Ki(e,n,null,t);var l=e.memoizedState;if(n=l.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Zn(Error(P(423)),e),e=ed(r,e,n,t,i);break e}else if(n!==i){i=Zn(Error(P(424)),e),e=ed(r,e,n,t,i);break e}else for($e=Wt(e.stateNode.containerInfo.firstChild),Ve=e,re=!0,at=null,t=Hc(e,null,n,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Gn(),n===i){e=Mt(r,e,t);break e}Me(r,e,n,t)}e=e.child}return e;case 5:return Vc(e),r===null&&Rl(e),n=e.type,i=e.pendingProps,o=r!==null?r.memoizedProps:null,l=i.children,Il(n,i)?l=null:o!==null&&Il(n,o)&&(e.flags|=32),mu(r,e),Me(r,e,l,t),e.child;case 6:return r===null&&Rl(e),null;case 13:return vu(r,e,t);case 4:return Oa(e,e.stateNode.containerInfo),n=e.pendingProps,r===null?e.child=Jn(e,null,n,t):Me(r,e,n,t),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ot(n,i),Js(r,e,n,i,t);case 7:return Me(r,e,e.pendingProps,t),e.child;case 8:return Me(r,e,e.pendingProps.children,t),e.child;case 12:return Me(r,e,e.pendingProps.children,t),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,o=e.memoizedProps,l=i.value,ee(qi,n._currentValue),n._currentValue=l,o!==null)if(ct(o.value,l)){if(o.children===i.children&&!Be.current){e=Mt(r,e,t);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){l=o.child;for(var s=a.firstContext;s!==null;){if(s.context===n){if(o.tag===1){s=Nt(-1,t&-t),s.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s}}o.lanes|=t,s=o.alternate,s!==null&&(s.lanes|=t),Pl(o.return,t,e),a.lanes|=t;break}s=s.next}}else if(o.tag===10)l=o.type===e.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(P(341));l.lanes|=t,a=l.alternate,a!==null&&(a.lanes|=t),Pl(l,t,e),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===e){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}Me(r,e,i.children,t),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Xn(e,t),i=et(i),n=n(i),e.flags|=1,Me(r,e,n,t),e.child;case 14:return n=e.type,i=ot(n,e.pendingProps),i=ot(n.type,i),Qs(r,e,n,i,t);case 15:return pu(r,e,e.type,e.pendingProps,t);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ot(n,i),Ii(r,e),e.tag=1,De(n)?(r=!0,Vi(e)):r=!1,Xn(e,t),cu(e,n,i),Tl(e,n,i,t),zl(null,e,n,!0,r,t);case 19:return yu(r,e,t);case 22:return hu(r,e,t)}throw Error(P(156,e.tag))};function Pu(r,e){return ac(r,e)}function Mp(r,e,t,n){this.tag=r,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qe(r,e,t,n){return new Mp(r,e,t,n)}function qa(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Op(r){if(typeof r=="function")return qa(r)?1:0;if(r!=null){if(r=r.$$typeof,r===fa)return 11;if(r===pa)return 14}return 2}function Qt(r,e){var t=r.alternate;return t===null?(t=Qe(r.tag,e,r.key,r.mode),t.elementType=r.elementType,t.type=r.type,t.stateNode=r.stateNode,t.alternate=r,r.alternate=t):(t.pendingProps=e,t.type=r.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=r.flags&14680064,t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,e=r.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=r.sibling,t.index=r.index,t.ref=r.ref,t}function Mi(r,e,t,n,i,o){var l=2;if(n=r,typeof r=="function")qa(r)&&(l=1);else if(typeof r=="string")l=5;else e:switch(r){case Mn:return vn(t.children,i,o,e);case ua:l=8,i|=8;break;case ll:return r=Qe(12,t,e,i|2),r.elementType=ll,r.lanes=o,r;case al:return r=Qe(13,t,e,i),r.elementType=al,r.lanes=o,r;case sl:return r=Qe(19,t,e,i),r.elementType=sl,r.lanes=o,r;case Vd:return yo(t,i,o,e);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case jd:l=10;break e;case $d:l=9;break e;case fa:l=11;break e;case pa:l=14;break e;case zt:l=16,n=null;break e}throw Error(P(130,r==null?r:typeof r,""))}return e=Qe(l,t,e,i),e.elementType=r,e.type=n,e.lanes=o,e}function vn(r,e,t,n){return r=Qe(7,r,n,e),r.lanes=t,r}function yo(r,e,t,n){return r=Qe(22,r,n,e),r.elementType=Vd,r.lanes=t,r.stateNode={isHidden:!1},r}function Zo(r,e,t){return r=Qe(6,r,null,e),r.lanes=t,r}function el(r,e,t){return e=Qe(4,r.children!==null?r.children:[],r.key,e),e.lanes=t,e.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},e}function Rp(r,e,t,n,i){this.tag=e,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Po(0),this.expirationTimes=Po(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Po(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Wa(r,e,t,n,i,o,l,a,s){return r=new Rp(r,e,t,a,s),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Qe(3,null,null,e),r.current=o,o.stateNode=r,o.memoizedState={element:n,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ma(o),r}function Pp(r,e,t){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:An,key:n==null?null:""+n,children:r,containerInfo:e,implementation:t}}function Uu(r){if(!r)return en;r=r._reactInternals;e:{if(En(r)!==r||r.tag!==1)throw Error(P(170));var e=r;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(De(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(r.tag===1){var t=r.type;if(De(t))return Uc(r,t,e)}return e}function Tu(r,e,t,n,i,o,l,a,s){return r=Wa(t,n,!0,r,i,o,l,a,s),r.context=Uu(null),t=r.current,n=Oe(),i=Jt(t),o=Nt(n,i),o.callback=e??null,Kt(t,o,i),r.current.lanes=i,Kr(r,i,n),ze(r,n),r}function xo(r,e,t,n){var i=e.current,o=Oe(),l=Jt(i);return t=Uu(t),e.context===null?e.context=t:e.pendingContext=t,e=Nt(o,l),e.payload={element:r},n=n===void 0?null:n,n!==null&&(e.callback=n),r=Kt(i,e,l),r!==null&&(dt(r,i,l,o),Ci(r,i,l)),l}function ro(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function cd(r,e){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var t=r.retryLane;r.retryLane=t!==0&&t<e?t:e}}function Ka(r,e){cd(r,e),(r=r.alternate)&&cd(r,e)}function Up(){return null}var Bu=typeof reportError=="function"?reportError:function(r){console.error(r)};function Ga(r){this._internalRoot=r}bo.prototype.render=Ga.prototype.render=function(r){var e=this._internalRoot;if(e===null)throw Error(P(409));xo(r,e,null,null)};bo.prototype.unmount=Ga.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var e=r.containerInfo;Sn(function(){xo(null,r,null,null)}),e[Lt]=null}};function bo(r){this._internalRoot=r}bo.prototype.unstable_scheduleHydration=function(r){if(r){var e=hc();r={blockedOn:null,target:r,priority:e};for(var t=0;t<Ht.length&&e!==0&&e<Ht[t].priority;t++);Ht.splice(t,0,r),t===0&&gc(r)}};function Ja(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function _o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function ud(){}function Tp(r,e,t,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var c=ro(l);o.call(c)}}var l=Tu(e,n,r,0,null,!1,!1,"",ud);return r._reactRootContainer=l,r[Lt]=l.current,Dr(r.nodeType===8?r.parentNode:r),Sn(),l}for(;i=r.lastChild;)r.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var c=ro(s);a.call(c)}}var s=Wa(r,0,!1,null,null,!1,!1,"",ud);return r._reactRootContainer=s,r[Lt]=s.current,Dr(r.nodeType===8?r.parentNode:r),Sn(function(){xo(e,s,t,n)}),s}function wo(r,e,t,n,i){var o=t._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var a=i;i=function(){var s=ro(l);a.call(s)}}xo(e,l,r,i)}else l=Tp(t,e,r,i,n);return ro(l)}fc=function(r){switch(r.tag){case 3:var e=r.stateNode;if(e.current.memoizedState.isDehydrated){var t=xr(e.pendingLanes);t!==0&&(ga(e,t|1),ze(e,ce()),!(G&6)&&(er=ce()+500,rn()))}break;case 13:Sn(function(){var n=At(r,1);if(n!==null){var i=Oe();dt(n,r,1,i)}}),Ka(r,1)}};va=function(r){if(r.tag===13){var e=At(r,134217728);if(e!==null){var t=Oe();dt(e,r,134217728,t)}Ka(r,134217728)}};pc=function(r){if(r.tag===13){var e=Jt(r),t=At(r,e);if(t!==null){var n=Oe();dt(t,r,e,n)}Ka(r,e)}};hc=function(){return Z};mc=function(r,e){var t=Z;try{return Z=r,e()}finally{Z=t}};yl=function(r,e,t){switch(e){case"input":if(ul(r,t),e=t.name,t.type==="radio"&&e!=null){for(t=r;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var n=t[e];if(n!==r&&n.form===r.form){var i=fo(n);if(!i)throw Error(P(90));Xd(n),ul(n,i)}}}break;case"textarea":Wd(r,t);break;case"select":e=t.value,e!=null&&jn(r,!!t.multiple,e,!1)}};tc=Va;nc=Sn;var Bp={usingClientEntryPoint:!1,Events:[Jr,Un,fo,Zd,ec,Va]},mr={findFiberByHostInstance:fn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dp={bundleType:mr.bundleType,version:mr.version,rendererPackageName:mr.rendererPackageName,rendererConfig:mr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ot.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=oc(r),r===null?null:r.stateNode},findFiberByHostInstance:mr.findFiberByHostInstance||Up,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yi.isDisabled&&yi.supportsFiber)try{ao=yi.inject(Dp),vt=yi}catch{}}qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bp;qe.createPortal=function(r,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ja(e))throw Error(P(200));return Pp(r,e,null,t)};qe.createRoot=function(r,e){if(!Ja(r))throw Error(P(299));var t=!1,n="",i=Bu;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Wa(r,1,!1,null,null,t,!1,n,i),r[Lt]=e.current,Dr(r.nodeType===8?r.parentNode:r),new Ga(e)};qe.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var e=r._reactInternals;if(e===void 0)throw typeof r.render=="function"?Error(P(188)):(r=Object.keys(r).join(","),Error(P(268,r)));return r=oc(e),r=r===null?null:r.stateNode,r};qe.flushSync=function(r){return Sn(r)};qe.hydrate=function(r,e,t){if(!_o(e))throw Error(P(200));return wo(null,r,e,!0,t)};qe.hydrateRoot=function(r,e,t){if(!Ja(r))throw Error(P(405));var n=t!=null&&t.hydratedSources||null,i=!1,o="",l=Bu;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),e=Tu(e,null,r,1,t??null,i,!1,o,l),r[Lt]=e.current,Dr(r),n)for(r=0;r<n.length;r++)t=n[r],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new bo(e)};qe.render=function(r,e,t){if(!_o(e))throw Error(P(200));return wo(null,r,e,!1,t)};qe.unmountComponentAtNode=function(r){if(!_o(r))throw Error(P(40));return r._reactRootContainer?(Sn(function(){wo(null,null,r,!1,function(){r._reactRootContainer=null,r[Lt]=null})}),!0):!1};qe.unstable_batchedUpdates=Va;qe.unstable_renderSubtreeIntoContainer=function(r,e,t,n){if(!_o(t))throw Error(P(200));if(r==null||r._reactInternals===void 0)throw Error(P(38));return wo(r,e,t,!1,n)};qe.version="18.3.1-next-f1338f8080-20240426";function Du(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Du)}catch(r){console.error(r)}}Du(),Dd.exports=qe;var zp=Dd.exports,zu,fd=zp;zu=fd.createRoot,fd.hydrateRoot;const Fp=()=>kt.jsxs("div",{className:"title",children:[kt.jsx("h1",{children:" "}),kt.jsx("h3",{children:" ,       ..."}),kt.jsx("h3",{children:" .  ."})]});var Fu={exports:{}};(function(r){var e=function(t,n){var i=this;if((typeof t=="string"||t instanceof String)&&(t=document.querySelector(t)),this.element=t,this.config=e.mergeDeep(e._defaultConfig(n),n),this._layoutConfigs={base:{orientation:this.config.orientation,levelSeparation:this.config.levelSeparation,mixedHierarchyNodesSeparation:this.config.mixedHierarchyNodesSeparation,assistantSeparation:this.config.assistantSeparation,subtreeSeparation:this.config.subtreeSeparation,siblingSeparation:this.config.siblingSeparation,layout:this.config.layout,columns:this.config.columns,collapse:this.config.collapse,partnerNodeSeparation:this.config.partnerNodeSeparation}},this.config.tags)for(var o in this.config.tags){var l=this.config.tags[o];l.subTreeConfig!=null&&(this._layoutConfigs[o]={orientation:l.subTreeConfig.orientation!=null?l.subTreeConfig.orientation:this.config.orientation,levelSeparation:l.subTreeConfig.levelSeparation!=null?l.subTreeConfig.levelSeparation:this.config.levelSeparation,mixedHierarchyNodesSeparation:l.subTreeConfig.mixedHierarchyNodesSeparation!=null?l.subTreeConfig.mixedHierarchyNodesSeparation:this.config.mixedHierarchyNodesSeparation,assistantSeparation:l.subTreeConfig.assistantSeparation!=null?l.subTreeConfig.assistantSeparation:this.config.assistantSeparation,subtreeSeparation:l.subTreeConfig.subtreeSeparation!=null?l.subTreeConfig.subtreeSeparation:this.config.subtreeSeparation,siblingSeparation:l.subTreeConfig.siblingSeparation!=null?l.subTreeConfig.siblingSeparation:this.config.siblingSeparation,layout:l.subTreeConfig.layout!=null?l.subTreeConfig.layout:this.config.layout,columns:l.subTreeConfig.columns!=null?l.subTreeConfig.columns:this.config.columns,collapse:l.subTreeConfig.collapse!=null?l.subTreeConfig.collapse:this.config.collapse,partnerNodeSeparation:l.subTreeConfig.partnerNodeSeparation!=null?l.subTreeConfig.partnerNodeSeparation:this.config.partnerNodeSeparation})}this._event_id=e._guid(),e._validateConfig(this.config)&&(this._vScroll={},this.config.ui||(this.ui=e.ui),this.config.editUI?this.editUI=this.config.editUI:this.editUI=new e.editUI,this.editUI.init(this),this.config.filterUI?this.filterUI=this.config.filterUI:this.filterUI=new e.filterUI,this.filterUI.init(this),this.manager=new e.manager(this),this.config.searchUI?this.searchUI=this.config.searchUI:this.searchUI=new e.searchUI,this.config.nodeMenuUI?this.nodeMenuUI=this.config.nodeMenuUI:this.nodeMenuUI=new e.menuUI,this.nodeMenuUI.init(this,this.config.nodeMenu),this.config.nodeCircleMenuUI?this.nodeCircleMenuUI=this.config.nodeCircleMenuUI:this.nodeCircleMenuUI=new e.circleMenuUI,this.nodeCircleMenuUI.init(this,this.config.nodeCircleMenu),this.config.nodeContextMenuUI?this.nodeContextMenuUI=this.config.nodeContextMenuUI:this.nodeContextMenuUI=new e.menuUI,this.nodeContextMenuUI.init(this,this.config.nodeContextMenu),this.config.toolbarUI?this.toolbarUI=this.config.toolbarUI:this.toolbarUI=new e.toolbarUI,this.config.notifierUI?this.notifierUI=this.config.notifierUI:this.notifierUI=new e.notifierUI,this.notifierUI.init(this),this.config.menuUI?this.menuUI=this.config.menuUI:this.menuUI=new e.menuUI,this.menuUI.init(this,this.config.menu),this.config.xScrollUI||(this.xScrollUI=new e.xScrollUI(this.element,this.config,function(){return{boundary:i.response.boundary,scale:i.getScale(),viewBox:i.getViewBox(),padding:i.config.padding}},function(a){i.setViewBox(a)},function(){i._draw(!0,e.action.xScroll)})),this.config.yScrollUI||(this.yScrollUI=new e.yScrollUI(this.element,this.config,function(){return{boundary:i.response.boundary,scale:i.getScale(),viewBox:i.getViewBox(),padding:i.config.padding}},function(a){i.setViewBox(a)},function(){i._draw(!0,e.action.xScroll)})),this.config.undoRedoUI?this.undoRedoUI=this.config.undoRedoUI:this.undoRedoUI=new e.undoRedoUI,this.element.classList.add("bft-"+this.config.mode),this._gragStartedId=null,this._timeout=null,this._touch=null,this._initialized=!1,this._loaded=!1,this._moveInterval=null,this._movePosition=null,this.response=null,this.nodes=null,this.isVisible=null,e._intersectionObserver(this.element,function(a){i.isVisible=a,e.events.publish("visibility-change",[i])!==!1&&e.LAZY_LOADING&&i.isVisible&&(i._loaded?i._draw(!1,e.action.update):(i._setInitialSizeIfNotSet(),i._draw(!1,e.action.init)))}))};e._defaultConfig=function(t){return{interactive:!0,mode:"light",lazyLoading:!0,enableDragDrop:!1,enableSearch:!0,enableTouch:!1,enablePan:!0,keyNavigation:!1,miniMap:!1,nodeMenu:null,nodeCircleMenu:null,nodeContextMenu:null,menu:null,toolbar:!1,sticky:!0,nodeMouseClick:e.action.details,nodeMouseDbClick:e.none,mouseScrool:e.action.zoom,showXScroll:e.none,showYScroll:e.none,template:"ana",tags:{},min:!1,nodeBinding:{},linkBinding:{},searchFields:null,searchDisplayField:null,searchFieldsWeight:null,searchFieldsAbbreviation:null,nodes:[],clinks:[],slinks:[],backdrops:[],groupDottedLines:[],dottedLines:[],undoRedoStorageName:null,levelSeparation:60,siblingSeparation:20,subtreeSeparation:40,backdropSeparation:15,mixedHierarchyNodesSeparation:15,assistantSeparation:100,minPartnerSeparation:50,partnerChildrenSplitSeparation:20,partnerNodeSeparation:15,columns:10,padding:30,orientation:e.orientation.top,layout:e.layout.normal,layoutGridColumns:"dynamic",scaleInitial:1,movable:null,scaleMin:.1,scaleMax:5,orderBy:null,editUI:null,filterUI:null,searchUI:null,xScrollUI:null,yScrollUI:null,nodeMenuUI:null,nodeCircleMenuUI:null,nodeContextMenuUI:null,toolbarUI:null,notifierUI:null,menuUI:null,undoRedoUI:null,exportUrl:"https://balkan.app/export",collapse:{},expand:{},align:e.CENTER,UI:null,anim:{func:e.anim.outPow,duration:200},zoom:{speed:120,smooth:12},roots:null,state:null,editForm:{readOnly:!1,titleBinding:"name",photoBinding:"img",addMore:"Add more fields",addMoreBtn:"Add",addMoreFieldName:"Field name",saveAndCloseBtn:"Save and close",cancelBtn:"Cancel",generateElementsFromFields:!0,focusBinding:null,buttons:{edit:{icon:e.icon.edit(24,24,"#fff"),text:"Edit",hideIfEditMode:!0,hideIfDetailsMode:!1},share:{icon:e.icon.share(24,24,"#fff"),text:"Share"},pdf:{icon:e.icon.pdf(24,24,"#fff"),text:"Save as PDF"},remove:{icon:e.icon.remove(24,24,"#fff"),text:"Remove",hideIfDetailsMode:!0}},elements:[]}}},e.prototype.load=function(t,n){var i=this;return this.config.nodes=t,this._draw(!1,e.action.init,void 0,function(){i.filterUI.update(),n&&n()}),this},e.prototype.loadXML=function(t,n){var i=e._xml2json(t);return this.load(i,n)},e.prototype.getXML=function(){return e._json2xml(this.config.nodes)},e.prototype.on=function(t,n){return e.events.on(t,n,this._event_id),this},e.prototype.removeListener=function(t,n){return e.events.remove(t,n,this._event_id)},e.prototype.draw=function(t,n,i){t==null&&(t=e.action.update),this._draw(!1,t,n,i)},e.prototype._draw=function(t,n,i,o){var l=this;if(!e.LAZY_LOADING||this.isVisible)if(e.LAZY_LOADING||this._initialized||(this._setInitialSizeIfNotSet(),this.width()!=0&&this.height()!=0)){this._hideBeforeAnimationCompleted=!1;var a=n==e.action.init?null:this.getViewBox();this.manager.read(t,this.width(),this.height(),a,n,i,function(s){if(!l.notifierUI.show(s.notif)){n!=e.action.exporting&&(l.nodes=s.nodes,l.visibleNodeIds=s.visibleNodeIds,l.roots=s.roots),l.editUI.fields=s.allFields;var c={defs:""};e.events.publish("renderdefs",[l,c]);var d=l.ui.defs(c.defs),f=l.getScale(s.viewBox);d+=l.ui.pointer(l.config,n,f);var u=l.getViewBox(),p=s.viewBox;c={content:d,res:s},e.events.publish("prerender",[l,c]),d=c.content;var m=[];if(e.RENDER_LINKS_BEFORE_NODES)for(var g=0;g<s.visibleNodeIds.length;g++){var x=s.nodes[s.visibleNodeIds[g]];e.getRootOf(x).stParent?m.push(x.id):d+=l.ui.link(x,l,f,s.bordersByRootIdAndLevel,s.nodes,n)}for(g=0;g<s.visibleNodeIds.length;g++){x=s.nodes[s.visibleNodeIds[g]];var y=l._get(x.id);e.RENDER_LINKS_BEFORE_NODES&&m.includes(x.id)&&(d+=l.ui.link(x,l,f,s.bordersByRootIdAndLevel,s.nodes,n)),d+=l.ui.node(x,y,s.animations,l.config,void 0,void 0,void 0,n,f,l)}for(g=0;g<s.visibleNodeIds.length;g++)x=s.nodes[s.visibleNodeIds[g]],e.RENDER_LINKS_BEFORE_NODES||(d+=l.ui.link(x,l,f,s.bordersByRootIdAndLevel,s.nodes,n)),d+=l.ui.expandCollapseBtn(l,x,l._layoutConfigs,n,f);if(c={content:d,res:s},e.events.publish("render",[l,c]),d=c.content,s=c.res,d+=l.ui.lonely(l.config),n!==e.action.exporting){if(n!==e.action.centernode&&n!==e.action.insert&&n!==e.action.expand&&n!==e.action.collapse&&n!==e.action.update||(p=u),n===e.action.init&&u!=null&&(p=u),l.response=s,C=l.ui.svg(l.width(),l.height(),p,l.config,d),l._initialized){var v=l.getSvg(),h=v.parentNode;h.removeChild(v),h.insertAdjacentHTML("afterbegin",C),l._attachEventHandlers(),l.xScrollUI.addListener(l.getSvg()),l.yScrollUI.addListener(l.getSvg()),l.xScrollUI.setPosition(),l.yScrollUI.setPosition()}else l.element.innerHTML=l.ui.css()+C+l.ui.menuButton(l.config),l._attachInitEventHandlers(),l._attachEventHandlers(),l.xScrollUI.create(l.width(),l.config.padding),l.xScrollUI.setPosition(),l.xScrollUI.addListener(l.getSvg()),l.yScrollUI.create(l.height(),l.config.padding),l.yScrollUI.setPosition(),l.yScrollUI.addListener(l.getSvg()),l.config.enableSearch&&l.searchUI.init(l),l.toolbarUI.init(l,l.config.toolbar),l.undoRedoUI.init(l);var w=!1,_=l.response.animations;if(_[0].length>0){for(l._hideBeforeAnimation(_[0].length),g=0;g<_[0].length;g++)_[0][g]=l.getNodeElement(_[0][g]);e.animate(_[0],_[1],_[2],l.config.anim.duration,l.config.anim.func,function(){w||(o&&o(),e.events.publish("redraw",[l]),l._showAfterAnimation(),w=!0)})}n===e.action.centerNode?e.animate(l.getSvg(),{viewbox:u},{viewbox:l.response.viewBox},l.config.anim.duration,l.config.anim.func,function(){l.ripple(i.options.rippleId),w||(o&&o(),e.events.publish("redraw",[l]),l._showAfterAnimation(),w=!0)},function(){l.xScrollUI.setPosition(),l.yScrollUI.setPosition()}):!u||!l.response||u[0]==l.response.viewBox[0]&&u[1]==l.response.viewBox[1]&&u[2]==l.response.viewBox[2]&&u[3]==l.response.viewBox[3]||n!==e.action.insert&&n!==e.action.expand&&n!==e.action.collapse&&n!==e.action.update&&n!==e.action.init?_[0].length==0&&(w||(o&&o(),e.events.publish("redraw",[l]),w=!0)):e.animate(l.getSvg(),{viewbox:u},{viewbox:l.response.viewBox},2*l.config.anim.duration,l.config.anim.func,function(){l.xScrollUI.setPosition(),l.yScrollUI.setPosition(),w||(o&&o(),e.events.publish("redraw",[l]),w=!0)}),l._initialized||(l._initialized=!0,l.filterUI.update(),e.events.publish("init",[l])),!l._loaded&&s&&s.nodes&&Object.keys(s.nodes).length&&(l._loaded=!0)}else{var b=s.boundary,S=b.maxX-b.minX,k=b.maxY-b.minY,C=l.ui.svg(S,k,[b.minX,b.minY,S,k],l.config,d,f);o(C,s)}}},function(s){e.events.publish("ready",[l,s])})}else console.error("Cannot load the family with size 0! If you are using the FamilyTree within tabs set FamilyTree.LAZY_LOADING to true! ")},e.prototype._setInitialSizeIfNotSet=function(){this.element.style.overflow="hidden",this.element.style.position="relative",this.element.offsetHeight==0&&(this.element.style.height="100%",this.element.offsetHeight==0&&(this.element.style.height="700px")),this.element.offsetWidth==0&&(this.element.style.width="100%",this.element.offsetWidth==0&&(this.element.style.width="700px"))},e.prototype.width=function(){return this.element.offsetWidth},e.prototype.height=function(){return this.element.offsetHeight},e.prototype.getViewBox=function(){var t=this.getSvg();return e._getViewBox(t)},e.prototype.setViewBox=function(t){this.getSvg().setAttribute("viewBox",t.toString())},e.prototype.getScale=function(t){return t||(t=this.getViewBox()),e.getScale(t,this.width(),this.height(),this.config.scaleInitial,this.config.scaleMax,this.config.scaleMin)},e.prototype.setScale=function(t){t>this.config.scaleMax&&(t=this.config.scaleMax),t<this.config.scaleMin&&(t=this.config.scaleMin);var n=this.getViewBox().slice(0),i=this.width(),o=this.height(),l=i/n[2],a=o/n[3],s=l>a?a:l,c=n,d=n[2],f=n[3];return n[2]=n[2]/(t/s),n[3]=n[3]/(t/s),n[0]=c[0]-(n[2]-d)/2,n[1]=c[1]-(n[3]-f)/2,this.setViewBox(n),e.events.publish("redraw",[this]),t},e.prototype.ripple=function(t,n,i){var o=this.getNode(t);if(o!=null){var l=this.getNodeElement(t);if(l!=null){var a=this.getScale(),s=o.w/2,c=o.h/2;if(n!==void 0&&i!==void 0){var d=l.getBoundingClientRect();s=n/a-d.left/a,c=i/a-d.top/a}var f=o.w,u=o.h,p=f-s>s?f-s:s,m=u-c>c?u-c:c,g=p>m?p:m,x=document.createElementNS("http://www.w3.org/2000/svg","g"),y=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),v=document.createElementNS("http://www.w3.org/2000/svg","rect"),h=document.createElementNS("http://www.w3.org/2000/svg","circle"),w=e.randomId();y.setAttribute("id",w);var _={ripple:e.t(o.templateName,o.min,this.getScale()).ripple,node:o};e.events.publish("ripple",[this,_]),v.setAttribute("x",_.ripple.rect?_.ripple.rect.x:0),v.setAttribute("y",_.ripple.rect?_.ripple.rect.y:0),v.setAttribute("width",_.ripple.rect?_.ripple.rect.width:o.w),v.setAttribute("height",_.ripple.rect?_.ripple.rect.height:o.h),v.setAttribute("rx",_.ripple.radius),v.setAttribute("ry",_.ripple.radius),h.setAttribute("clip-path","url(#"+w+")"),h.setAttribute("cx",s),h.setAttribute("cy",c),h.setAttribute("r",0),h.setAttribute("fill",_.ripple.color),h.setAttribute("class","bft-ripple"),y.appendChild(v),x.appendChild(y),x.appendChild(h),l.appendChild(x),e.animate(h,{r:0,opacity:1},{r:g,opacity:0},500,e.anim.outPow,function(){l.removeChild(x)})}}},e.prototype.center=function(t,n,i){var o,l,a=t,s=!0,c=!0;n&&n.parentState!=null&&(o=n.parentState),n&&n.childrenState!=null&&(l=n.childrenState),n&&n.rippleId!=null&&(a=n.rippleId),n&&n.vertical!=null&&(s=n.vertical),n&&n.horizontal!=null&&(c=n.horizontal);var d={parentState:o,childrenState:l,rippleId:a,vertical:s,horizontal:c};this._draw(!1,e.action.centerNode,{id:t,options:d},i)},e.prototype.fit=function(t){this.config.scaleInitial=e.match.boundary,this._draw(!0,e.action.init,{method:"fit"},t)},e.prototype.toggleFullScreen=function(){var t=document.querySelector("["+e.attr.tlbr+"r='fullScreen']");document.fullscreenElement==this.element||document.webkitFullscreenElement==this.element||document.mozFullScreenElement==this.element||document.msFullscreenElement==this.element?(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),t&&(t.innerHTML=e.toolbarUI.openFullScreenIcon)):(this.element.requestFullscreen?this.element.requestFullscreen():this.element.mozRequestFullScreen?this.element.mozRequestFullScreen():this.element.webkitRequestFullscreen?this.element.webkitRequestFullscreen():this.element.msRequestFullscreen&&this.element.msRequestFullscreen(),t&&(t.innerHTML=e.toolbarUI.closeFullScreenIcon))},e.prototype.getNode=function(t){return this.nodes[t]},e.prototype.setLayout=function(t,n){n||(n="base"),this._layoutConfigs[n].layout=t,n=="base"&&(this.config.layout=t),this._draw(!1,e.action.update)},e.prototype.setOrientation=function(t,n,i){var o=this;n||(n="base"),this._layoutConfigs[n].orientation=t,n=="base"&&(this.config.orientation=t),this._draw(!1,e.action.update,void 0,function(){e._moveToBoundaryArea(o.getSvg(),o.getViewBox(),o.response.boundary,function(){o._draw(!0,e.action.pan),i&&i()})})},e.prototype.search=function(t,n,i){return e.isNEU(n)&&(n=this.searchUI._searchFields),e.isNEU(i)&&(i=n),e._search.search(this.config.nodes,t,n,i,this.config.searchDisplayField,this.config.searchFieldsWeight,this.searchUI._searchFieldsAbbreviation)},e.prototype._hideBeforeAnimation=function(t){if(this._hideBeforeAnimationCompleted!=1&&!(t&&t<e.ANIM_THRESHOLD)){var n=this.element.getElementsByTagName("text");if(n.length>e.TEXT_THRESHOLD)for(var i=0;i<n.length;i++)n[i].style.display="none";var o=this.element.getElementsByTagName("image");if(o.length>e.IMAGES_THRESHOLD)for(i=0;i<o.length;i++)o[i].style.display="none";var l=this.element.querySelectorAll("["+e.attr.link_id+"]");if(l.length>e.LINKS_THRESHOLD)for(i=0;i<l.length;i++)l[i].style.display="none";var a=this.element.querySelectorAll("["+e.attr.control_expcoll_id+"]");if(a.length>e.BUTTONS_THRESHOLD)for(i=0;i<a.length;i++)a[i].style.display="none";var s=this.element.querySelectorAll("["+e.attr.control_up_id+"]");if(s.length>e.BUTTONS_THRESHOLD)for(i=0;i<s.length;i++)s[i].style.display="none";this._hideBeforeAnimationCompleted=!0}},e.prototype._showAfterAnimation=function(){for(var t=this.element.getElementsByTagName("text"),n=0;n<t.length;n++)t[n].style.display="";var i=this.element.getElementsByTagName("image");for(n=0;n<i.length;n++)i[n].style.display="";var o=this.element.querySelectorAll("["+e.attr.link_id+"]");for(n=0;n<o.length;n++)o[n].style.display="";var l=this.element.querySelectorAll("["+e.attr.control_expcoll_id+"]");for(n=0;n<l.length;n++)l[n].style.display="";var a=this.element.querySelectorAll("["+e.attr.control_up_id+"]");for(n=0;n<a.length;n++)a[n].style.display="";this._hideBeforeAnimationCompleted=!1},e.prototype.isChild=function(t,n){for(var i=this.getNode(n);i;){if(i.id==t)return!0;i=i.parent?i.parent:i.stParent}return!1},e.prototype.getCollapsedIds=function(t){for(var n=[],i=0;i<t.childrenIds.length;i++){var o=this.getNode(t.childrenIds[i]);o.collapsed==1&&n.push(o.id)}return n},e.prototype.stateToUrl=function(){if(this.manager.state){var t={};return t.exp=this.manager.state.exp.join("*"),t.min=this.manager.state.min.join("*"),t.adjustify=this.manager.state.adjustify.x+"*"+this.manager.state.adjustify.y,t.scale=this.manager.state.scale,t.y=this.manager.state.x,t.x=this.manager.state.y,new URLSearchParams(t).toString()}return""},e.prototype.generateId=function(){for(;;){var t="_"+("0000"+(Math.random()*Math.pow(36,4)|0).toString(36)).slice(-4);if(this.nodes==null||!this.nodes.hasOwnProperty(t))return t}},e.prototype.moveNodesToVisibleArea=function(t,n){for(var i=this,o=this.getSvg(),l=this.getViewBox(),a=null,s=null,c=null,d=null,f=0;f<t.length;f++){var u=this.nodes[t[f]];(a===null||a<u.x+u.w)&&(a=u.x+u.w),(s===null||s<u.y+u.h)&&(s=u.y+u.h),(c===null||c>u.x)&&(c=u.x),(d===null||d>u.y)&&(d=u.y)}var p=this.width(),m=this.height(),g=p/(w=a-c+2*this.config.padding),x=m/(_=s-d+2*this.config.padding),y=g>x?x:g,v=Math.ceil(p/y),h=Math.ceil(m/y),w=0,_=0;if(v-2*this.config.padding>=a-c)w=(a+c)/2-v/2;else switch(w=firstRoot.x-v/2+e.manager._getNodeWidth(firstRoot,this.config)/2,this.config.orientation){case e.orientation.right:case e.orientation.right_top:(w=-(v/2-(c-a)/2))<this.config.padding-v&&(w=this.config.padding-v);break;case e.orientation.left:case e.orientation.bottom_left:case e.orientation.top_left:case e.orientation.left_top:(w=-(v/2-(a-c)/2))>-this.config.padding&&(w=-this.config.padding)}if(h-2*this.config.padding>=s-d)_=(s+d)/2-h/2;else switch((_=-(h/2-(s-d)/2))>-this.config.padding&&(_=-this.config.padding),this.config.orientation){case e.orientation.bottom:case e.orientation.bottom_left:(_=-(h/2-(d-s)/2))<this.config.padding-h&&(_=this.config.padding-h);break;case e.orientation.left:case e.orientation.right:_=firstRoot.y-h/2+e.manager._getNodeWidth(firstRoot,this.config)/2}var b=[w,_,v,h];l[0]!==b[0]||l[1]!==b[1]?e.animate(o,{viewBox:l},{viewBox:b},this.config.anim.duration,this.config.anim.func,function(){i.draw(e.action.update,void 0,n)}):n&&n()},e.prototype._nodeHasHiddenParent=function(t){return!t.parent&&!e.isNEU(t.pid)&&this.getNode(t.pid)},e.prototype.destroy=function(){this._removeEvent(window,"resize"),e.events.removeForEventId(this._event_id),this.element.innerHTML=null},e.__defaultConfig=e._defaultConfig,e._defaultConfig=function(t){var n=e.__defaultConfig();return n.nodeTreeMenu=null,n.template="tommy",n.mode="light",n.minPartnerSeparation=30,n.partnerChildrenSplitSeparation=10,n.siblingSeparation=35,n.tags["children-group"]={template:"cgroup",subTreeConfig:{siblingSeparation:7,columns:1}},t&&t.template?(n.tags.male={template:t.template+"_male"},n.tags.female={template:t.template+"_female"}):(n.tags.male={template:n.template+"_male"},n.tags.female={template:n.template+"_female"}),n},e.prototype.load=function(t,n){var i=this;return this.config.nodes=t,this.config.roots=null,this._draw(!1,e.action.init,void 0,function(){i.filterUI.update(),n&&n()}),this},e.prototype.getRecentRootsByNodeId=function(t){this.recentRoots||(this.recentRoots=[]);var n=this.recentRoots,i=this.getNode(t);return i?(i.rids.sort(function(o,l){var a=n.indexOf(o),s=n.indexOf(l);return a==-1?1e3:s==-1?-1e3:a-s}),i.rids):[]},e.prototype._nodeHasHiddenParent=function(t){return!(t.parent||e.isNEU(t.pid)||!this.getNode(t.pid))||!(!t.isPartner||e.isNEU(t.mid)||!this.getNode(t.mid))||!(!t.isPartner||e.isNEU(t.fid)||!this.getNode(t.fid))||!!(t.isPartner&&t.pids.length>1)},e.prototype._center=e.prototype.center,e.prototype.center=function(t,n,i){var o=this.getRecentRootsByNodeId(t);Array.isArray(this.config.roots)||(roots=[]),e._changeRootOption(this.config.roots,o,this.manager.rootList),this._center(t,n,i)},e.localStorage={},e.localStorage.getItem=function(t){var n=localStorage.getItem("to_date");if(n){if((n=new Date(n))<new Date){for(var i=0,o=localStorage.length;i<o;++i){var l=localStorage.key(i);l&&l.startsWith&&l.startsWith('{"n"')&&localStorage.removeItem(l)}localStorage.removeItem("to_date")}}else(n=new Date).setDate(n.getDate()+5),n=n.toISOString(),localStorage.setItem("to_date",n);return localStorage.getItem(t)},e.localStorage.setItem=function(t,n){try{localStorage.setItem(t,n)}catch(i){i.code==i.QUOTA_EXCEEDED_ERR?(console.warn("Local storage quota exceeded"),localStorage.clear()):(console.error("Local storage error code:"+i.code),console.error(i))}},e.prototype.canUpdateLink=function(t,n){if(n==null||n==null||t==null||t==null||t==n)return!1;var i=this.getNode(n),o=this.getNode(t);return!(i&&o&&(i.isPartner||i.hasPartners&&o.isAssistant||i.hasAssistants&&o.isPartner))&&!this.isChild(t,n)},e.prototype._canUpdateLink=e.prototype.canUpdateLink,e.prototype.updateNode=function(t,n,i){var o=this,l=this.get(t.id);if(i===!0&&e.events.publish("update",[this,l,t])===!1)return!1;this.update(t),e.events.publish("updated",[this]),this.filterUI.update();var a=this.getNode(t.id),s=a.pid;s==null&&(s=a.stpid),this._draw(!1,e.action.update,{id:s},function(){o.ripple(t.id),n&&n()})},e.prototype.update=function(t){for(var n=0;n<this.config.nodes.length;n++)if(this.config.nodes[n].id==t.id){this._putInUndoStack(),this.clearRedo(),this.config.nodes[n]=t;break}return this},e.prototype.removeNode=function(t,n,i){var o=this;if(!this.canRemove(t))return!1;var l=this._getNewPidsAndStpidsForIds(t);return i===!0&&e.events.publish("remove",[this,t,l])===!1?!1:(this.remove(t),e.events.publish("updated",[this]),this.filterUI.update(),this._draw(!1,e.action.update,null,function(){o.config.sticky&&e._moveToBoundaryArea(o.getSvg(),o.getViewBox(),o.response.boundary),n&&n()}),!0)},e.prototype.remove=function(t){var n=this.get(t);if(n){this._putInUndoStack(),this.clearRedo();for(var i=this.config.nodes.length-1;i>=0;i--)this.config.nodes[i].pid!=t&&this.config.nodes[i].stpid!=t||(this.config.nodes[i].pid=n.pid,this.config.nodes[i].stpid=n.stpid),this.config.nodes[i].id==t&&this.config.nodes.splice(i,1)}return this},e.prototype._getNewPidsAndStpidsForIds=function(t){var n=this.get(t),i={},o={};if(n)for(var l=this.config.nodes.length-1;l>=0;l--)this.config.nodes[l].pid==t?i[this.config.nodes[l].id]=n.pid:this.config.nodes[l].stpid==t&&(o[this.config.nodes[l].id]=n.stpid);return{newPidsForIds:i,newStpidsForIds:o}},e.prototype.addNode=function(t,n,i){var o=this;if(i===!0&&e.events.publish("add",[this,t])===!1)return!1;this.add(t),e.events.publish("updated",[this]),this.filterUI.update(),o._draw(!1,e.action.insert,{id:t.pid,insertedNodeId:t.id},function(){o.ripple(t.id),n&&n()})},e.prototype.add=function(t){if(t.id==null&&console.error("Call addNode without id"),this._putInUndoStack(),this.clearRedo(),this.config.movable&&!e.isNEU(t.pid)){var n=this._get(t.pid);n&&(n.movex!=null&&(t.movex=n.movex),n.movey!=null&&(t.movey=n.movey))}return this.config.nodes.push(t),this},e.prototype.replaceIds=function(t,n){this._replaceIds(t),this._draw(!1,e.action.update,void 0,n)},e.prototype._replaceIds=function(t){for(var n=function(d){for(var f=0;f<d.length;f++){var u=d[f];for(var p in t){var m=t[p];u.from==p&&(u.from=m),u.to==p&&(u.to=m)}}},i=0;i<this.config.nodes.length;i++){var o=this.config.nodes[i];for(var l in t){var a=t[l];o.id==l&&(o.id=a),o.pid==l&&(o.pid=a),o.stpid==l&&(o.stpid=a),o.ppid==l&&(o.ppid=a)}}if(Array.isArray(this.config.roots))for(i=0;i<this.config.roots.length;i++)e.isNEU(t[this.config.roots[i]])||(this.config.roots[i]=t[this.config.roots[i]]);if(this.nodes)for(var s in this.nodes)e.isNEU(t[s])||(a=t[s],(c=this.nodes[s]).id=a,this.nodes[a]=c);if(this.manager.oldNodes)for(var s in this.manager.oldNodes)e.isNEU(t[s])||(a=t[s],(c=this.manager.oldNodes[s]).id=a,this.manager.oldNodes[a]=c);if(this.roots){for(var s in this.roots)if(!e.isNEU(t[s])){var c;a=t[s],(c=this.roots[s]).id=a,this.roots[a]=c}}n(this.config.clinks),n(this.config.slinks),n(this.config.groupDottedLines),n(this.config.dottedLines)},e.prototype._get=function(t){var n=this.__get(t);if(n)return n;if((this.config.groupDottedLines.length||this.config.dottedLines.length)&&!e.isNEU(t)&&typeof t=="string"&&(t.indexOf("balkan_group_dotted_")!=-1||t.indexOf("balkan_dotted_")!=-1)){var i=(t=(t=t.replace("balkan_group_dotted_","")).replace("balkan_dotted_","")).indexOf("_balkan_id_");if(t=t.substring(i+11),n=this.__get(t))return n}return null},e.prototype.__get=function(t){for(var n=0;n<this.config.nodes.length;n++)if(this.config.nodes[n].id==t)return this.config.nodes[n];return null},e.prototype.get=function(t){var n=this._get(t);return n==null?null:JSON.parse(JSON.stringify(n))},e.prototype.canRemove=function(t){var n=this.getNode(t);return!!n&&!n.hasPartners&&!n.hasAssistants},e.prototype.addChildNode=function(t,n,i){this.hideTreeMenu(!1);var o=this;if(!t||e.isNEU(t.mid)&&e.isNEU(t.fid))console.error("addSonNode invalid data");else{e.isNEU(t.id)&&(t.id=this.generateId());var l={addNodesData:[t],updateNodesData:[],removeNodeId:null};if(i===!0&&e.events.publish("update",[this,l])===!1)return!1;o._fireUpdate_addUpdateRemove(l,i);var a="";e.isNEU(l.addNodesData[0].pid)?e.isNEU(l.addNodesData[0].mid)?e.isNEU(l.addNodesData[0].fid)||(a=l.addNodesData[0].fid):a=l.addNodesData[0].mid:a=l.addNodesData[0].pid,o._draw(!1,e.action.insert,{id:a,insertedNodeId:l.addNodesData[0].id},function(){o.ripple(l.addNodesData[0].id),n&&n(),i===!0&&e.events.publish("updated",[o,l]),o.filterUI.update()})}},e.prototype.addChildAndPartnerNodes=function(t,n,i,o,l){this.hideTreeMenu(!1);var a=this;if(!n||e.isNEU(n.mid)&&e.isNEU(n.fid))console.error("addChildAndPartnerNodes invalid childData");else if(i){e.isNEU(n.id)&&(n.id=this.generateId()),e.isNEU(i.id)&&(i.id=this.generateId()),n.mid=="_ft_partner"?n.mid=i.id:n.fid=="_ft_partner"&&(n.fid=i.id);var s=[],c=null;Array.isArray(i.pids)&&(i.pids.length!=1&&console.error("addChildAndPartnerNodes partnerData.pids has to have one partner"),c=this.get(i.pids[0]),Array.isArray(c.pids)||(c.pids=[]),c.pids.push(i.id),s.push(c));var d={addNodesData:[n,i],updateNodesData:s,removeNodeId:null};if(l===!0&&e.events.publish("update",[this,d])===!1)return!1;a._fireUpdate_addUpdateRemove(d,l);var f=a.getRecentRootsByNodeId(t);e._changeRootOption(a.config.roots,f,a.manager.rootList);var u="";c?u=c.id:e.isNEU(n.pid)?e.isNEU(n.mid)?e.isNEU(n.fid)||(u=n.fid):u=n.mid:u=n.pid,a._draw(!1,e.action.update,{id:u},function(){a.ripple(n.id),a.ripple(i.id),o&&o(),l===!0&&e.events.publish("updated",[a,d]),a.filterUI.update()}),l===!0&&e.events.publish("updating",[a,d])}else console.error("addChildAndPartnerNodes invalid data")},e.prototype.addPartnerAndParentNodes=function(t,n,i,o,l){this.hideTreeMenu(!1);var a=this;if(!e.isNEU(n)&&n.length)if(i){e.isNEU(i.id)&&(i.id=this.generateId());for(var s=[],c=0;c<n.length;c++){var d=this.get(n[c]);if(!e.isNEU(d.mid)&&!e.isNEU(d.fid))return void console.error("father id (fid) or mather id (mid) has to be null or undefined");e.isNEU(d.mid)?d.mid=i.id:e.isNEU(d.mid)||(d.fid=i.id),s.push(d)}var f=null;Array.isArray(i.pids)&&(i.pids.length!=1&&console.error("addChildAndPartnerNodes partnerData.pids has to have one partner"),f=this.get(i.pids[0]),Array.isArray(f.pids)||(f.pids=[]),f.pids.push(i.id),s.push(f));var u={addNodesData:[i],updateNodesData:s,removeNodeId:null};if(l===!0&&e.events.publish("update",[this,u])===!1)return!1;a._fireUpdate_addUpdateRemove(u,l);var p=a.getRecentRootsByNodeId(t);e._changeRootOption(a.config.roots,p,a.manager.rootList);var m="";f&&(m=f.id),a._draw(!1,e.action.update,{id:m},function(){a.ripple(i.id),o&&o(),l===!0&&e.events.publish("updated",[a,u]),a.filterUI.update()}),l===!0&&e.events.publish("updating",[a,u])}else console.error("addPartnerAndParentNodes invalid data");else console.error("addPartnerAndParentNodes invalid data")},e.prototype.addPartnerNode=function(t,n,i){this.hideTreeMenu(!1);var o=this;if(t&&Array.isArray(t.pids)&&t.pids.length==1){e.isNEU(t.id)&&(t.id=this.generateId());var l=this.get(t.pids[0]);Array.isArray(l.pids)||(l.pids=[]),l.pids.push(t.id);var a={removeNodeId:null,updateNodesData:[l],addNodesData:[t]};if(i===!0&&e.events.publish("update",[this,a])===!1)return!1;o._fireUpdate_addUpdateRemove(a,i);var s=o.getRecentRootsByNodeId(a.updateNodesData[0].id);e._changeRootOption(o.config.roots,s,o.manager.rootList);var c=a.updateNodesData[0].id;o._draw(!1,e.action.insert,{id:c,insertedNodeId:a.addNodesData[0].id},function(){o.ripple(a.addNodesData[0].id),n&&n(),i===!0&&e.events.publish("updated",[o,a]),o.filterUI.update()}),i===!0&&e.events.publish("updating",[o,a])}else console.error("addPartnerNode invalid data")},e.prototype.addParentNode=function(t,n,i,o,l){this.hideTreeMenu(!1);var a=this;if(i)if(["mid","fid"].has(n))if(e.isNEU(t))console.error("addParentNode invalid childId");else{e.isNEU(i.id)&&(i.id=this.generateId());var s=[],c=this.get(t);c[n]=i.id,s.push(c);var d=null;Array.isArray(i.pids)&&(i.pids.length!=1&&console.error("addParentNode: data has to have one partner"),d=this.get(i.pids[0]),Array.isArray(d.pids)||(d.pids=[]),d.pids.push(i.id),s.push(d));var f={removeNodeId:null,updateNodesData:s,addNodesData:[i]};if(l===!0&&e.events.publish("update",[this,f])===!1)return!1;a._fireUpdate_addUpdateRemove(f,l);var u=t;a.config.roots=[f.addNodesData[0].id],a._draw(!1,e.action.insert,{id:u,insertedNodeId:f.addNodesData[0].id},function(){a.ripple(f.addNodesData[0].id),o&&o(),l===!0&&e.events.publish("updated",[a,f]),a.filterUI.update()}),l===!0&&e.events.publish("updating",[a,f])}else console.error("addParentNode invalid type");else console.error("addParentNode invalid data")},e.prototype.canRemove=function(t){var n=this.getNode(t);if(!n)return!1;var i=this.getNode(n.mid),o=this.getNode(n.fid),l=n.ftChildrenIds.length>0,a=!1,s=n.pids.length>0,c=n.pids.length>1;if(n.pids.length==1){var d=this.getNode(n.pids[0]);a=n.ftChildrenIds.compare(d.ftChildrenIds)}return!(!i&&!o||l||s)||!(i||o||l||c||!s||a)||!(i||o||!l||!a)||!(i||o||!l||a)||!(i||o||l||!a)},e.prototype.removeNode=function(t,n,i){var o=this;if(this.canRemove(t)){var l=this.getNode(t),a=[];if(Array.isArray(l.pids))for(var s=0;s<l.pids.length;s++){var c=this.get(l.pids[s]);c&&(f=c.pids.indexOf(l.id))!=-1&&(c.pids.splice(f,1),a.push(c))}if(Array.isArray(l.ftChildrenIds))for(s=0;s<l.ftChildrenIds.length;s++){var d=this.get(l.ftChildrenIds[s]);d&&(d.mid==l.id?(d.mid=void 0,a.push(d)):d.fid==l.id&&(d.fid=void 0,a.push(d)))}var f,u={removeNodeId:t,updateNodesData:a,addNodesData:[]};if(i===!0&&e.events.publish("update",[this,u])===!1)return!1;o._fireUpdate_addUpdateRemove(u,i),(f=o.config.roots.indexOf(t))!=-1&&o.config.roots.splice(f,1),o._draw(!1,e.action.update,null,function(){o.config.sticky&&e._moveToBoundaryArea(o.getSvg(),o.getViewBox(),o.response.boundary),n&&n(),i===!0&&e.events.publish("updated",[o,u]),o.filterUI.update()}),i===!0&&e.events.publish("updating",[o,u])}},e.prototype.updateNode=function(t,n,i){var o=this,l=this.getNode(t.id);t.pids||(t.pids=[]);var a=[];a.push(t);for(var s=0;s<l.pids.length;s++)if(!t.pids.has(l.pids[s])&&(d=this._get(l.pids[s]))&&d.pids){var c=d.pids.indexOf(t.id);c!=-1&&(d.pids.splice(c,1),a.push(t)),l.pids.splice(s,1),a.push(d)}for(s=0;s<t.pids.length;s++){var d;(!l.pids||!l.pids.has(t.pids[s]))&&((d=this._get(t.pids[s])).pids||(d.pids=[]),d.pids.push(t.pids[s]),a.push(d))}var f={removeNodeId:null,updateNodesData:a,addNodesData:[]};if(i===!0&&e.events.publish("update",[this,f])===!1)return!1;o._fireUpdate_addUpdateRemove(f,i),o._draw(!1,e.action.update,null,function(){o.config.sticky&&e._moveToBoundaryArea(o.getSvg(),o.getViewBox(),o.response.boundary),n&&n(),i===!0&&e.events.publish("updated",[o,f]),o.filterUI.update()})},e.prototype._fireUpdate_addUpdateRemove=function(t,n){for(var i=0;i<t.addNodesData.length;i++)this.add(t.addNodesData[i]);for(i=0;i<t.updateNodesData.length;i++)this.update(t.updateNodesData[i]);e.isNEU(t.removeNodeId)||this.remove(t.removeNodeId),n===!0&&e.events.publish("updating",[this,t])},e.prototype.__replaceIds=e.prototype._replaceIds,e.prototype._replaceIds=function(t){this.__replaceIds(t);for(var n=0;n<this.config.nodes.length;n++){var i=this.config.nodes[n];for(var o in t){var l=t[o];if(i.fid==o&&(i.fid=l),i.mid==o&&(i.mid=l),Array.isArray(i.pids))for(var a=0;a<i.pids.length;a++)i.pids[a]==o&&(i.pids[a]=l)}}},e===void 0&&(e={}),e._ajax=function(t,n,i,o,l){o==null&&(o="arraybuffer");var a=new XMLHttpRequest;a.onload=function(s){a.readyState==4&&this.status===200&&(s.target==null?l(this.response):l(s.target.response))},a.onerror=function(s){l({error:s})},a.open(n,t),a.responseType=o,a.setRequestHeader("Content-Type","application/json"),i==null?a.send():a.send(i)},e===void 0&&(e={}),e.animate=function(t,n,i,o,l,a,s){var c,d=10,f=1,u=o/d+1;return document.getElementsByTagName("g"),Array.isArray(t)||(t=[t]),Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]),c=setInterval(function(){for(var p=0;p<t.length;p++)for(var m in i[p]){var g=e._arrayContains(["top","left","right","bottom","width","height"],m.toLowerCase())?"px":"";switch(m.toLowerCase()){case"d":var x=l((f*d-d)/o)*(i[p][m][0]-n[p][m][0])+n[p][m][0],y=l((f*d-d)/o)*(i[p][m][1]-n[p][m][1])+n[p][m][1];t[p].setAttribute("d",t[p].getAttribute("d")+" L"+x+" "+y);break;case"r":var v=l((f*d-d)/o)*(i[p][m]-n[p][m])+n[p][m];t[p].setAttribute("r",v);break;case"x1":v=l((f*d-d)/o)*(i[p][m]-n[p][m])+n[p][m],t[p].setAttribute("x1",v);break;case"x2":v=l((f*d-d)/o)*(i[p][m]-n[p][m])+n[p][m],t[p].setAttribute("x2",v);break;case"y1":v=l((f*d-d)/o)*(i[p][m]-n[p][m])+n[p][m],t[p].setAttribute("y1",v);break;case"y2":v=l((f*d-d)/o)*(i[p][m]-n[p][m])+n[p][m],t[p].setAttribute("y2",v);break;case"rotate3d":if(i[p][m]){var h=n[p][m],w=i[p][m],_=[0,0,0,0];for(var b in h)_[b]=l((f*d-d)/o)*(w[b]-h[b])+h[b];t[p].style.transform="rotate3d("+_.toString()+"deg)"}break;case"transform":if(i[p][m]){h=n[p][m],w=i[p][m],_=[0,0,0,0,0,0];for(var b in h)_[b]=l((f*d-d)/o)*(w[b]-h[b])+h[b];t[p].hasAttribute("transform")?t[p].setAttribute("transform","matrix("+_.toString()+")"):t[p].style.transform="matrix("+_.toString()+")"}break;case"viewbox":if(i[p][m]){h=n[p][m],w=i[p][m],_=[0,0,0,0];for(var b in h)_[b]=l((f*d-d)/o)*(w[b]-h[b])+h[b];t[p].setAttribute("viewBox",_.toString())}break;case"margin":if(i[p][m]){h=n[p][m],w=i[p][m],_=[0,0,0,0];for(var b in h)_[b]=l((f*d-d)/o)*(w[b]-h[b])+h[b];var S="";for(b=0;b<_.length;b++)S+=parseInt(_[b])+"px ";t[p]&&t[p].style&&(t[p].style[m]=S)}break;case"scrolly":v=l((f*d-d)/o)*(i[p][m]-n[p][m])+n[p][m],t[p].scrollTo(0,v);break;default:v=l((f*d-d)/o)*(i[p][m]-n[p][m])+n[p][m],t[p]&&t[p].style&&(t[p].style[m]=v+g)}}s&&s(),(f+=1)>u+1&&(clearInterval(c),a&&a(t))},d)},e.anim={},e.anim.inPow=function(t){return t<0?0:t>1?1:Math.pow(t,2)},e.anim.outPow=function(t){return t<0?0:t>1?1:-1*(Math.pow(t-1,2)+-1)},e.anim.inOutPow=function(t){return t<0?0:t>1?1:(t*=2)<1?e.anim.inPow(t,2)/2:-.5*(Math.pow(t-2,2)+-2)},e.anim.inSin=function(t){return t<0?0:t>1?1:1-Math.cos(t*(Math.PI/2))},e.anim.outSin=function(t){return t<0?0:t>1?1:Math.sin(t*(Math.PI/2))},e.anim.inOutSin=function(t){return t<0?0:t>1?1:-.5*(Math.cos(Math.PI*t)-1)},e.anim.inExp=function(t){return t<0?0:t>1?1:Math.pow(2,10*(t-1))},e.anim.outExp=function(t){return t<0?0:t>1?1:1-Math.pow(2,-10*t)},e.anim.inOutExp=function(t){return t<0?0:t>1?1:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,10*(-2*t+1)))},e.anim.inCirc=function(t){return t<0?0:t>1?1:-(Math.sqrt(1-t*t)-1)},e.anim.outCirc=function(t){return t<0?0:t>1?1:Math.sqrt(1-(t-1)*(t-1))},e.anim.inOutCirc=function(t){return t<0?0:t>1?1:t<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(2*t-2)*(2*t-2))+1)},e.anim.rebound=function(t){return t<0?0:t>1?1:t<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-1.5/2.75)*(t-1.5/2.75)+.75):t<2.5/2.75?1-(7.5625*(t-2.25/2.75)*(t-2.25/2.75)+.9375):1-(7.5625*(t-2.625/2.75)*(t-2.625/2.75)+.984375)},e.anim.inBack=function(t){return t<0?0:t>1?1:t*t*(2.70158*t-1.70158)},e.anim.outBack=function(t){return t<0?0:t>1?1:(t-1)*(t-1)*(2.70158*(t-1)+1.70158)+1},e.anim.inOutBack=function(t){return t<0?0:t>1?1:t<.5?4*t*t*(7.1898*t-2.5949)*.5:.5*((2*t-2)*(2*t-2)*(3.5949*(2*t-2)+2.5949)+2)},e.anim.impulse=function(t){var n=2*t;return n*Math.exp(1-n)},e.anim.expPulse=function(t){return Math.exp(-2*Math.pow(t,2))},e===void 0&&(e={}),e.prototype._attachInitEventHandlers=function(t){this._addEvent(window,"resize",this._resizeHandler)},e.prototype._attachEventHandlers=function(t){if(this.config.interactive){t=this.getSvg(),this.config.enableTouch||e.isMobile()?(this._addEvent(t,"touchstart",this._globalMouseDownHandler),this._addEvent(t,"touchend",this._globalClickHandler)):(this._addEvent(t,"mousedown",this._globalMouseDownHandler),this._addEvent(t,"click",this._globalClickHandler),this._addEvent(t,"contextmenu",this._globalContextHandler),this._addEvent(t,"dblclick",this._globalDbClickHandler),this.config.mouseScrool!=e.action.none&&this._addEvent(t,"wheel",this._mouseScrollHandler));var n=this.getMenuButton();n&&this._addEvent(n,"click",this._menuClickHandler)}},e.prototype._addEvent=function(t,n,i,o){var l,a;o||(o=""),t.getListenerList||(t.getListenerList={}),t.getListenerList[n+o]||(l=this,a=i,i=function(){if(a)return a.apply(l,[this,arguments[0]])},t.addEventListener?n=="mousewheel"?t.addEventListener(n,s,{passive:!1}):t.addEventListener(n,s,!1):t.attachEvent("on"+n,function(){var c=i.call(t,window.event);return c===!1&&(window.event.returnValue=!1,window.event.cancelBubble=!0),c}),t.getListenerList[n+o]=s);function s(c){var d=i.apply(this,arguments);return d===!1&&(c.stopPropagation(),c.preventDefault()),d}},e.prototype._removeEvent=function(t,n){if(t.getListenerList[n]){var i=t.getListenerList[n];t.removeEventListener(n,i,!1),delete t.getListenerList[n]}},e===void 0&&(e={}),e.VERSION="8.14.54",e.orientation={},e.orientation.top=0,e.orientation.bottom=1,e.orientation.right=2,e.orientation.left=3,e.orientation.top_left=4,e.orientation.bottom_left=5,e.orientation.right_top=6,e.orientation.left_top=7,e.align={},e.align.center=e.CENTER=8,e.align.orientation=e.ORIENTATION=9,e.attr={},e.attr.l="data-l",e.attr.id="data-id",e.attr.sl="data-sl",e.attr.lbl="data-lbl",e.attr.val="data-val",e.attr.tlbr="data-tlbr",e.attr.item="data-item",e.attr.layout="data-layout",e.attr.node_id="data-n-id",e.attr.link_id="data-l-id",e.attr.field_name="data-f-name",e.attr.c_link_to="data-c-l-to",e.attr.c_link_from="data-c-l-from",e.attr.s_link_to="data-s-l-to",e.attr.s_link_from="data-s-l-from",e.attr.control_add="data-ctrl-add",e.attr.control_expcoll_id="data-ctrl-ec-id",e.attr.control_up_id="data-ctrl-up-id",e.attr.control_export_menu="data-ctrl-menu",e.attr.control_node_menu_id="data-ctrl-n-menu-id",e.attr.control_node_circle_menu_id="data-ctrl-n-c-menu-id",e.attr.control_node_circle_menu_name="data-ctrl-n-c-menu-name",e.attr.control_node_circle_menu_wrraper_id="data-ctrl-n-c-menu-wrapper-id",e.attr.width="data-width",e.attr.text_overflow="data-text-overflow",e.ID="id",e.PID="pid",e.STPID="stpid",e.TAGS="tags",e.NODES="nodes",e.ELASTIC="elastic",e.ASSISTANT="Assistant",e.action={},e.action.expand=0,e.action.collapse=1,e.action.maximize=101,e.action.minimize=102,e.action.expandCollapse=501,e.action.edit=1,e.action.zoom=2,e.action.ctrlZoom=22,e.action.scroll=41,e.action.xScroll=3,e.action.yScroll=4,e.action.none=5,e.action.init=6,e.action.update=7,e.action.move=70,e.action.pan=8,e.action.centerNode=9,e.action.resize=10,e.action.insert=11,e.action.insertfirst=12,e.action.details=13,e.action.exporting=14,e.none=400001,e.scroll={},e.scroll.visible=!0,e.scroll.smooth=12,e.scroll.speed=120,e.scroll.safari={smooth:12,speed:250},e.match={},e.match.height=100001,e.match.width=100002,e.match.boundary=100003,e.movable={},e.movable.node="node",e.movable.tree="tree",e.movable.detachTree="detachTree",e.layout={},e.layout.normal=e.normal=0,e.layout.mixed=e.mixed=1,e.layout.tree=e.tree=2,e.layout.treeLeftOffset=e.treeLeftOffset=3,e.layout.treeRightOffset=e.treeRightOffset=4,e.layout.treeLeft=5,e.layout.treeRight=6,e.layout.grid=-1,e.nodeOpenTag="<g "+e.attr.node_id+'="{id}" style="opacity: {opacity}" transform="matrix(1,0,0,1,{x},{y})" class="{class}" '+e.attr.sl+'="{sl}" '+e.attr.l+"={level} {lcn}>",e.linkOpenTag="<g "+e.attr.link_id+'="[{id}][{child-id}]" class="{class}">',e.expcollOpenTag="<g "+e.attr.control_expcoll_id+'="{id}" transform="matrix(1,0,0,1,{x},{y})"  style="cursor:pointer;">',e.upOpenTag="<g "+e.attr.control_up_id+'="{id}" transform="matrix(1,0,0,1,{x},{y})" style="cursor:pointer;">',e.linkFieldsOpenTag='<g transform="matrix(1,0,0,1,{x},{y}) rotate({rotate})">',e.grCloseTag="</g>",e.A5w=420,e.A5h=595,e.A4w=595,e.A4h=842,e.A3w=842,e.A3h=1191,e.A2w=1191,e.A2h=1684,e.A1w=1684,e.A1h=2384,e.Letterw=612,e.Letterh=791,e.Legalw=612,e.Legalh=1009,e.COLLAPSE_PARENT_NEIGHBORS=1,e.COLLAPSE_SUB_CHILDRENS=2,e.COLLAPSE_PARENT_SUB_CHILDREN_EXCEPT_CLICKED=3,e.TEXT_THRESHOLD=400,e.IMAGES_THRESHOLD=100,e.LINKS_THRESHOLD=200,e.BUTTONS_THRESHOLD=70,e.ANIM_THRESHOLD=50,e.IT_IS_LONELY_HERE='<g transform="translate(-100, 0)" style="cursor:pointer;"  '+e.attr.control_add+'="control-add"><text fill="#039be5">{link}</text></g>',e.RES={},e.IT_IS_LONELY_HERE_LINK=e.RES.IT_IS_LONELY_HERE_LINK="It's lonely here, add your first node",e.FIRE_DRAG_NOT_CLICK_IF_MOVE=3,e.STRING_TAGS=!1,e.MAX_NODES_MESS="The trial has expired or 200 nodes limit was reached! <br /><a style='color: #039BE5;' target='_blank' href='https://balkan.app/FamilyTreeJS/Docs/Evaluation'>See more</a>",e.OFFLINE_MESS="The evaluation version requires internet connection! <br /><a style='color: #039BE5;' target='_blank' href='https://balkan.app/FamilyTreeJS/Docs/Evaluation'>See more</a>",e.SEARCH_PLACEHOLDER="Search... type ? to get help.",e.SEARCH_HELP_SYMBOL="?",e.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE=!1,e.SEARCH_RESULT_LIMIT=10,e.IMPORT_MESSAGE="Choose the columns (fields) in your data file that contain the required information.",e.FIXED_POSITION_ON_CLICK=!1,e.RENDER_LINKS_BEFORE_NODES=!1,e.RENDER_CLINKS_BEFORE_NODES=!1,e.MIXED_LAYOUT_ALL_NODES=!0,e.MIXED_LAYOUT_FOR_NODES_WITH_COLLAPSED_CHILDREN=!1,e.MIXED_LAYOUT_IF_NUMBER_OF_CHILDREN_IS_MORE_THEN=1,e.LINK_ROUNDED_CORNERS=5,e.MOVE_STEP=5,e.CLINK_CURVE=1,e.MAX_DEPTH=200,e.SCALE_FACTOR=1.44,e.LAZY_LOADING_FACTOR=500,e.HIDE_EDIT_FORM_ON_PAN=!0,e.LAZY_LOADING=!0,e.ARRAY_FIELDS=["tags"],e.CSV_DELIMITER=",",e.EDITFORM_CLOSE_BTN='<svg data-edit-from-close class="bft-edit-form-close"><path style="fill:#ffffff;" d="M21.205,5.007c-0.429-0.444-1.143-0.444-1.587,0c-0.429,0.429-0.429,1.143,0,1.571l8.047,8.047H1.111 C0.492,14.626,0,15.118,0,15.737c0,0.619,0.492,1.127,1.111,1.127h26.554l-8.047,8.032c-0.429,0.444-0.429,1.159,0,1.587 c0.444,0.444,1.159,0.444,1.587,0l9.952-9.952c0.444-0.429,0.444-1.143,0-1.571L21.205,5.007z"></path></svg>',e.ESCAPE_HTML=!1,e.VERTICAL_CHILDREN_ASSISTANT=!1,e.EXPORT_PAGES_CUT_NODES=!1,e.RESET_MOVABLE_ONEXPANDCOLLAPSE=!1,e.FILTER_ALPHABETICALLY=!0,e.SERVER_PREFIX=".azurewebsites.net/api/OrgChartJS",e.FUNC_URL_NAME="func-url-orgfamilyjs",e.MINIMUM_SYMBOLS_IN_SEARCH_INPUT=1,r.exports=e,e.SERVER_PREFIX=".azurewebsites.net/api/FamilyTreeJS",e.FUNC_URL_NAME="func-url-familytreejs",e.OC_VERSION=e.VERSION,e.VERSION="1.09.43",e.RENDER_LINKS_BEFORE_NODES=!0,e.ARRAY_FIELDS=["tags","pids"],e._intersects=function(t,n,i){var o=t.x-i.siblingSeparation/4,l=t.y,a=t.x+t.w+i.siblingSeparation/4,s=t.y;switch(i.orientation){case e.orientation.right:case e.orientation.right_top:case e.orientation.left:case e.orientation.left_top:o=t.x,l=t.y-i.siblingSeparation/4,a=t.x,s=t.y+t.h+i.siblingSeparation/4}var c,d,f,u=n.p,p=n.q,m=n.r,g=n.s;return(c=(a-o)*(g-p)-(m-u)*(s-l))!==0&&(d=((l-s)*(m-o)+(a-o)*(g-l))/c,0<(f=((g-p)*(m-o)+(u-m)*(g-l))/c)&&f<1&&0<d&&d<1)},e._addPoint=function(t,n,i,o,l){switch(i.orientation){case e.orientation.top:case e.orientation.top_left:return e._addPointTop(t,n,i,o,l);case e.orientation.bottom:case e.orientation.bottom_left:return e._addPointBottom(t,n,i,o,l);case e.orientation.left:case e.orientation.left_top:return e._addPointLeft(t,n,i,o,l);case e.orientation.right:case e.orientation.right_top:return e._addPointRight(t,n,i,o,l)}},e._addPointTop=function(t,n,i,o,l){var a,s,c;return l=="left"?a=t.leftNeighbor?t.x+(t.leftNeighbor.x+t.leftNeighbor.w-t.x)/2:t.x-i.siblingSeparation/2:l=="right"&&(a=t.rightNeighbor?t.x+t.w+(t.rightNeighbor.x-(t.x+t.w))/2:t.x+t.w+i.siblingSeparation/2),n.push([a,n[n.length-1][1]]),n.push([a,t.y-i.levelSeparation/3]),s=n[n.length-1][1],c=a,o.p=a,o.q=s,o.r=c,o},e._addPointBottom=function(t,n,i,o,l){var a,s,c;return l=="left"?a=t.leftNeighbor?t.x+(t.leftNeighbor.x+t.leftNeighbor.w-t.x)/2:t.x-i.siblingSeparation/2:l=="right"&&(a=t.rightNeighbor?t.x+t.w+(t.rightNeighbor.x-(t.x+t.w))/2:t.x+t.w+i.siblingSeparation/2),n.push([a,n[n.length-1][1]]),n.push([a,t.y+t.h+i.levelSeparation/3]),s=n[n.length-1][1],c=a,o.p=a,o.q=s,o.r=c,o},e._addPointLeft=function(t,n,i,o,l){var a,s=n[n.length-1][0];l=="bottom"?a=t.rightNeighbor?t.y+t.h+(t.rightNeighbor.y-(t.y+t.h))/2:t.y+t.h+i.siblingSeparation/2:l=="top"&&(a=t.leftNeighbor?t.y+(t.leftNeighbor.y+t.leftNeighbor.h-t.y)/2:t.y-i.siblingSeparation/2),n.push([n[n.length-1][0],a]),n.push([t.x-i.levelSeparation/3,a]),s=n[n.length-1][0];var c=a;return o.p=s,o.q=a,o.s=c,o},e._addPointRight=function(t,n,i,o,l){var a,s=n[n.length-1][0];l=="bottom"?a=t.rightNeighbor?t.y+t.h+(t.rightNeighbor.y-(t.y+t.h))/2:t.y+t.h+i.siblingSeparation/2:l=="top"&&(a=t.leftNeighbor?t.y+(t.leftNeighbor.y+t.leftNeighbor.h-t.y)/2:t.y-i.siblingSeparation/2),n.push([n[n.length-1][0],a]),n.push([t.x+t.w+i.levelSeparation/3,a]),s=n[n.length-1][0];var c=a;return o.p=s,o.q=a,o.s=c,o},e.editUI=function(){},e.editUI.prototype.init=function(t){this.obj=t,this.fields=null,this._event_id=e._guid()},e.editUI.prototype.on=function(t,n){return e.events.on(t,n,this._event_id),this},e.editUI.prototype.show=function(t,n,i){if(this.hide(),e.events.publish("show",[this,t])===!1)return!1;var o=this,l=this.content(t,n,i);this.obj.element.appendChild(l.element),e.input.init(this.obj.element),i?n||this._focusElement(l.focusId):this.interval=e.animate(l.element,{right:-20,opacity:0},{right:0,opacity:1},300,e.anim.outSin,function(){n||o._focusElement(l.focusId)}),this.obj.element.querySelector("[data-edit-from-close]").addEventListener("click",function(c){c.preventDefault(),e.events.publish("cancel",[o,{id:t}])!==!1&&o.hide()}),this.obj.element.querySelector("[data-edit-from-cancel]").addEventListener("click",function(c){c.preventDefault(),e.events.publish("cancel",[o,{id:t}])!==!1&&o.hide()}),this.obj.element.querySelector("[data-edit-from-save]").addEventListener("click",function(c){c.preventDefault();var d=e.input.validateAndGetData(l.element);if(d!==!1){var f=o.obj.get(t),u={data:e.mergeDeep(f,d)};if(e.events.publish("save",[o,u])===!1)return;o.obj.updateNode(u.data,null,!0),o.hide()}});for(var a=this.obj.element.querySelectorAll("[data-input-btn]"),s=0;s<a.length;s++)a[s].addEventListener("click",function(c){c.preventDefault(),e.events.publish("element-btn-click",[o,{input:this.parentNode.querySelector("input"),nodeId:t,event:c}])});this.obj.element.querySelector("[data-add-more-fields-btn]").addEventListener("click",function(c){c.stopPropagation(),c.preventDefault();var d=this,f=e.elements.textbox({},{type:"textbox",label:o.obj.config.editForm.addMoreFieldName,btn:o.obj.config.editForm.addMoreBtn},"280px");d.parentNode.insertAdjacentHTML("beforebegin",f.html),d.style.display="none",e.input.init(d.parentNode.previousSibling);var u=document.getElementById(f.id);u.focus(),u.nextElementSibling.addEventListener("click",function(p){p.stopPropagation(),p.preventDefault();var m=u.value,g=o.obj.element.querySelector('[data-binding="'+e._escapeDoubleQuotes(u.value)+'"]');if(e.isNEU(m)||g)u.focus();else{var x=e.elements.textbox({},{type:"textbox",label:m,binding:m},"280px");u.parentNode.parentNode.parentNode.removeChild(u.parentNode.parentNode),d.parentNode.insertAdjacentHTML("beforebegin",x.html),d.style.display="",e.input.init(d.parentNode.previousSibling),document.getElementById(x.id).focus()}})}),this.obj.element.querySelector("[data-bft-edit-from-btns]").addEventListener("click",function(c){for(var d=c.target;d&&d.hasAttribute&&!d.hasAttribute("data-edit-from-btn");)d=d.parentNode;if(d&&d.hasAttribute){var f=d.getAttribute("data-edit-from-btn"),u={button:o.obj.config.editForm.buttons[f],name:f,nodeId:t,event:c};if(e.events.publish("button-click",[o,u])===!1)return!1;switch(f){case"edit":o.obj.editUI.show(t,!1,!0);break;case"pdf":o.obj.exportPDFProfile({id:t,filename:l.title}),o.hide();break;case"png":o.obj.exportPNGProfile({id:t,filename:l.title}),o.hide();break;case"share":o.obj.shareProfile(t);break;case"remove":o.obj.removeNode(t,null,!0),o.hide()}}})},e.editUI.prototype._focusElement=function(t){var n=null;e.isNEU(this.obj.config.editForm.focusBinding)?e.isNEU(t)||(n=document.getElementById(t)):n=this.obj.element.querySelector('[data-binding="'+this.obj.config.editForm.focusBinding+'"]'),n&&(n.value&&n.value.length&&n.setSelectionRange(n.value.length,n.value.length),n.focus())},e.editUI.prototype.setAvatar=function(t){var n=this.obj.element.querySelector("#bft-avatar");e.isNEU(t)?n.innerHTML=e.icon.user(150,150,"#8C8C8C",0,0):n.innerHTML=`<img style="width: 100%;height:100%;object-fit:cover;border-radius: 50%;" src="${t}"></img>`},e.editUI.prototype.content=function(t,n,i,o,l){var a,s=this.obj.config.editForm.readOnly,c=JSON.parse(JSON.stringify(this.obj.config.editForm.elements)),d=this.obj.config.editForm.addMore,f=this.obj.config.editForm.saveAndCloseBtn,u=this.obj.config.editForm.cancelBtn,p=this.obj.config.editForm.buttons,m=this.obj.config.editForm.titleBinding,g=this.obj.config.editForm.photoBinding,x=this.obj.getNode(t),y=this.obj._get(t),v=e.t(x.templateName,x.min,this.obj.getScale()),h=y[m],w=y[g];if(this.obj.config.editForm.generateElementsFromFields)for(var _=0;_<this.fields.length;_++){var b=this.fields[_];if(b!="tags"){for(var S=!1,k=0;k<c.length;k++){if(Array.isArray(c[k])){for(var C=0;C<c[k].length;C++)if(b==c[k][C].binding){S=!0;break}}else if(b==c[k].binding){S=!0;break}if(S)break}S||c.push({type:"textbox",label:b,binding:b})}}e.isNEU(h)&&(h=""),w=e.isNEU(w)?e.icon.user(150,150,"#8C8C8C",0,0):`<img style="width: 100%;height:100%;border-radius: 50%;object-fit:cover;" src="${w}"></img>`;var E=!n,L=n?"display:none;":"",B=n||!d?"display:none;":"",R=v.editFormHeaderColor?`style="background-color:${v.editFormHeaderColor};"`:"",U=document.createElement("form");if(U.setAttribute("data-bft-edit-form",""),U.classList.add("bft-edit-form"),U.classList.add(this.obj.config.mode),U.classList.add(x.templateName.replaceAll(" ","")),U.classList.add(e.ui._defsIds[x.templateName]),Array.isArray(x.tags)&&x.tags.length)for(_=0;_<x.tags.length;_++)U.classList.add(x.tags[_].replaceAll(" ",""));U.style.display="flex",U.style.opacity=i?1:0,U.style.right=i?0:"-20px",o&&(U.style.width=o);var z=[],j=l?"":e.EDITFORM_CLOSE_BTN;return U.innerHTML=`<div>
                        <div class="bft-edit-form-header" ${R}>
                            ${j}
                            ${e.editUI.renderHeaderContent(h,w,x,y)}
                        </div>
                        <div data-bft-edit-from-btns class="bft-edit-form-instruments">
                        ${function(){if(l)return"";var V="";for(var I in p){var A=p[I];e.isNEU(A)||E&&A.hideIfEditMode||n&&A.hideIfDetailsMode||s&&A.text=="Edit"||(V+=`<div data-edit-from-btn='${I}' class="bft-img-button" ${R} title="${A.text}">${A.icon}</div>`)}return V}()}    
                        </div>
                    </div>
                    <div class="bft-edit-form-fields">
                        <div class="bft-edit-form-fields-inner">
                            <div class="bft-form-fieldset">
                                ${function(){for(var V="",I=0;I<c.length;I++){var A=c[I];if(Array.isArray(A)){V+='<div class="bft-form-field-100 bft-form-fieldset">';for(var M=0;M<A.length;M++){var H=A[M],D=e.elements[H.type](y,H,"unset",n);!e.isNEU(D.id)&&e.isNEU(a)&&e.isNEU(D.value)&&(a=D.id),e.isNEU(D.value)||z.push(`${H.label}: ${D.value}`),V+=D.html}V+="</div>"}else D=e.elements[A.type](y,A,"280px",n),!e.isNEU(D.id)&&e.isNEU(a)&&e.isNEU(D.value)&&(a=D.id),e.isNEU(D.value)||z.push(`${A.label}: ${D.value}`),V+=D.html}return V}()}

                                <div class="bft-form-field" style="min-width: 280px; text-align:center; ${B}">
                                    <a data-add-more-fields-btn href="#" class="bft-link">${d}</a>
                                </div>
                            </div>        
                        </div>
                    </div>
                    <div class="bft-form-fieldset" style="padding: 14px 10px; ${L}">
                        <div class="bft-form-field" style="min-width: initial;">
                            <button data-edit-from-cancel type="button" class="bft-button transparent">${u}</button>
                        </div>
                        <div class="bft-form-field" style="min-width: initial;">
                            <button type="submit" data-edit-from-save type="button" class="bft-button">${f}</button>
                        </div>
                    </div>`,{element:U,focusId:a,title:h,shareText:z.join(`
`)}},e.editUI.prototype.hide=function(){if(e.events.publish("hide",[this])===!1)return!1;e.isNEU(this.interval)&&(clearInterval(this.interval),this.interval=null);var t=this.obj.element.querySelector("[data-bft-edit-form]");t&&t.parentNode&&t.parentNode.removeChild(t)},e.editUI.renderHeaderContent=function(t,n,i,o){return`<h1 class="bft-edit-form-title">${e._escapeGreaterLessSign(t)}</h1>
                <div id="bft-avatar" class="bft-edit-form-avatar">${n}</div>`},e.prototype.getSvg=function(){var t=this.element.getElementsByTagName("svg");return t&&t.length?t[0]:null},e.prototype.getPointerElement=function(){return this.element.querySelector("g[data-pointer]")},e.prototype.getNodeElement=function(t){return this.element.querySelector("["+e.attr.node_id+"='"+t+"']")},e.prototype.getMenuButton=function(){return this.element.querySelector("["+e.attr.control_export_menu+"]")},e.menuUI=function(){},e.menuUI.prototype.init=function(t,n){this.obj=t,this.wrapper=null,this.menu=n,this._event_id=e._guid()},e.menuUI.prototype.showStickIn=function(t,n,i,o){this._show(t,null,n,i,o)},e.menuUI.prototype.show=function(t,n,i,o,l){this._show(t,n,i,o,l)},e.menuUI.prototype._show=function(t,n,i,o,l){var a=this;this.hide();var s="";l||(l=this.menu);var c={firstNodeId:i,secondNodeId:o,menu:l};if(e.events.publish("show",[this,c])===!1)return!1;for(var d in l=c.menu){var f=l[d].icon,u=l[d].text;f===void 0&&(f=e.icon[d]?e.icon[d](24,24,"#7A7A7A"):""),typeof u=="function"&&(u=u()),typeof f=="function"&&(f=f()),s+="<div "+e.attr.item+'="'+d+'">'+f+"<span>&nbsp;&nbsp;"+u+"</span></div>"}if(s!=""){if(this.wrapper=document.createElement("div"),this.wrapper.className="bft-family-menu",this.wrapper.style.left="-99999px",this.wrapper.style.top="-99999px",this.wrapper.innerHTML=s,this.obj.element.appendChild(this.wrapper),n==null){var p=e._menuPosition(t,this.wrapper,this.obj.getSvg());t=p.x,n=p.y}var m=t+45;this.wrapper.style.left=m+"px",this.wrapper.style.top=n+"px",this.wrapper.style.left=m-this.wrapper.offsetWidth+"px";var g=t-this.wrapper.offsetWidth;e.animate(this.wrapper,{opacity:0,left:m-this.wrapper.offsetWidth},{opacity:1,left:g},300,e.anim.inOutPow);for(var x=this.wrapper.getElementsByTagName("div"),y=0;y<x.length;y++)(d=x[y]).addEventListener("click",function(v){var h,w=this.getAttribute(e.attr.item);if(l[w].onClick===void 0)if(w==="add"){var _={id:a.obj.generateId(),pid:i};a.obj.addNode(_,null,!0)}else if(w==="edit"){var b=a.obj.getNode(i);a.obj.editUI.show(b.id)}else w==="details"?(b=a.obj.getNode(i),a.obj.editUI.show(b.id,!0)):w==="remove"?a.obj.removeNode(i,null,!0):w==="svg"?a.obj.exportSVG({filename:"FamilyTree.svg",expandChildren:!1,nodeId:i}):w==="pdf"?a.obj.exportPDF({filename:"FamilyTree.pdf",expandChildren:!1,nodeId:i}):w==="png"?a.obj.exportPNG({filename:"FamilyTree.png",expandChildren:!1,nodeId:i}):w==="csv"?a.obj.exportCSV({nodeId:i}):w==="xml"?a.obj.exportXML({nodeId:i}):w==="json"&&a.obj.exportJSON({nodeId:i});else h=l[w].onClick.call(a.obj,i,o);h!=0&&a.hide()})}},e.menuUI.prototype.isVisible=function(){return this.wrapper!=null},e.menuUI.prototype.hide=function(){this.wrapper!=null&&(this.obj.element.removeChild(this.wrapper),this.wrapper=null)},e.menuUI.prototype.on=function(t,n){return e.events.on(t,n,this._event_id),this},e.circleMenuUI=function(){},e.circleMenuUI.prototype.init=function(t,n){this.obj=t,this.menu=n,this._menu=null,this._buttonsInterval=[],this._linesInterval=[],this._event_id=e._guid()},e.circleMenuUI.prototype.show=function(t,n){this._show(t,n)},e.circleMenuUI.prototype._show=function(t,n){var i=this,o=this.obj.getNode(t),l=e.t(o.templateName,o.min,this.obj.getScale());if(!e.isNEU(l.nodeCircleMenuButton)){var a=this.obj.getSvg(),s=this.obj.element.querySelector("["+e.attr.control_node_circle_menu_id+'="'+t+'"]'),c=this.obj.getNodeElement(t),d=e._getTransform(s),f=e._getTransform(c),u=d[4]+f[4],p=d[5]+f[5],m=s.querySelectorAll("line"),g=this.obj.element.querySelector("["+e.attr.control_node_circle_menu_wrraper_id+"]");if(e.isNEU(g)||g.getAttribute(e.attr.control_node_circle_menu_wrraper_id)!=t){this.hide(),n||(n=this.menu);var x={nodeId:t,menu:n},y=e.events.publish("show",[this,x]);if(this._menu=n,y===!1)return!1;for(var v=0,h=Object.keys(x.menu).length,w=2*l.nodeCircleMenuButton.radius+4,_=2*Math.PI*w,b=_/h-(2*l.nodeCircleMenuButton.radius+2);b<0;)w+=8,b=(_=2*Math.PI*w)/h-(2*l.nodeCircleMenuButton.radius+2);for(var S in(g=document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute(e.attr.control_node_circle_menu_wrraper_id,t),g.setAttribute("transform","matrix(1,0,0,1,"+u+","+p+")"),a.appendChild(g),x.menu){var k=x.menu[S].icon,C=x.menu[S].color,E=x.menu[S].text;typeof k=="function"&&(k=k()),typeof C=="function"&&(C=C()),typeof E=="function"&&(E=E());var L=document.createElementNS("http://www.w3.org/2000/svg","g");L.setAttribute("transform","matrix(1,0,0,1,0,0)"),L.setAttribute(e.attr.control_node_circle_menu_name,S),L.style.cursor="pointer";var B=document.createElementNS("http://www.w3.org/2000/svg","title");e.isNEU(E)||(B.innerHTML=E);var R=document.createElementNS("http://www.w3.org/2000/svg","circle");R.setAttribute("cx",0),R.setAttribute("cy",0),R.setAttribute("r",l.nodeCircleMenuButton.radius),R.setAttribute("fill",C),R.setAttribute("stroke-width","1"),R.setAttribute("stroke",l.nodeCircleMenuButton.stroke),L.appendChild(R),L.appendChild(B),L.innerHTML+=k,g.appendChild(L);var U=L.getElementsByTagName("svg")[0];if(U.setAttribute("pointer-events","none"),U){var z=parseInt(U.getAttribute("width")),j=parseInt(U.getAttribute("height"));U.setAttribute("x",-z/2),U.setAttribute("y",-j/2)}var V=v*Math.PI/(h/2);v++;var I=Math.cos(V)*w,A=Math.sin(V)*w;this._buttonsInterval.push(e.animate(L,{transform:[1,0,0,1,0,0]},{transform:[1,0,0,1,I,A]},250,e.anim.outBack,function(M){var H=M[0].getAttribute(e.attr.control_node_circle_menu_name),D=M[0].parentNode.getAttribute(e.attr.control_node_circle_menu_wrraper_id);M[0].addEventListener("mouseenter",function($){e.events.publish("mouseenter",[i,{from:D,menuItem:x.menu[H],menuItemName:H,event:$}])}),M[0].addEventListener("mouseout",function($){e.events.publish("mouseout",[i,{from:D,menuItem:x.menu[H],menuItemName:H,event:$}])})}))}this._linesInterval.push(e.animate(m[0],{x1:-l.nodeCircleMenuButton.radius/2,y1:-6,x2:l.nodeCircleMenuButton.radius/2,y2:-6},{x1:-7,y1:-7,x2:7,y2:7},500,e.anim.inOutSin)),this._linesInterval.push(e.animate(m[1],{x1:-l.nodeCircleMenuButton.radius/2,y1:0,x2:l.nodeCircleMenuButton.radius/2,y2:0},{x1:0,y1:0,x2:0,y2:0},500,e.anim.inOutSin)),this._linesInterval.push(e.animate(m[2],{x1:-l.nodeCircleMenuButton.radius/2,y1:6,x2:l.nodeCircleMenuButton.radius/2,y2:6},{x1:-7,y1:7,x2:7,y2:-7},500,e.anim.inOutSin))}else this.hide()}},e.circleMenuUI.prototype.hide=function(){for(var t=this._buttonsInterval.length-1;t>=0;t--)clearInterval(this._buttonsInterval[t]),this._buttonsInterval.splice(t,1);for(this._buttonsInterval=[],t=this._linesInterval.length-1;t>=0;t--)clearInterval(this._linesInterval[t]),this._linesInterval.splice(t,1);this._linesInterval=[];var n=this.obj.element.querySelector("["+e.attr.control_node_circle_menu_wrraper_id+"]");if(n!=null){var i=n.getAttribute(e.attr.control_node_circle_menu_wrraper_id),o=this.obj.getNode(i),l=e.t(o.templateName,o.min,this.obj.getScale()),a=this.obj.element.querySelector("["+e.attr.control_node_circle_menu_id+'="'+i+'"]').querySelectorAll("line");a[0].setAttribute("x1",-l.nodeCircleMenuButton.radius/2),a[0].setAttribute("x2",l.nodeCircleMenuButton.radius/2),a[0].setAttribute("y1",-6),a[0].setAttribute("y2",-6),a[1].setAttribute("x1",-l.nodeCircleMenuButton.radius/2),a[1].setAttribute("x2",l.nodeCircleMenuButton.radius/2),a[1].setAttribute("y1",0),a[1].setAttribute("y2",0),a[2].setAttribute("x1",-l.nodeCircleMenuButton.radius/2),a[2].setAttribute("x2",l.nodeCircleMenuButton.radius/2),a[2].setAttribute("y1",6),a[2].setAttribute("y2",6),n.parentElement.removeChild(n),n=null}},e.circleMenuUI.prototype.on=function(t,n){return e.events.on(t,n,this._event_id),this},e===void 0&&(e={}),e.idb={version:1,dbName:"BALKAN",tableName:"familytree-js",keyPath:"id"},e.idb.db=null,e.idb._open=function(t){if(e._browser().msie)t&&t(!1);else if((navigator.userAgent.toLowerCase().indexOf("safari")>0||navigator.userAgent.toLowerCase().indexOf("firefox")>0)&&window.location!==window.parent.location)t&&t(!1);else{if(!window.indexedDB)return console.error("Your browser doesn't support a stable version of IndexedDB."),void(t&&t(!1));if(e.idb.db==null){var n=indexedDB.open(e.idb.dbName,e.idb.version);n.onerror=function(i){console.error("Cannot open database!"),t&&t(!1)},n.onsuccess=function(i){e.idb.db=i.target.result,t&&t(!0)},n.onupgradeneeded=function(i){var o=i.target.result;o.objectStoreNames.contains(e.idb.tableName)&&o.deleteObjectStore(e.idb.tableName),o.createObjectStore(e.idb.tableName,{keyPath:e.idb.keyPath})}}else t&&t(!0)}},e.idb.read=function(t,n){e.idb._open(function(i){if(i){var o=e.idb.db.transaction([e.idb.tableName]).objectStore(e.idb.tableName).get(t);o.onerror=function(l){console.error("Unable to retrieve data from database!"),n&&n(!1)},o.onsuccess=function(l){o.result?n&&n(!0,o.result):n&&n(null)}}else n&&n(!1)})},e.idb.write=function(t,n){e.idb.read(t.id,function(i){if(i==null){var o=e.idb.db.transaction([e.idb.tableName],"readwrite").objectStore(e.idb.tableName).add(t);o.onerror=function(l){console.error("Unable to add data to database!"),n&&n(!1)},o.onsuccess=function(l){n&&n(!0)}}else n&&n(i)})},e.idb.put=function(t,n){e.idb._open(function(i){if(i){var o=e.idb.db.transaction([e.idb.tableName],"readwrite").objectStore(e.idb.tableName).put(t);o.onerror=function(l){console.error("Unable to put data to database!"),n&&n(!1)},o.onsuccess=function(l){n&&n(!0)}}else n&&n(!1)})},e.idb.delete=function(t,n){e.idb._open(function(i){if(i){var o=e.idb.db.transaction([e.idb.tableName],"readwrite").objectStore(e.idb.tableName).delete(t);o.onerror=function(l){console.error("Unable to retrieve data from database!"),n&&n(!1)},o.onsuccess=function(l){o.error?n&&n(!1):n&&n(!0)}}else n&&n(!1)})},e.toolbarUI=function(){},e.toolbarUI.expandAllIcon='<svg style="margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><marker id="arrow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="4" markerHeight="4" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z" fill="#757575" /></marker><line x1="11" y1="11" x2="6" y2="6" stroke="#757575" stroke-width="2" marker-end="url(#arrow)" /><line x1="21" y1="11" x2="26" y2="6" stroke="#757575" stroke-width="2" marker-end="url(#arrow)" /><line x1="21" y1="21" x2="26" y2="26" stroke="#757575" stroke-width="2" marker-end="url(#arrow)" /><line x1="11" y1="21" x2="6" y2="26" stroke="#757575" stroke-width="2" marker-end="url(#arrow)" /><rect x="12" y="12" width="8" height="8" fill="#757575"></rect></svg>',e.toolbarUI.fitIcon='<svg  style="margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><path stroke-width="3" fill="none" stroke="#757575" d="M4,11 L4,4 L11,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,11 L28,4 L21,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,21 L28,28 L21,28"></path><path stroke-width="3" fill="none" stroke="#757575" d="M4,21 L4,28 L11,28"></path><circle cx="16" cy="16" r="5" fill="#757575"></circle></svg>',e.toolbarUI.openFullScreenIcon='<svg  style="margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><path stroke-width="3" fill="none" stroke="#757575" d="M4,11 L4,4 L11,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,11 L28,4 L21,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,21 L28,28 L21,28"></path><path stroke-width="3" fill="none" stroke="#757575" d="M4,21 L4,28 L11,28"></path><line x1="5" y1="5" x2="27" y2="27" stroke-width="3" stroke="#757575"></line><line x1="5" y1="27" x2="27" y2="5" stroke-width="3" stroke="#757575"></line></svg>',e.toolbarUI.closeFullScreenIcon='<svg  style="margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><path stroke-width="3" fill="none" stroke="#757575" d="M4,11 L4,4 L11,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,11 L28,4 L21,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,21 L28,28 L21,28"></path><path stroke-width="3" fill="none" stroke="#757575" d="M4,21 L4,28 L11,28"></path><rect x="11" y="11" width="10" height="10" stroke-width="3" fill="none" stroke="#757575" ></rect></svg>',e.toolbarUI.zoomInIcon='<svg style="box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border-left: 1px solid #cacaca; border-right: 1px solid #cacaca; border-top: 1px solid #cacaca; background-color: #f9f9f9;display: block; cursor: pointer;" width="32px" height="32px" ><g><rect fill="#f9f9f9" x="0" y="0" width="32" height="32" ></rect><line x1="8" y1="16" x2="24" y2="16" stroke-width="3" stroke="#757575"></line><line x1="16" y1="8" x2="16" y2="24" stroke-width="3" stroke="#757575"></line></g><line x1="4" y1="32" x2="28" y2="32" stroke-width="1" stroke="#cacaca"></line></svg>',e.toolbarUI.zoomOutIcon='<svg style="box-shadow: 0px 1px 4px rgba(0,0,0,0.3); margin-bottom:7px; border-left: 1px solid #cacaca; border-right: 1px solid #cacaca; border-bottom: 1px solid #cacaca; background-color: #f9f9f9;display: block; cursor: pointer;" width="32px" height="32px" ><g><rect fill="#f9f9f9" x="0" y="0" width="32" height="32" ></rect><line x1="8" y1="16" x2="24" y2="16" stroke-width="3" stroke="#757575"></line></g></svg>',e.toolbarUI.layoutIcon="<svg "+e.attr.tlbr+'="layout" style="box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><path stroke-width="3" fill="none" stroke="#757575" d="M8,24 L16,14 L24,24"></path><path stroke-width="3" fill="none" stroke="#757575" d="M8,16 L16,8 L24,16"></path></svg>',e.toolbarUI.prototype.init=function(t,n){if(n){this.obj=t,this.toolbar=n,this._visible=!1,this.div=document.createElement("div"),this.div.classList.add("bft-toolbar-container"),Object.assign(this.div.style,{position:"absolute",padding:"3px",right:this.obj.config.padding-10+"px",bottom:this.obj.config.padding-10+"px"}),n.expandAll&&(this.div.innerHTML+="<div "+e.attr.tlbr+'="expand">'+e.toolbarUI.expandAllIcon+"</div>"),n.fit&&(this.div.innerHTML+="<div "+e.attr.tlbr+'="fit">'+e.toolbarUI.fitIcon+"</div>"),n.zoom&&(this.div.innerHTML+="<div "+e.attr.tlbr+'="plus">'+e.toolbarUI.zoomInIcon+"</div>",this.div.innerHTML+="<div "+e.attr.tlbr+'="minus">'+e.toolbarUI.zoomOutIcon+"</div>"),n.layout&&(this.div.innerHTML+="<div "+e.attr.tlbr+'="layout">'+e.toolbarUI.layoutIcon+"</div>",this.layouts=document.createElement("div"),this.layouts.classList.add("bft-toolbar-layout"),this.layouts.innerHTML=`<svg data-layout="normal" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="7" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="63" y="41" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="35" stroke-width="1"></line><line stroke="#000000" x1="32" x2="88" y1="35" y2="35" stroke-width="1"></line><line stroke="#000000" x1="32" x2="32" y1="35" y2="41" stroke-width="1"></line><line stroke="#000000" x1="88" x2="88" y1="35" y2="41" stroke-width="1"></line></svg>
            <svg data-layout="treeRightOffset" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="40" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="40" y="73" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="35" stroke-width="1"></line><line stroke="#000000" x1="60" x2="35" y1="35" y2="35" stroke-width="1"></line><line stroke="#000000" x1="35" x2="35" y1="35" y2="86" stroke-width="1"></line><line stroke="#000000" x1="35" x2="40" y1="86" y2="86" stroke-width="1"></line><line stroke="#000000" x1="35" x2="40" y1="54" y2="54" stroke-width="1"></line></svg>
            <svg data-layout="treeLeftOffset" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="30" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="30" y="73" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="35" stroke-width="1"></line><line stroke="#000000" x1="60" x2="85" y1="35" y2="35" stroke-width="1"></line><line stroke="#000000" x1="85" x2="85" y1="35" y2="86" stroke-width="1"></line><line stroke="#000000" x1="80" x2="85" y1="86" y2="86" stroke-width="1"></line><line stroke="#000000" x1="80" x2="85" y1="54" y2="54" stroke-width="1"></line></svg>
            <svg data-layout="mixed" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="35" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="35" y="73" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="41" stroke-width="1"></line><line stroke="#000000" x1="60" x2="60" y1="68" y2="73" stroke-width="1"></line></svg>
            <svg data-layout="tree" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="7" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="35" y="73" width="50" height="27"></rect><rect fill="#F57C00" x="63" y="41" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="73" stroke-width="1"></line><line stroke="#000000" x1="57" x2="63" y1="54" y2="54" stroke-width="1"></line></svg>
            <svg data-layout="grid" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="7" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="7" y="73" width="50" height="27"></rect><rect fill="#F57C00" x="63" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="63" y="73" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="71" stroke-width="1"></line><line stroke="#000000" x1="32" x2="88" y1="39" y2="39" stroke-width="1"></line><line stroke="#000000" x1="32" x2="88" y1="71" y2="71" stroke-width="1"></line><line stroke="#000000" x1="32" x2="32" y1="71" y2="73" stroke-width="1"></line><line stroke="#000000" x1="88" x2="88" y1="71" y2="73" stroke-width="1"></line><line stroke="#000000" x1="32" x2="32" y1="39" y2="41" stroke-width="1"></line><line stroke="#000000" x1="88" x2="88" y1="39" y2="41" stroke-width="1"></line></svg>`,this.obj.element.appendChild(this.layouts)),n.fullScreen&&(this.div.innerHTML+="<div "+e.attr.tlbr+'="fullScreen">'+e.toolbarUI.openFullScreenIcon+"</div>"),this.obj.element.appendChild(this.div),this.layoutBtn=this.div.querySelector("["+e.attr.tlbr+'="layout"]');var i=this.div.querySelector("["+e.attr.tlbr+'="plus"]'),o=this.div.querySelector("["+e.attr.tlbr+'="minus"]'),l=this.div.querySelector("["+e.attr.tlbr+'="fit"]'),a=this.div.querySelector("["+e.attr.tlbr+'="fullScreen"]'),s=this.div.querySelector("["+e.attr.tlbr+'="expand"]'),c=this;i&&i.addEventListener("click",function(){c.obj.zoom(!0,null,!0)}),o&&o.addEventListener("click",function(){c.obj.zoom(!1,null,!0)}),l&&l.addEventListener("click",function(){c.obj.fit()}),a&&a.addEventListener("click",function(){c.obj.toggleFullScreen()}),s&&s.addEventListener("click",function(){c.obj.expand(null,"all")}),this.layoutBtn&&this.layoutBtn.addEventListener("click",function(){c._visible?c.hideLayout():c.showLayout()}),this.layouts&&this.layouts.addEventListener("click",function(d){for(var f=d.target;f;){if(f.hasAttribute&&f.hasAttribute(e.attr.layout)){f=f.getAttribute(e.attr.layout),c.obj.setLayout(e.layout[f]);break}f=f.parentNode}})}},e.toolbarUI.prototype.showLayout=function(){this._visible=!0,this.layoutBtn.style.transform="rotate(180deg) translateX(0px) translateY(0px)",e.animate(this.div,{bottom:this.obj.config.padding-10},{bottom:this.obj.config.padding+135},this.obj.config.anim.duration,this.obj.config.anim.func),e.animate(this.layouts,{bottom:-145},{bottom:0},this.obj.config.anim.duration,this.obj.config.anim.func)},e.toolbarUI.prototype.hideLayout=function(){this._visible=!1,this.layoutBtn.style.transform="rotate(0deg) translateX(0px) translateY(0px)",e.animate(this.div,{bottom:this.obj.config.padding+135},{bottom:this.obj.config.padding-10},this.obj.config.anim.duration,this.obj.config.anim.func),e.animate(this.layouts,{bottom:0},{bottom:-145},this.obj.config.anim.duration,this.obj.config.anim.func)},e.notifierUI=function(){},e.notifierUI.prototype.init=function(t){this.obj=t},e.notifierUI.prototype.show=function(t,n){if(t==null)return!1;t==1&&(t=e.MAX_NODES_MESS,n="#FFCA28"),t==2&&(t=e.OFFLINE_MESS,n="#FFCA28");var i=document.createElement("div");i.innerHTML=t,Object.assign(i.style,{position:"absolute","background-color":n,color:"#ffffff",padding:"15px","border-radius":"40px",opacity:0,overflow:"hidden","white-space":"nowrap","text-align":"center"}),this.obj.element.appendChild(i);var o=this.obj.width()/2-i.offsetWidth/2,l=this.obj.height()/2-i.offsetHeight/2;i.style.left=o+"px",i.style.top=l+"px";var a=i.offsetWidth;return i.style.width="20px",e.animate(i,{opacity:0,width:10},{opacity:1,width:a},this.obj.config.anim.duration,this.obj.config.anim.func),!0},e===void 0&&(e={}),e._validateConfig=function(t){return!!t||(console.error("config is not defined"),!1)},e._arrayContains=function(t,n){if(t&&Array.isArray(t)){for(var i=t.length;i--;)if(t[i]===n)return!0}return!1},e._interceptions=function(t,n){if(!t)return[];if(!n)return[];var i=[];if(Array.isArray(t)&&Array.isArray(n))for(var o in t)for(var l in n)t[o]==n[l]&&i.push(t[o]);else if(Array.isArray(t)&&!Array.isArray(n))for(var o in t)for(var l in n)t[o]==l&&i.push(t[o]);else if(!Array.isArray(t)&&Array.isArray(n))for(var o in t)for(var l in n)o==n[l]&&i.push(n[l]);return i},e._getTags=function(t){return t.tags&&!Array.isArray(t.tags)?t.tags.split(","):t.tags&&Array.isArray(t.tags)?t.tags:[]},e._centerPointInPercent=function(t,n,i){var o=t.getBoundingClientRect(),l=n-o.left,a=i-o.top;return[l/(o.width/100),a/(o.height/100)]},e._trim=function(t){return t.replace(/^\s+|\s+$/g,"")},e._getTransform=function(t){var n=t.getAttribute("transform");return n=n.replace("matrix","").replace("(","").replace(")",""),e._browser().msie&&(n=n.replace(/ /g,",")),n="["+(n=e._trim(n))+"]",n=JSON.parse(n)},e.getScale=function(t,n,i,o,l,a,s,c){var d=1;if(t||o!==e.match.boundary)if(t||o!==e.match.width)if(t||o!==e.match.height)if(t){var f,u;d=(f=n/t[2])>(u=i/t[3])?u:f}else d=o;else d=i/c;else d=n/s;else d=(f=n/s)>(u=i/c)?u:f;return d&&d>l&&(d=l),d&&d<a&&(d=a),d},e.isObject=function(t){return t&&typeof t=="object"&&!Array.isArray(t)&&t!==null},e.fileUploadDialog=function(t){var n=document.createElement("INPUT");n.setAttribute("type","file"),n.style.display="none",n.onchange=function(){var i=this.files[0];t(i)},document.body.appendChild(n),n.click()},e.mergeDeep=function(t,n){if(e.isObject(t)&&e.isObject(n))for(var i in n)e.isObject(n[i])?(t[i]||Object.assign(t,{[i]:{}}),e.mergeDeep(t[i],n[i])):Object.assign(t,{[i]:n[i]});return t},e._lblIsImg=function(t,n){return!(!t.nodeBinding||typeof n!="string"||n.indexOf("img")==-1||!t.nodeBinding[n])},e._getFistImgField=function(t){if(t.nodeBinding){for(var n in t.nodeBinding)if(n.indexOf("img")!=-1)return t.nodeBinding[n]}return!1},e._fieldIsImg=function(t,n){if(t.nodeBinding){for(var i in t.nodeBinding)if(t.nodeBinding[i]==n)return e._lblIsImg(t,i)}return!1},e._guid=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},e.htmlRipple=function(t){var n=document.createElement("style");n.type="text/css",n.innerHTML=" .bft-ripple-container {position: absolute; top: 0; right: 0; bottom: 0; left: 0; } .bft-ripple-container span {transform: scale(0);border-radius:100%;position:absolute;opacity:0.75;background-color:#fff;animation: bft-ripple 1000ms; }@-moz-keyframes bft-ripple {to {opacity: 0;transform: scale(2);}}@-webkit-keyframes bft-ripple {to {opacity: 0;transform: scale(2);}}@-o-keyframes bft-ripple {to {opacity: 0;transform: scale(2);}}@keyframes bft-ripple {to {opacity: 0;transform: scale(2);}}",document.head.appendChild(n);var i,o,l,a=document.createElement("div");a.className="bft-ripple-container",t.addEventListener("mousedown",function(s){var c,d,f,u,p;return d=document.createElement("span"),f=this.offsetWidth,c=this.getBoundingClientRect(),p=s.pageX-c.left-f/2,u="top:"+(s.pageY-c.top-f/2)+"px; left: "+p+"px; height: "+f+"px; width: "+f+"px;",t.rippleContainer.appendChild(d),d.setAttribute("style",u)}),t.addEventListener("mouseup",(i=function(){for(;this.rippleContainer.firstChild;)this.rippleContainer.removeChild(this.rippleContainer.firstChild)},o=2e3,l=void 0,function(){var s,c;return c=this,s=arguments,clearTimeout(l),l=setTimeout(function(){return i.apply(c,s)},o)})),t.rippleContainer=a,t.appendChild(a)},e._moveToBoundaryArea=function(t,n,i,o){var l=n.slice(0);n[0]<i.left&&n[0]<i.right&&(l[0]=i.left>i.right?i.right:i.left),n[0]>i.right&&n[0]>i.left&&(l[0]=i.left>i.right?i.left:i.right),n[1]<i.top&&n[1]<i.bottom&&(l[1]=i.top>i.bottom?i.bottom:i.top),n[1]>i.bottom&&n[1]>i.top&&(l[1]=i.top>i.bottom?i.top:i.bottom),n[0]!==l[0]||n[1]!==l[1]?e.animate(t,{viewBox:n},{viewBox:l},300,e.anim.outPow,function(){o&&o()}):o&&o()},e.randomId=function(){return"_"+("0000"+(Math.random()*Math.pow(36,4)|0).toString(36)).slice(-4)},e._getClientXY=function(t){return t.type.indexOf("touch")==-1?{x:t.clientX,y:t.clientY}:t.changedTouches.length?{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY}:void 0},e._getClientTouchesXY=function(t,n){return t.type.indexOf("touch")!=-1?t.touches.length<n+1?{x:null,y:null}:{x:t.touches[n].clientX,y:t.touches[n].clientY}:{x:t.clientX,y:t.clientY}},e._getOffset=function(t,n){t&&(n.x+=t.offsetLeft,n.y+=t.offsetTop,e._getOffset(t.offsetParent,n))},e._getTopLeft=function(t){var n={x:0,y:0};return e._getOffset(t,n),n},e._getOffsetXY=function(t,n){if(n.type.indexOf("touch")==-1)return{x:n.offsetX,y:n.offsetY};if(n.touches.length){var i=e._getTopLeft(t);return{x:n.touches[0].pageX-i.x,y:n.touches[0].pageY-i.y}}if(n.changedTouches.length)return i=e._getTopLeft(t),isNaN(i.x)||isNaN(i.y)?{x:n.changedTouches[0].pageX,y:n.changedTouches[0].pageY}:{x:n.changedTouches[0].pageX-i.x,y:n.changedTouches[0].pageY-i.y}},e._pinchMiddlePointInPercent=function(t,n,i,o){var l=e._getTopLeft(t),a=o.touches[0].pageX-l.x,s=o.touches[0].pageY-l.y,c=o.touches[1].pageX-l.x,d=o.touches[1].pageY-l.y;return[((a-c)/2+c)/(n/100),((s-d)/2+d)/(i/100)]},e._browser=function(){var t=!!window.opr&&!!window.opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,n=typeof InstallTrigger<"u",i=/constructor/i.test(window.HTMLElement)||(!window.safari||window.safari!==void 0&&safari.pushNotification).toString()==="[object SafariRemoteNotification]",o=!!document.documentMode,l=!o&&!!window.StyleMedia,a=!(!window.chrome||!window.chrome.webstore&&!window.chrome.runtime);return{opera:t,firefox:n,safari:i,msie:o,edge:l,chrome:a,blink:(a||t)&&!!window.CSS}},e._menuPosition=function(t,n,i){var o=t.getBoundingClientRect(),l=i.getBoundingClientRect(),a=n.getBoundingClientRect(),s=o.left-l.left,c=o.top-l.top;return o.top+a.height>l.top+l.height&&(c-=a.height),o.left-a.width<l.left&&(s+=a.width),{x:s,y:c}},e._getTemplate=function(t,n,i){if(Array.isArray(t))for(var o=0;o<t.length;o++){var l=n[t[o]];if(l&&l.template)return l.template}return i},e._getMin=function(t,n){if(t.tags&&t.tags.length&&n.tags)for(var i=0;i<t.tags.length;i++){var o=n.tags[t.tags[i]];if(o&&o.min===!0)return!0}return n.min},e._getSubLevels=function(t,n){if(t&&t.length)for(var i=0;i<t.length;i++){var o=n[t[i]];if(o&&o.subLevels)return o.subLevels}return 0},e._isHTML=function(t){var n=new DOMParser().parseFromString(t,"text/html");return Array.from(n.body.childNodes).some(i=>i.nodeType===1)},e._getTestDiv=function(){var t=document.getElementById("orgfamily_js_test_div");return t||((t=document.createElement("div")).id="orgfamily_js_test_div",t.style.position="fixed",t.style.top="-10000px",t.style.left="-10000px",document.body.appendChild(t)),t},e._getLabelSize=function(t){var n=e._getTestDiv();return n.innerHTML="<svg>"+t+"</svg>",n.querySelector("text").getBoundingClientRect()},e.wrapText=function(t,n){var i=n.toLowerCase();if(i.indexOf("<text")==-1||i.indexOf(e.attr.width)==-1||i.indexOf("foreignobject")!=-1||n.indexOf(e.attr.width)==-1||e.ESCAPE_HTML&&typeof str=="string"&&e._isHTML(t))return e._escapeHtml(t);if(!e.ESCAPE_HTML&&e._isHTML(t))return t;var o=e._getTestDiv();n=n.replaceAll("{cw}",0),o.innerHTML="<svg>"+n+"</svg>";var l,a,s=new DOMParser().parseFromString(n,"text/xml").getElementsByTagName("text")[0],c=parseFloat(s.getAttribute("x")),d=parseFloat(s.getAttribute("y")),f=s.getAttribute("text-anchor"),u=s.getAttribute(e.attr.width),p=s.getAttribute(e.attr.text_overflow),m="http://www.w3.org/2000/svg",g=o.getElementsByTagName("svg")[0].getElementsByTagName("text")[0];p||(p="ellipsis");var x=p.split("-");if(x.length>1&&(l=parseInt(p.split("-")[1]),x.length>2&&x[2]=="ellipsis"&&(a=!0)),!u)return e._escapeHtml(t);if(u=parseFloat(u),c||(c=0),d||(d=0),c||(f="start"),p=="ellipsis"){g.removeChild(g.firstChild),g.textContent=t;for(var y=g.getComputedTextLength(),v=2;y>u;)g.textContent=t.substring(0,t.length-v),g.textContent+="...",y=g.getComputedTextLength(),v++;return v>2?`<title>${e._escapeHtml(t)}</title>${g.textContent}`:e._escapeHtml(t)}if(p.indexOf("multiline")!=-1){var h=t.split(" "),w=g.getBBox().height;g.textContent="";var _=document.createElementNS(m,"tspan"),b=document.createTextNode(h[0]);_.setAttributeNS(null,"x",c),_.setAttributeNS(null,"y",d),_.setAttributeNS(null,"text-anchor",f),_.appendChild(b),g.appendChild(_),v=1;for(var S=1,k=!1,C=1;C<h.length;C++){var E=_.firstChild.data.length;if(_.firstChild.data+=" "+h[C],_.getComputedTextLength()>u){if(_.firstChild.data=_.firstChild.data.slice(0,E),S++,l&&S>l){if(a&&g.children.length==l){var L=g.children[l-1].textContent;g.children[l-1].textContent=L.substring(0,L.length-3)+"...",k=!0}break}(_=document.createElementNS(m,"tspan")).setAttributeNS(null,"x",c),_.setAttributeNS(null,"y",d+w*v),_.setAttributeNS(null,"text-anchor",f),b=document.createTextNode(h[C]),_.appendChild(b),g.appendChild(_),v++}}var B="";if(g.innerHTML!=null)B=g.innerHTML,g.innerHTML="";else{var R="";for(C=g.childNodes.length-1;C>=0;C--)R=XMLSerializer().serializeToString(g.childNodes[C])+R,g.removeChild(g.childNodes[C]);B=R}return k?`<title>${e._escapeHtml(t)}</title>${B}`:B}},e._downloadFile=function(t,n,i,o,l){var a=new Blob([n],{type:t});if(o==1){var s=URL.createObjectURL(a);window.open(s,"_blank").focus()}else if(navigator.msSaveBlob)navigator.msSaveBlob(a,i);else{var c=document.createElement("a");if(c.download!==void 0){s=URL.createObjectURL(a),c.setAttribute("href",s);var d=i;d.toLowerCase().endsWith(l.toLowerCase())||(d=d+"."+l),c.setAttribute("download",d),c.style.visibility="hidden",document.body.appendChild(c),c.click(),document.body.removeChild(c)}}},e._getPosition=function(t,n,i,o){var l={x:n.x,y:n.y};if(i!=null&&(l.x=i),o!=null&&(l.y=i),t&&t.length==3){var a=t[0].indexOf(n.id);a!=-1&&t[1][a].transform!=null&&(i==null&&(l.x=t[1][a].transform[4]),o==null&&(l.y=t[1][a].transform[5]))}return l},e._getOpacity=function(t,n){var i=1;if(t&&t.length==3){var o=t[0].indexOf(n.id);o!=-1&&t[1][o].opacity!=null&&(i=t[1][o].opacity)}return i},e.t=function(t,n,i){var o=e.templates[t];o==null&&console.error(`Template "${t}" does not exist!`);var l=null;if(i!=null&&o.scaleLessThen){var a=[];for(var s in o.scaleLessThen){var c=parseFloat(s);i<c&&a.push(c)}if(a.length>0){a.sort(function(u,p){return u-p});var d=o.scaleLessThen[a[0]];for(var f in d)l==null&&(l=Object.assign({},o)),l[f]=d[f]}}return n?l==null?o.min?o.min:o:l.min?l.min:l:l??o},e.setNodeSize=function(t){var n=e.t(t.templateName,t.min);t.w=n&&n.size?n.size[0]:0,t.h=n&&n.size?n.size[1]:0},e._imgs2base64=function(t,n,i,o){var l=t.getElementsByTagName(n),a=l.length;a==0&&o();for(var s=0;s<a;s++)(function(){var c=s,d=l[c];e._getDataUri(d.getAttribute(i),function(f){f.success&&d.setAttribute(i,f.result),c==a-1&&o()})})()},e._getDataUri=function(t,n){if(t.indexOf("base64")!=-1)n({success:!1});else{var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){i.status===200?o.readAsDataURL(i.response):i.status===404&&n({success:!1,result:i.status})};var o=new FileReader;o.onloadend=function(){n({success:!0,result:o.result})},i.send()}},e._convertStringToArray=function(t,n){return e.ARRAY_FIELDS.indexOf(t)!=-1?e.isNEU(n)?[]:n.split(","):n},e._convertArrayToString=function(t){return!e.isNEU(t)&&Array.isArray(t)?t.join():t},e._csvToArray=function(t,n){n=n||e.CSV_DELIMITER;for(var i=new RegExp("(\\"+n+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+n+"\\r\\n]*))","gi"),o=[[]],l=null;l=i.exec(t);){var a,s=l[1];s.length&&s!==n&&o.push([]),a=l[2]?l[2].replace(new RegExp('""',"g"),'"'):l[3],o[o.length-1].push(a)}return o},e._json2xml=function(t){for(var n=document.implementation.createDocument("","",null),i=n.createElement("nodes"),o=0;o<t.length;o++){var l=n.createElement("node"),a=t[o];for(var s in a){var c=a[s];l.setAttribute(s,e._convertArrayToString(c))}i.appendChild(l)}return n.appendChild(i),'<?xml version="1.0" encoding="utf-8" ?>'+new XMLSerializer().serializeToString(n.documentElement)},e._xml2json=function(t){for(var n=new DOMParser().parseFromString(t,"text/xml").getElementsByTagName("node"),i=[],o=0;o<n.length;o++){for(var l=n[o],a={},s=0;s<l.attributes.length;s++){var c=l.attributes[s];a[c.name]=e._convertStringToArray(c.name,c.value)}i.push(a)}return i},e.convertNodesToCsv=function(t){return e._json2csv(t)},e._json2csv=function(t){for(var n=[],i=function(s){for(var c="",d=0;d<n.length;d++){var f;(f=n[d]=="reportsTo"?null:s[n[d]]==null?"":s[n[d]])instanceof Date&&(f=f.toLocaleString());var u=(f=f===null?"":f.toString()).replace(/"/g,'""'),p=new RegExp(`("|;|
)`,"g");u.search(p)>=0&&(u='"'+u+'"'),d>0&&(c+=e.CSV_DELIMITER),c+=u}return c+`
`},o="",l=0;l<t.length;l++)for(var a in t[l])e._arrayContains(n,a)||(n.push(a),o+=a+e.CSV_DELIMITER);for(o=o.substring(0,o.length-1),o+=`
`,l=0;l<t.length;l++)o+=i(t[l]);return o=o.substring(0,o.length-1)},e.accentFold=function(t){return(t=t.toString().toLowerCase()).replace(/([])|([])|([])|([])|([])|([])|([])|([])|([])|([])/g,function(n,i,o,l,a,s,c,d,f,u,p){return i?"a":o?"c":l?"e":a?"i":s?"n":c?"o":d?"s":f?"u":u?"y":p?"ae":void 0})},e.copy=function(t){if(t===null||typeof t!="object"||"isActiveClone"in t)return t;if(t instanceof Date)var n=new t.constructor;else n=t.constructor();for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(t.isActiveClone=null,n[i]=e.copy(t[i]),delete t.isActiveClone);return n},e._getScrollSensitivity=function(){var t=e._browser();return t.msie&&e.scroll.ie?e.scroll.ie:t.edge&&e.scroll.edge?e.scroll.edge:t.safari&&e.scroll.safari?e.scroll.safari:t.chrome&&e.scroll.chrome?e.scroll.chrome:t.firefox&&e.scroll.firefox?e.scroll.firefox:t.opera&&e.scroll.opera?e.scroll.opera:{smooth:e.scroll.smooth,speed:e.scroll.speed}},e.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},e.isTrial=function(){return e.remote!==void 0},e.childrenCount=function(t,n){for(var i=0,o=0;o<n.childrenIds.length;o++)t.nodes[n.childrenIds[o]]&&i++;return i},e.childrenTotalCount=function(t,n){for(var i=0,o=0;o<n.childrenIds.length;o++){var l=t.nodes[n.childrenIds[o]];l&&(i++,i+=e.childrenTotalCount(t,l))}return i},e.collapsedChildrenCount=function(t,n){for(var i=0,o=0;o<n.childrenIds.length;o++){var l=t.nodes[n.childrenIds[o]];l&&l.collapsed===!0&&i++}return i},e.collapsedChildrenTotalCount=function(t,n,i){for(var o=0,l=0;l<n.childrenIds.length;l++){var a=t.nodes[n.childrenIds[l]];a&&((i||a.collapsed===!0)&&o++,o+=e.collapsedChildrenTotalCount(t,a,!0))}return o},e._setMinMaxXY=function(t,n){(n.minX==null||t.x!=null&&t.x<n.minX)&&(n.minX=t.x),(n.minY==null||t.y!=null&&t.y<n.minY)&&(n.minY=t.y),(n.maxX==null||t.x!=null&&t.x+t.w>n.maxX)&&(n.maxX=t.x+t.w),(n.maxY==null||t.y!=null&&t.y+t.h>n.maxY)&&(n.maxY=t.y+t.h)},e.getStParentNodes=function(t,n){for(n||(n=[]);t.parent;)t=t.parent;return t.stParent&&(n.push(t.stParent),e.getStParentNodes(t.stParent,n)),n},e.getRootOf=function(t){for(;t&&t.parent;)t=t.parent;return t},e._getViewBox=function(t){var n=null;return t?(n=(n="["+(n=t.getAttribute("viewBox"))+"]").replace(/\ /g,","),n=JSON.parse(n)):null},e.isNEU=function(t){return t==null||t===""},e.gradientCircleForDefs=function(t,n,i,o){function l(s,c,d,f){var u=(f-90)*Math.PI/180;return{x:s+d*Math.cos(u),y:c+d*Math.sin(u)}}function a(s,c,d,f,u){var p=l(s,c,d,u),m=l(s,c,d,f),g=u-f<=180?"0":"1";return["M",p.x,p.y,"A",d,d,0,g,0,m.x,m.y].join(" ")}return Array.isArray(n)||(n=[n,n,n,n,n,n]),`<linearGradient id="${t}_linearColors1" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0%" stop-color="${n[0]}"></stop>
            <stop offset="100%" stop-color="${n[1]}"></stop>
        </linearGradient>
        <linearGradient id="${t}_linearColors2" x1="0.5" y1="0" x2="0.5" y2="1">
            <stop offset="0%" stop-color="${n[1]}"></stop>
            <stop offset="100%" stop-color="${n[2]}"></stop>
        </linearGradient>
        <linearGradient id="${t}_linearColors3" x1="1" y1="0" x2="0" y2="1">
            <stop offset="0%" stop-color="${n[2]}"></stop>
            <stop offset="100%" stop-color="${n[3]}"></stop>
        </linearGradient>
        <linearGradient id="${t}_linearColors4" x1="1" y1="1" x2="0" y2="0">
            <stop offset="0%" stop-color="${n[3]}"></stop>
            <stop offset="100%" stop-color="${n[4]}"></stop>
        </linearGradient>
        <linearGradient id="${t}_linearColors5" x1="0.5" y1="1" x2="0.5" y2="0">
            <stop offset="0%" stop-color="${n[4]}"></stop>
            <stop offset="100%" stop-color="${n[5]}"></stop>
        </linearGradient>
        <linearGradient id="${t}_linearColors6" x1="0" y1="1" x2="1" y2="0">
            <stop offset="0%" stop-color="${n[5]}"></stop>
            <stop offset="100%" stop-color="${n[0]}"></stop>
        </linearGradient>        
        <g id="${t}">
            <path stroke-width="${o}" fill="none" stroke="url(#${t}_linearColors1)" d="${a(i,i,i,1,60)}"  />
            <path stroke-width="${o}" fill="none" stroke="url(#${t}_linearColors2)" d="${a(i,i,i,60,120)}"/>
            <path stroke-width="${o}" fill="none" stroke="url(#${t}_linearColors3)" d="${a(i,i,i,120,180)}" />
            <path stroke-width="${o}" fill="none" stroke="url(#${t}_linearColors4)" d="${a(i,i,i,180,240)}" />
            <path stroke-width="${o}" fill="none" stroke="url(#${t}_linearColors5)" d="${a(i,i,i,240,300)}" />
            <path stroke-width="${o}" fill="none" stroke="url(#${t}_linearColors6)" d="${a(i,i,i,300,1)}"/>
        </g>`},e._intersectionObserver=function(t,n){typeof IntersectionObserver=="function"?new IntersectionObserver(function(i,o){i.forEach(function(l){var a=l.intersectionRatio>0;l.intersectionRatio==0&&(a=l.isIntersecting),n(a)})}).observe(t):n(!0)},e.convertCsvToNodes=function(t){for(var n=e._csvToArray(t),i=n[0],o=[],l=1;l<n.length;l++){for(var a={},s=0;s<n[l].length;s++){var c=i[s],d=n[l][s];a[i[s]]=e._convertStringToArray(c,d)}a.id.trim()!=""&&o.push(a)}return o},e._escapeHtml=function(t){return e.ESCAPE_HTML&&typeof t=="string"?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):t},e._escapeDoubleQuotes=function(t){return typeof t=="string"?t.replace(/"/g,"&quot;"):t},e._escapeGreaterLessSign=function(t){return typeof t=="string"?t.replace(/</g,"&lt;").replace(/>/g,"&gt;"):t},e.roundPathCorners=function(t,n,i){function o(C,E,L){var B=E.x-C.x,R=E.y-C.y,U=Math.sqrt(B*B+R*R);return l(C,E,Math.min(1,L/U))}function l(C,E,L){return{x:C.x+(E.x-C.x)*L,y:C.y+(E.y-C.y)*L}}function a(C,E){C.length>2&&(C[C.length-2]=E.x,C[C.length-1]=E.y)}function s(C){return{x:parseFloat(C[C.length-2]),y:parseFloat(C[C.length-1])}}Array.isArray(t)||(t=(t=t.split(/[,\s]/).reduce(function(C,E){var L=E.match("([a-zA-Z])(.+)");return L?(C.push(L[1]),C.push(L[2])):C.push(E),C},[])).reduce(function(C,E){return parseFloat(E)==E&&C.length?C[C.length-1].push(E):C.push([E]),C},[]));var c=[];if(t.length>1){var d=s(t[0]),f=null;t[t.length-1][0]=="Z"&&t[0].length>2&&(f=["L",d.x,d.y],t[t.length-1]=f),c.push(t[0]);for(var u=1;u<t.length;u++){var p=c[c.length-1],m=t[u],g=m==f?t[1]:t[u+1];if(g&&p&&p.length>2&&m[0]=="L"&&g.length>2&&g[0]=="L"){var x,y,v=s(p),h=s(m),w=s(g);i?(x=l(h,p.origPoint||v,n),y=l(h,g.origPoint||w,n)):(x=o(h,v,n),y=o(h,w,n)),a(m,x),m.origPoint=h,c.push(m);var _=l(x,h,.5),b=l(h,y,.5),S=["C",_.x,_.y,b.x,b.y,y.x,y.y];S.origPoint=h,c.push(S)}else c.push(m)}if(f){var k=s(c[c.length-1]);c.push(["Z"]),a(c[0],k)}}else c=t;return c.reduce(function(C,E){return C+E.join(" ")+" "},"")},e._isMoved=function(t){return t.movex!=null||t.movey!=null},e._getDynamicGridCoulumns=function(t){for(var n=1;n<t&&!(t/n-n<=0);n++);return n%2!=0&&n>2&&n--,n},e._changeRootOption=function(t,n,i){for(var o=[],l=0;l<n.length;l++)for(var a=0;a<i.length;a++)if(i[a].has(n[l])){o=i[a];break}for(l=0;l<o.length;l++){var s=t.indexOf(o[l]);s!=-1&&t.splice(s,1)}n.length&&t.push(n[0])},e._convertStringToArrayOnImport=function(t,n){return t=="tags"||t=="pids"?e.isNEU(n)?[]:n.split(","):n},e===void 0&&(e={}),e.icon={},e.icon.png=function(t,n,i){return'<svg width="'+t+'" height="'+n+'" viewBox="0 0 550.801 550.801"><path fill="'+i+'" d="M146.747,276.708c0-13.998-9.711-22.352-26.887-22.352c-6.99,0-11.726,0.675-14.204,1.355v44.927 c2.932,0.676,6.539,0.896,11.52,0.896C135.449,301.546,146.747,292.28,146.747,276.708z"/><path fill="'+i+'" d="M488.426,197.019H475.2v-63.816c0-0.398-0.063-0.799-0.116-1.202c-0.021-2.534-0.827-5.023-2.562-6.995L366.325,3.694 c-0.032-0.031-0.063-0.042-0.085-0.076c-0.633-0.707-1.371-1.295-2.151-1.804c-0.231-0.155-0.464-0.285-0.706-0.419 c-0.676-0.369-1.393-0.675-2.131-0.896c-0.2-0.056-0.38-0.138-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.873v160.545 c0,17.043,13.824,30.87,30.873,30.87h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87v-160.54C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.513c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M234.344,335.86v45.831h-31.601V229.524h40.184 l31.611,55.759c9.025,16.031,18.064,34.983,24.825,52.154h0.675c-2.257-20.103-2.933-40.643-2.933-63.44v-44.473h31.614v152.167 h-36.117l-32.516-58.703c-9.049-16.253-18.971-35.892-26.438-53.727l-0.665,0.222C233.906,289.58,234.344,311.027,234.344,335.86z M71.556,381.691V231.56c10.613-1.804,25.516-3.159,46.506-3.159c21.215,0,36.353,4.061,46.509,12.192 c9.698,7.673,16.255,20.313,16.255,35.219c0,14.897-4.959,27.549-13.999,36.123c-11.738,11.063-29.123,16.031-49.441,16.031 c-4.522,0-8.593-0.231-11.736-0.675v54.411H71.556V381.691z M453.601,523.353H97.2V419.302h356.4V523.353z M485.652,374.688 c-10.61,3.607-30.713,8.585-50.805,8.585c-27.759,0-47.872-7.003-61.857-20.545c-13.995-13.1-21.684-32.97-21.452-55.318 c0.222-50.569,37.03-79.463,86.917-79.463c19.644,0,34.783,3.829,42.219,7.446l-7.214,27.543c-8.369-3.617-18.752-6.55-35.458-6.55 c-28.656,0-50.341,16.256-50.341,49.22c0,31.382,19.649,49.892,47.872,49.892c7.895,0,14.218-0.901,16.934-2.257v-31.835h-23.493 v-26.869h56.679V374.688z"/></svg>'},e.icon.pdf=function(t,n,i){return'<svg width="'+t+'" height="'+n+'" viewBox="0 0 550.801 550.801"><path fill="'+i+'" d="M160.381,282.225c0-14.832-10.299-23.684-28.474-23.684c-7.414,0-12.437,0.715-15.071,1.432V307.6 c3.114,0.707,6.942,0.949,12.192,0.949C148.419,308.549,160.381,298.74,160.381,282.225z"/><path fill="'+i+'" d="M272.875,259.019c-8.145,0-13.397,0.717-16.519,1.435v105.523c3.116,0.729,8.142,0.729,12.69,0.729 c33.017,0.231,54.554-17.946,54.554-56.474C323.842,276.719,304.215,259.019,272.875,259.019z"/><path fill="'+i+'" d="M488.426,197.019H475.2v-63.816c0-0.398-0.063-0.799-0.116-1.202c-0.021-2.534-0.827-5.023-2.562-6.995L366.325,3.694 c-0.032-0.031-0.063-0.042-0.085-0.076c-0.633-0.707-1.371-1.295-2.151-1.804c-0.231-0.155-0.464-0.285-0.706-0.419 c-0.676-0.369-1.393-0.675-2.131-0.896c-0.2-0.056-0.38-0.138-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.873v160.545 c0,17.043,13.824,30.87,30.873,30.87h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87v-160.54C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.513c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M362.359,309.023c0,30.876-11.243,52.165-26.82,65.333 c-16.971,14.117-42.82,20.814-74.396,20.814c-18.9,0-32.297-1.197-41.401-2.389V234.365c13.399-2.149,30.878-3.346,49.304-3.346 c30.612,0,50.478,5.508,66.039,17.226C351.828,260.69,362.359,280.547,362.359,309.023z M80.7,393.499V234.365 c11.241-1.904,27.042-3.346,49.296-3.346c22.491,0,38.527,4.308,49.291,12.928c10.292,8.131,17.215,21.534,17.215,37.328 c0,15.799-5.25,29.198-14.829,38.285c-12.442,11.728-30.865,16.996-52.407,16.996c-4.778,0-9.1-0.243-12.435-0.723v57.67H80.7 V393.499z M453.601,523.353H97.2V419.302h356.4V523.353z M484.898,262.127h-61.989v36.851h57.913v29.674h-57.913v64.848h-36.593 V232.216h98.582V262.127z"/></svg>'},e.icon.svg=function(t,n,i){return'<svg width="'+t+'" height="'+n+'" viewBox="0 0 550.801 550.801"><path fill="'+i+'" d="M488.426,197.019H475.2v-63.816c0-0.398-0.063-0.799-0.116-1.202c-0.021-2.534-0.827-5.023-2.562-6.995L366.325,3.694 c-0.032-0.031-0.063-0.042-0.085-0.076c-0.633-0.707-1.371-1.295-2.151-1.804c-0.231-0.155-0.464-0.285-0.706-0.419 c-0.676-0.369-1.393-0.675-2.131-0.896c-0.2-0.056-0.38-0.138-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.873v160.545 c0,17.043,13.824,30.87,30.873,30.87h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87v-160.54C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.513c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M338.871,225.672L284.545,386.96h-42.591 l-51.69-161.288h39.967l19.617,68.196c5.508,19.143,10.531,37.567,14.36,57.67h0.717c4.061-19.385,9.089-38.527,14.592-56.953 l20.585-68.918h38.77V225.672z M68.458,379.54l7.415-30.153c9.811,5.021,24.888,10.051,40.439,10.051 c16.751,0,25.607-6.935,25.607-17.465c0-10.052-7.662-15.795-27.05-22.734c-26.8-9.328-44.263-24.168-44.263-47.611 c0-27.524,22.971-48.579,61.014-48.579c18.188,0,31.591,3.823,41.159,8.131l-8.126,29.437c-6.465-3.116-17.945-7.657-33.745-7.657 c-15.791,0-23.454,7.183-23.454,15.552c0,10.296,9.089,14.842,29.917,22.731c28.468,10.536,41.871,25.365,41.871,48.094 c0,27.042-20.812,50.013-65.09,50.013C95.731,389.349,77.538,384.571,68.458,379.54z M453.601,523.353H97.2V419.302h356.4V523.353z M488.911,379.54c-11.243,3.823-32.537,9.103-53.831,9.103c-29.437,0-50.73-7.426-65.57-21.779 c-14.839-13.875-22.971-34.942-22.738-58.625c0.253-53.604,39.255-84.235,92.137-84.235c20.81,0,36.852,4.073,44.74,7.896 l-7.657,29.202c-8.859-3.829-19.849-6.95-37.567-6.95c-30.396,0-53.357,17.233-53.357,52.173c0,33.265,20.81,52.882,50.73,52.882 c8.375,0,15.072-0.96,17.94-2.395v-33.745h-24.875v-28.471h60.049V379.54L488.911,379.54z" /></svg>'},e.icon.csv=function(t,n,i){return'<svg width="'+t+'" height="'+n+'" viewBox="0 0 548.29 548.291" ><path fill="'+i+'" d="M486.2,196.121h-13.164V132.59c0-0.399-0.064-0.795-0.116-1.2c-0.021-2.52-0.824-5-2.551-6.96L364.656,3.677 c-0.031-0.034-0.064-0.044-0.085-0.075c-0.629-0.707-1.364-1.292-2.141-1.796c-0.231-0.157-0.462-0.286-0.704-0.419 c-0.672-0.365-1.386-0.672-2.121-0.893c-0.199-0.052-0.377-0.134-0.576-0.188C358.229,0.118,357.4,0,356.562,0H96.757 C84.893,0,75.256,9.649,75.256,21.502v174.613H62.093c-16.972,0-30.733,13.756-30.733,30.73v159.81 c0,16.966,13.761,30.736,30.733,30.736h13.163V526.79c0,11.854,9.637,21.501,21.501,21.501h354.777 c11.853,0,21.502-9.647,21.502-21.501V417.392H486.2c16.966,0,30.729-13.764,30.729-30.731v-159.81 C516.93,209.872,503.166,196.121,486.2,196.121z M96.757,21.502h249.053v110.006c0,5.94,4.818,10.751,10.751,10.751h94.973v53.861 H96.757V21.502z M258.618,313.18c-26.68-9.291-44.063-24.053-44.063-47.389c0-27.404,22.861-48.368,60.733-48.368 c18.107,0,31.447,3.811,40.968,8.107l-8.09,29.3c-6.43-3.107-17.862-7.632-33.59-7.632c-15.717,0-23.339,7.149-23.339,15.485 c0,10.247,9.047,14.769,29.78,22.632c28.341,10.479,41.681,25.239,41.681,47.874c0,26.909-20.721,49.786-64.792,49.786 c-18.338,0-36.449-4.776-45.497-9.77l7.38-30.016c9.772,5.014,24.775,10.006,40.264,10.006c16.671,0,25.488-6.908,25.488-17.396 C285.536,325.789,277.909,320.078,258.618,313.18z M69.474,302.692c0-54.781,39.074-85.269,87.654-85.269 c18.822,0,33.113,3.811,39.549,7.149l-7.392,28.816c-7.38-3.084-17.632-5.939-30.491-5.939c-28.822,0-51.206,17.375-51.206,53.099 c0,32.158,19.051,52.4,51.456,52.4c10.947,0,23.097-2.378,30.241-5.238l5.483,28.346c-6.672,3.34-21.674,6.919-41.208,6.919 C98.06,382.976,69.474,348.424,69.474,302.692z M451.534,520.962H96.757v-103.57h354.777V520.962z M427.518,380.583h-42.399 l-51.45-160.536h39.787l19.526,67.894c5.479,19.046,10.479,37.386,14.299,57.397h0.709c4.048-19.298,9.045-38.352,14.526-56.693 l20.487-68.598h38.599L427.518,380.583z" /></svg>'},e.icon.json=function(t,n,i){return'<svg width="'+t+'" height="'+n+'" viewBox="0 0 32 32" ><polygon fill="'+i+'"  points="31 11 31 21 29 21 27 15 27 21 25 21 25 11 27 11 29 17 29 11 31 11"/><path fill="'+i+'"  d="M21.3335,21h-2.667A1.6684,1.6684,0,0,1,17,19.3335v-6.667A1.6684,1.6684,0,0,1,18.6665,11h2.667A1.6684,1.6684,0,0,1,23,12.6665v6.667A1.6684,1.6684,0,0,1,21.3335,21ZM19,19h2V13H19Z"/><path fill="'+i+'"  d="M13.3335,21H9V19h4V17H11a2.002,2.002,0,0,1-2-2V12.6665A1.6684,1.6684,0,0,1,10.6665,11H15v2H11v2h2a2.002,2.002,0,0,1,2,2v2.3335A1.6684,1.6684,0,0,1,13.3335,21Z"/><path fill="'+i+'"  d="M5.3335,21H2.6665A1.6684,1.6684,0,0,1,1,19.3335V17H3v2H5V11H7v8.3335A1.6684,1.6684,0,0,1,5.3335,21Z"/><rect fill="'+i+'"  id="_Transparent_Rectangle_" data-name="&lt;Transparent Rectangle&gt;" style="fill: none;" width="32" height="32"/></svg>'},e.icon.excel=function(t,n,i){return'<svg width="'+t+'" height="'+n+'" viewBox="0 0 512 512"><path fill="#ECEFF1" d="M496,432.011H272c-8.832,0-16-7.168-16-16s0-311.168,0-320s7.168-16,16-16h224 c8.832,0,16,7.168,16,16v320C512,424.843,504.832,432.011,496,432.011z" /><path fill="'+i+'" d="M336,176.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,176.011,336,176.011z" /><path fill="'+i+'" d="M336,240.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,240.011,336,240.011z" /><path fill="'+i+'" d="M336,304.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,304.011,336,304.011z" /><path fill="'+i+'" d="M336,368.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,368.011,336,368.011z" /><path fill="'+i+'" d="M432,176.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,176.011,432,176.011z" /><path fill="'+i+'" d="M432,240.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,240.011,432,240.011z" /><path fill="'+i+'" d="M432,304.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,304.011,432,304.011z" /><path fill="'+i+'" d="M432,368.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,368.011,432,368.011z" /><path fill="'+i+'"  d="M282.208,19.691c-3.648-3.04-8.544-4.352-13.152-3.392l-256,48C5.472,65.707,0,72.299,0,80.011v352 c0,7.68,5.472,14.304,13.056,15.712l256,48c0.96,0.192,1.952,0.288,2.944,0.288c3.712,0,7.328-1.28,10.208-3.68 c3.68-3.04,5.792-7.584,5.792-12.32v-448C288,27.243,285.888,22.731,282.208,19.691z" /><path fill="#FAFAFA" d="M220.032,309.483l-50.592-57.824l51.168-65.792c5.44-6.976,4.16-17.024-2.784-22.464 c-6.944-5.44-16.992-4.16-22.464,2.784l-47.392,60.928l-39.936-45.632c-5.856-6.72-15.968-7.328-22.56-1.504 c-6.656,5.824-7.328,15.936-1.504,22.56l44,50.304L83.36,310.187c-5.44,6.976-4.16,17.024,2.784,22.464 c2.944,2.272,6.432,3.36,9.856,3.36c4.768,0,9.472-2.112,12.64-6.176l40.8-52.48l46.528,53.152 c3.168,3.648,7.584,5.504,12.032,5.504c3.744,0,7.488-1.312,10.528-3.968C225.184,326.219,225.856,316.107,220.032,309.483z" /></svg>'},e.icon.edit=function(t,n,i){return'<svg width="'+t+'" height="'+n+'" viewBox="0 0 528.899 528.899"><path fill="'+i+'" d="M328.883,89.125l107.59,107.589l-272.34,272.34L56.604,361.465L328.883,89.125z M518.113,63.177l-47.981-47.981 c-18.543-18.543-48.653-18.543-67.259,0l-45.961,45.961l107.59,107.59l53.611-53.611 C532.495,100.753,532.495,77.559,518.113,63.177z M0.3,512.69c-1.958,8.812,5.998,16.708,14.811,14.565l119.891-29.069 L27.473,390.597L0.3,512.69z" /></svg>'},e.icon.details=function(t,n,i){return'<svg width="'+t+'" height="'+n+'" viewBox="0 0 512 512"><path fill="'+i+'" d="M447.933,103.629c-0.034-3.076-1.224-6.09-3.485-8.352L352.683,3.511c-0.004-0.004-0.007-0.005-0.011-0.008 C350.505,1.338,347.511,0,344.206,0H89.278C75.361,0,64.04,11.32,64.04,25.237v461.525c0,13.916,11.32,25.237,25.237,25.237 h333.444c13.916,0,25.237-11.32,25.237-25.237V103.753C447.96,103.709,447.937,103.672,447.933,103.629z M356.194,40.931 l50.834,50.834h-49.572c-0.695,0-1.262-0.567-1.262-1.262V40.931z M423.983,486.763c0,0.695-0.566,1.261-1.261,1.261H89.278 c-0.695,0-1.261-0.566-1.261-1.261V25.237c0-0.695,0.566-1.261,1.261-1.261h242.94v66.527c0,13.916,11.322,25.239,25.239,25.239 h66.527V486.763z"/><path fill="'+i+'" d="M362.088,164.014H149.912c-6.62,0-11.988,5.367-11.988,11.988c0,6.62,5.368,11.988,11.988,11.988h212.175 c6.62,0,11.988-5.368,11.988-11.988C374.076,169.381,368.707,164.014,362.088,164.014z"/><path fill="'+i+'" d="M362.088,236.353H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.62,5.368,11.988,11.988,11.988h212.175 c6.62,0,11.988-5.368,11.988-11.988C374.076,241.721,368.707,236.353,362.088,236.353z"/><path fill="'+i+'" d="M362.088,308.691H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.621,5.368,11.988,11.988,11.988h212.175 c6.62,0,11.988-5.367,11.988-11.988C374.076,314.06,368.707,308.691,362.088,308.691z"/><path fill="'+i+'" d="M256,381.031H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.621,5.368,11.988,11.988,11.988H256 c6.62,0,11.988-5.367,11.988-11.988C267.988,386.398,262.62,381.031,256,381.031z"/></svg>'},e.icon.remove=function(t,n,i){return'<svg width="'+t+'" height="'+n+'"  viewBox="0 0 900.5 900.5"><path fill="'+i+'" d="M176.415,880.5c0,11.046,8.954,20,20,20h507.67c11.046,0,20-8.954,20-20V232.487h-547.67V880.5L176.415,880.5z M562.75,342.766h75v436.029h-75V342.766z M412.75,342.766h75v436.029h-75V342.766z M262.75,342.766h75v436.029h-75V342.766z"/><path fill="'+i+'" d="M618.825,91.911V20c0-11.046-8.954-20-20-20h-297.15c-11.046,0-20,8.954-20,20v71.911v12.5v12.5H141.874 c-11.046,0-20,8.954-20,20v50.576c0,11.045,8.954,20,20,20h34.541h547.67h34.541c11.046,0,20-8.955,20-20v-50.576 c0-11.046-8.954-20-20-20H618.825v-12.5V91.911z M543.825,112.799h-187.15v-8.389v-12.5V75h187.15v16.911v12.5V112.799z"/></svg>'},e.icon.add=function(t,n,i){return'<svg width="'+t+'" height="'+n+'"   viewBox="0 0 922 922"><path fill="'+i+'" d="M922,453V81c0-11.046-8.954-20-20-20H410c-11.045,0-20,8.954-20,20v149h318c24.812,0,45,20.187,45,45v198h149 C913.046,473.001,922,464.046,922,453z" /><path fill="'+i+'" d="M557,667.001h151c11.046,0,20-8.954,20-20v-174v-198c0-11.046-8.954-20-20-20H390H216c-11.045,0-20,8.954-20,20v149h194 h122c24.812,0,45,20.187,45,45v4V667.001z" /><path fill="'+i+'" d="M0,469v372c0,11.046,8.955,20,20,20h492c11.046,0,20-8.954,20-20V692v-12.501V667V473v-4c0-11.046-8.954-20-20-20H390H196 h-12.5H171H20C8.955,449,0,457.955,0,469z" /></svg>'},e.icon.search=function(t,n,i){return'<svg width="'+t+'" height="'+n+'" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 485.213 485.213"><path fill="'+i+'" d="M471.882,407.567L360.567,296.243c-16.586,25.795-38.536,47.734-64.331,64.321l111.324,111.324 c17.772,17.768,46.587,17.768,64.321,0C489.654,454.149,489.654,425.334,471.882,407.567z" /><path fill="'+i+'" d="M363.909,181.955C363.909,81.473,282.44,0,181.956,0C81.474,0,0.001,81.473,0.001,181.955s81.473,181.951,181.955,181.951 C282.44,363.906,363.909,282.437,363.909,181.955z M181.956,318.416c-75.252,0-136.465-61.208-136.465-136.46 c0-75.252,61.213-136.465,136.465-136.465c75.25,0,136.468,61.213,136.468,136.465 C318.424,257.208,257.206,318.416,181.956,318.416z" /><path fill="'+i+'" d="M75.817,181.955h30.322c0-41.803,34.014-75.814,75.816-75.814V75.816C123.438,75.816,75.817,123.437,75.817,181.955z" /></svg>'},e.icon.xml=function(t,n,i){return'<svg width="'+t+'" height="'+n+'" viewBox="0 0 550.801 550.801"><path fill="'+i+'"  d="M488.426,197.019H475.2v-63.816c0-0.401-0.063-0.799-0.116-1.205c-0.021-2.534-0.827-5.023-2.562-6.992L366.325,3.691 c-0.032-0.031-0.063-0.042-0.085-0.073c-0.633-0.707-1.371-1.298-2.151-1.804c-0.231-0.158-0.464-0.287-0.706-0.422 c-0.676-0.366-1.393-0.675-2.131-0.896c-0.2-0.053-0.38-0.135-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.87v160.542 c0,17.044,13.824,30.876,30.873,30.876h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87V227.89C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.51c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M369.531,374.53h-32.058l-2.156-55.519 c-0.644-17.434-1.298-38.518-1.298-59.611h-0.633c-4.514,18.516-10.547,39.166-16.137,56.162l-17.645,56.601h-25.618 l-15.494-56.157c-4.725-16.996-9.671-37.658-13.123-56.6h-0.43c-0.854,19.585-1.508,41.961-2.586,60.038l-2.576,55.086h-30.343 l9.26-145.035h43.677l14.207,48.421c4.517,16.774,9.041,34.847,12.258,51.843h0.654c4.081-16.77,9.038-35.923,13.774-52.064 l15.493-48.199h42.82L369.531,374.53z M69.992,374.53l41.955-73.385l-40.444-71.65h37.655l12.688,26.465 c4.316,8.828,7.533,15.928,10.99,24.092h0.422c3.438-9.242,6.23-15.694,9.893-24.092l12.274-26.465h37.434l-40.89,70.796 l43.044,74.239h-37.866l-13.134-26.257c-5.376-10.108-8.817-17.639-12.909-26.04h-0.433c-3.009,8.401-6.674,15.932-11.19,26.04 l-12.042,26.257H69.992z M453.601,523.353H97.2V419.302h356.4V523.353z M485.325,374.53h-90.608V229.495h32.933v117.497h57.682 v27.538H485.325z"/></svg>'},e.icon.link=function(t,n,i){return'<svg width="'+t+'" height="'+n+'" viewBox="0 0 512.092 512.092"  ><path fill="'+i+'" d="M312.453,199.601c-6.066-6.102-12.792-11.511-20.053-16.128c-19.232-12.315-41.59-18.859-64.427-18.859 c-31.697-0.059-62.106,12.535-84.48,34.987L34.949,308.23c-22.336,22.379-34.89,52.7-34.91,84.318 c-0.042,65.98,53.41,119.501,119.39,119.543c31.648,0.11,62.029-12.424,84.395-34.816l89.6-89.6 c1.628-1.614,2.537-3.816,2.524-6.108c-0.027-4.713-3.87-8.511-8.583-8.484h-3.413c-18.72,0.066-37.273-3.529-54.613-10.581 c-3.195-1.315-6.867-0.573-9.301,1.877l-64.427,64.512c-20.006,20.006-52.442,20.006-72.448,0 c-20.006-20.006-20.006-52.442,0-72.448l108.971-108.885c19.99-19.965,52.373-19.965,72.363,0 c13.472,12.679,34.486,12.679,47.957,0c5.796-5.801,9.31-13.495,9.899-21.675C322.976,216.108,319.371,206.535,312.453,199.601z" /><path fill="'+i+'" d="M477.061,34.993c-46.657-46.657-122.303-46.657-168.96,0l-89.515,89.429c-2.458,2.47-3.167,6.185-1.792,9.387 c1.359,3.211,4.535,5.272,8.021,5.205h3.157c18.698-0.034,37.221,3.589,54.528,10.667c3.195,1.315,6.867,0.573,9.301-1.877 l64.256-64.171c20.006-20.006,52.442-20.006,72.448,0c20.006,20.006,20.006,52.442,0,72.448l-80.043,79.957l-0.683,0.768 l-27.989,27.819c-19.99,19.965-52.373,19.965-72.363,0c-13.472-12.679-34.486-12.679-47.957,0 c-5.833,5.845-9.35,13.606-9.899,21.845c-0.624,9.775,2.981,19.348,9.899,26.283c9.877,9.919,21.433,18.008,34.133,23.893 c1.792,0.853,3.584,1.536,5.376,2.304c1.792,0.768,3.669,1.365,5.461,2.048c1.792,0.683,3.669,1.28,5.461,1.792l5.035,1.365 c3.413,0.853,6.827,1.536,10.325,2.133c4.214,0.626,8.458,1.025,12.715,1.195h5.973h0.512l5.12-0.597 c1.877-0.085,3.84-0.512,6.059-0.512h2.901l5.888-0.853l2.731-0.512l4.949-1.024h0.939c20.961-5.265,40.101-16.118,55.381-31.403 l108.629-108.629C523.718,157.296,523.718,81.65,477.061,34.993z" /></svg>'},e.icon.happy=function(t,n,i){return'<svg width="'+t+'" height="'+n+'" viewBox="0 0 512 512"><path fill="'+i+'" d="M256,0C114.615,0,0,114.615,0,256s114.615,256,256,256s256-114.615,256-256S397.385,0,256,0z M256,480 C132.288,480,32,379.712,32,256S132.288,32,256,32s224,100.288,224,224S379.712,480,256,480z"/><path fill="'+i+'" d="M176,176c17.673,0,32,14.327,32,32h32c0-35.346-28.654-64-64-64c-35.346,0-64,28.654-64,64h32 C144,190.327,158.327,176,176,176z"/><path fill="'+i+'" d="M336,144c-35.346,0-64,28.654-64,64h32c0-17.673,14.327-32,32-32c17.673,0,32,14.327,32,32h32 C400,172.654,371.346,144,336,144z"/><path fill="'+i+'" d="M256,368c-53.019,0-96-42.981-96-96h-32c0,70.692,57.308,128,128,128s128-57.308,128-128h-32 C352,325.019,309.019,368,256,368z"/></svg>'},e.icon.sad=function(t,n,i){return'<svg width="'+t+'" height="'+n+'" viewBox="0 0 512 512"><path fill="'+i+'" d="M256,0C114.615,0,0,114.615,0,256s114.615,256,256,256s256-114.615,256-256S397.385,0,256,0z M256,480 C132.288,480,32,379.712,32,256S132.288,32,256,32s224,100.288,224,224S379.712,480,256,480z"/><path fill="'+i+'" d="M336,192c-17.673,0-32-14.327-32-32h-32c0,35.346,28.654,64,64,64c35.346,0,64-28.654,64-64h-32 C368,177.673,353.673,192,336,192z"/><path fill="'+i+'" d="M176,224c35.346,0,64-28.654,64-64h-32c0,17.673-14.327,32-32,32s-32-14.327-32-32h-32C112,195.346,140.654,224,176,224z "/><path fill="'+i+'" d="M256,256c-70.692,0-128,57.308-128,128h32c0-53.019,42.981-96,96-96s96,42.981,96,96h32C384,313.308,326.692,256,256,256 z"/></svg>'},e.icon.share=function(t,n,i,o,l){return o==null&&(o=0),l==null&&(l=0),`<svg width="${t}" height="${n}" x="${o}" y="${l}" viewBox="0 0 512 512">
                <path fill="${i}" d="M406,332c-29.641,0-55.761,14.581-72.167,36.755L191.99,296.124c2.355-8.027,4.01-16.346,4.01-25.124
                    c0-11.906-2.441-23.225-6.658-33.636l148.445-89.328C354.307,167.424,378.589,180,406,180c49.629,0,90-40.371,90-90
                    c0-49.629-40.371-90-90-90c-49.629,0-90,40.371-90,90c0,11.437,2.355,22.286,6.262,32.358l-148.887,89.59
                    C156.869,193.136,132.937,181,106,181c-49.629,0-90,40.371-90,90c0,49.629,40.371,90,90,90c30.13,0,56.691-15.009,73.035-37.806
                    l141.376,72.395C317.807,403.995,316,412.75,316,422c0,49.629,40.371,90,90,90c49.629,0,90-40.371,90-90
                    C496,372.371,455.629,332,406,332z"/>
                </svg>`},e.icon.user=function(t,n,i,o,l){return e.isNEU(o)&&(o=0),e.isNEU(l)&&(l=0),`<svg width="${t}" height="${n}" x="${o}" y="${l}" viewBox="0 0 24 24">
                <path fill="${i}" d="M12 11.796C14.7189 11.796 16.9231 9.60308 16.9231 6.89801C16.9231 4.19294 14.7189 2.00005 12 2.00005C9.28106 2.00005 7.07692 4.19294 7.07692 6.89801C7.07692 9.60308 9.28106 11.796 12 11.796Z" fill="#030D45"/>
                <path fill="${i}" d="M14.5641 13.8369H9.4359C6.46154 13.8369 4 16.2859 4 19.245C4 19.9593 4.30769 20.5716 4.92308 20.8777C5.84615 21.3879 7.89744 22.0001 12 22.0001C16.1026 22.0001 18.1538 21.3879 19.0769 20.8777C19.5897 20.5716 20 19.9593 20 19.245C20 16.1838 17.5385 13.8369 14.5641 13.8369Z" fill="#030D45"/>
            </svg>`},e.icon.close=function(t,n,i,o,l){return o==null&&(o=0),l==null&&(l=0),`<svg width="${t}" height="${n}" x="${o}" y="${l}" viewBox="0 0 512 512">
    <path fill="${i}" d="m256 0c-141.49 0-256 114.5-256 256 0 141.49 114.5 256 256 256 141.49 0 256-114.5 256-256 0-141.49-114.5-256-256-256zm-12.284 317.397-58.121 58.132c-6.565 6.553-15.283 10.166-24.557 10.166-19.196 0-34.734-15.526-34.734-34.734 0-9.274 3.612-17.992 10.166-24.557l58.132-58.121c6.785-6.784 6.785-17.783 0-24.568l-58.132-58.121c-6.553-6.565-10.166-15.283-10.166-24.557 0-19.196 15.526-34.734 34.734-34.734 9.274 0 17.992 3.613 24.557 10.166l58.121 58.132c6.785 6.773 17.784 6.773 24.568 0l58.121-58.132c6.565-6.553 15.283-10.166 24.557-10.166 19.196 0 34.734 15.526 34.734 34.734 0 9.274-3.612 17.992-10.166 24.557l-58.132 58.121c-6.785 6.784-6.785 17.783 0 24.568l58.132 58.121c6.553 6.565 10.166 15.283 10.166 24.557 0 19.196-15.526 34.734-34.734 34.734-9.274 0-17.992-3.613-24.557-10.166l-58.121-58.132c-6.784-6.784-17.784-6.773-24.568 0z"/>
    </svg>`},e.icon.undo=function(t,n,i,o,l){return o==null&&(o=0),l==null&&(l=0),`<svg width="${t}" height="${n}" x="${o}" y="${l}" viewBox="0 0 24 24">
    <path fill-rule="evenodd" clip-rule="evenodd" fill="${i}" d="M3.46447 3.46447C2 4.92893 2 7.28595 2 12C2 16.714 2 19.0711 3.46447 20.5355C4.92893 22 7.28595 22 12 22C16.714 22 19.0711 22 20.5355 20.5355C22 19.0711 22 16.7141 22 12C22 7.28598 22 4.92893 20.5355 3.46447C19.0711 2 16.714 2 12 2C7.28595 2 4.92893 2 3.46447 3.46447ZM9.25871 7.97395C9.56308 7.693 9.58205 7.21851 9.3011 6.91414C9.02015 6.60978 8.54565 6.5908 8.24129 6.87175L5.99129 8.94867C5.83748 9.09065 5.75 9.29045 5.75 9.49977C5.75 9.7091 5.83748 9.9089 5.99129 10.0509L8.24129 12.1278C8.54565 12.4088 9.02015 12.3898 9.3011 12.0854C9.58205 11.781 9.56308 11.3065 9.25871 11.0256L8.41824 10.2498H14.0385C14.7376 10.2498 15.2069 10.2506 15.5652 10.2862C15.9116 10.3205 16.0724 10.3813 16.1787 10.4501C16.3272 10.5461 16.4537 10.6726 16.5497 10.8211C16.6184 10.9274 16.6793 11.0882 16.7136 11.4345C16.7491 11.7929 16.75 12.2622 16.75 12.9613C16.75 13.6604 16.7491 14.1298 16.7136 14.4881C16.6793 14.8344 16.6185 14.9952 16.5497 15.1015C16.4537 15.2501 16.3272 15.3765 16.1787 15.4726C16.0724 15.5413 15.9116 15.6021 15.5652 15.6365C15.2069 15.672 14.7376 15.6729 14.0385 15.6729H9.5C9.08579 15.6729 8.75 16.0086 8.75 16.4229C8.75 16.8371 9.08579 17.1729 9.5 17.1729H14.0758C14.7279 17.1729 15.2721 17.1729 15.7133 17.1291C16.1748 17.0834 16.6038 16.9839 16.9931 16.7322C17.3199 16.5209 17.5981 16.2427 17.8094 15.916C18.0611 15.5266 18.1605 15.0976 18.2063 14.6361C18.25 14.195 18.25 13.6508 18.25 12.9987V12.924C18.25 12.2718 18.25 11.7276 18.2063 11.2865C18.1605 10.825 18.0611 10.396 17.8093 10.0067C17.5981 9.6799 17.3199 9.40169 16.9931 9.19042C16.6038 8.9387 16.1748 8.83927 15.7133 8.7935C15.2721 8.74975 14.7279 8.74976 14.0758 8.74977L8.41824 8.74977L9.25871 7.97395Z" />
    <rect style="opacity: 0" x="2" y="2" width="20" height="20"></rect>
    </svg>`},e.icon.redo=function(t,n,i,o,l){return o==null&&(o=0),l==null&&(l=0),`<svg width="${t}" height="${n}" x="${o}" y="${l}" viewBox="0 0 24 24" >
    <path fill="#f9f9f9" fill-rule="evenodd" clip-rule="evenodd" fill="${i}" d="M3.46447 3.46447C2 4.92893 2 7.28595 2 12C2 16.714 2 19.0711 3.46447 20.5355C4.92893 22 7.28595 22 12 22C16.714 22 19.0711 22 20.5355 20.5355C22 19.0711 22 16.7141 22 12C22 7.28598 22 4.92893 20.5355 3.46447C19.0711 2 16.714 2 12 2C7.28595 2 4.92893 2 3.46447 3.46447ZM15.7587 6.87273C15.4543 6.59177 14.9799 6.61075 14.6989 6.91512C14.4179 7.21948 14.4369 7.69398 14.7413 7.97493L15.5818 8.75075H9.96155C7.63558 8.75075 5.75 10.6363 5.75 12.9623C5.75 15.2883 7.63557 17.1738 9.96154 17.1738H14.5C14.9142 17.1738 15.25 16.838 15.25 16.4238C15.25 16.0096 14.9142 15.6738 14.5 15.6738H9.96154C8.464 15.6738 7.25 14.4598 7.25 12.9623C7.25 11.4647 8.464 10.2508 9.96155 10.2508H15.5818L14.7413 11.0266C14.4369 11.3075 14.4179 11.782 14.6989 12.0864C14.9799 12.3908 15.4543 12.4097 15.7587 12.1288L18.0087 10.0519C18.1625 9.90987 18.25 9.71007 18.25 9.50075C18.25 9.29143 18.1625 9.09163 18.0087 8.94965L15.7587 6.87273Z"/>
    <rect style="opacity: 0" x="2" y="2" width="20" height="20"></rect>    
    </svg>`},e.icon.ft=function(t,n,i,o,l){return`<svg width="${t}" height="${n}" x="${o}" y="${l}" viewBox="0 0 512 512"  >
                <path fill="${i}" d="m336.061 377.731c-5.086-6.54-14.511-7.717-21.049-2.631l-44.012 34.231v-200.331c0-8.284-6.716-15-15-15s-15 6.716-15 15v200.331l-44.011-34.231c-6.538-5.086-15.962-3.908-21.049 2.631-5.086 6.539-3.908 15.963 2.631 21.049l62.429 48.556v49.664c0 8.284 6.716 15 15 15s15-6.716 15-15v-49.664l62.429-48.556c6.54-5.086 7.717-14.51 2.632-21.049z" />
                <path fill="${i}" d="m271 497v-49.664l62.429-48.556c6.54-5.086 7.717-14.51 2.631-21.049-5.086-6.54-14.511-7.717-21.049-2.631l-44.011 34.231v-200.331c0-8.284-6.716-15-15-15v318c8.284 0 15-6.716 15-15z" />
                <path fill="${i}" d="m320 512h-128c-8.284 0-15-6.716-15-15s6.716-15 15-15h128c8.284 0 15 6.716 15 15s-6.716 15-15 15z" />
                <path fill="${i}" d="m320 482h-64v30h64c8.284 0 15-6.716 15-15s-6.716-15-15-15z" />
                <path fill="${i}" d="m400 439c-61.206 0-111-49.794-111-111s49.794-111 111-111 111 49.794 111 111-49.794 111-111 111z" />
                <path fill="${i}" d="m112 439c-61.206 0-111-49.794-111-111s49.794-111 111-111 111 49.794 111 111-49.794 111-111 111z" />
                <path fill="${i}" d="m256 222c-61.206 0-111-49.794-111-111s49.794-111 111-111 111 49.794 111 111-49.794 111-111 111z" />
                <path fill="${i}" d="m367 111c0-61.206-49.794-111-111-111v222c61.206 0 111-49.794 111-111z" />
            </svg>`},e.icon.addUser=function(t,n,i,o,l){return e.isNEU(o)&&(o=0),e.isNEU(l)&&(l=0),`<svg width="${t}" height="${n}" x="${o}" y="${l}" viewBox="0 0 512 512" >
                <path fill="${i}" d="M300.434,257.599c-25.945,27.304-60.622,43.875-98.602,43.875c-37.979,0-72.656-16.571-98.602-43.875 c-45.617,28.738-77.826,76.818-85.092,132.736c-1.659,12.77,8.291,24.107,21.201,24.107h225.846 c0-53.371,32.011-99.402,77.838-119.914C330.812,280.165,316.452,267.69,300.434,257.599z"/>
                <ellipse fill="${i}" cx="201.828" cy="133.868" rx="112.229" ry="133.868"/>
                <path fill="${i}" d="M396.486,316.885c-53.794,0-97.558,43.764-97.558,97.558S342.693,512,396.486,512c53.792,0,97.557-43.764,97.557-97.558 S450.279,316.885,396.486,316.885z M435.199,431.315h-21.841v21.841c0,9.318-7.554,16.872-16.872,16.872 c-9.318,0-16.872-7.554-16.872-16.872v-21.841h-21.842c-9.318,0-16.872-7.554-16.872-16.872c0-9.319,7.554-16.872,16.872-16.872 h21.842v-21.841c0-9.318,7.554-16.872,16.872-16.872c9.318,0,16.872,7.554,16.872,16.872v21.841h21.841 c9.318,0,16.872,7.554,16.872,16.872C452.072,423.761,444.518,431.315,435.199,431.315z"/>
            </svg>`},e.icon.daughter=function(t,n,i,o,l){return e.isNEU(o)&&(o=0),e.isNEU(l)&&(l=0),`<svg width="${t}" height="${n}" x="${o}" y="${l}" viewBox="0 0 512.879 512.879">
                <path fill="${i}" d="M213.773,238.933c4.71,0,8.533-3.823,8.533-8.533v-5.615c0.546,0.529,0.922,0.964,0.964,1.024 c1.519,2.918,4.497,4.591,7.578,4.591c1.323,0,2.671-0.307,3.934-0.964c4.181-2.176,5.803-7.33,3.627-11.511 c-2.534-4.872-10.581-13.124-24.636-13.124c-14.054,0-22.101,8.252-24.636,13.124c-2.125,4.087-0.555,8.969,3.456,11.23 c4.011,2.287,9.156,0.811,11.563-3.123c0.077-0.128,0.495-0.623,1.084-1.195v5.564 C205.239,235.11,209.062,238.933,213.773,238.933z"/>
                <path fill="${i}" d="M256.439,332.8c20.028,0,30.507-9.907,31.633-11.034c3.294-3.294,3.285-8.568,0.043-11.913 c-3.234-3.354-8.61-3.439-12.015-0.247c-0.265,0.247-6.699,6.127-19.661,6.127c-12.774,0-19.209-5.709-19.652-6.118 c-3.336-3.251-8.678-3.217-11.981,0.085c-3.337,3.337-3.337,8.73,0,12.066C225.933,322.893,236.412,332.8,256.439,332.8z"/>
                <path fill="${i}" d="M365.666,293.547c-49.826-66.441-75.093-133.623-75.093-199.68c0-4.71-3.823-8.533-8.533-8.533s-8.533,3.823-8.533,8.533 c0,68.369,25.31,137.489,75.255,205.542c-12.228,21.623-50.483,76.058-92.322,76.058c-45.218,0-86.255-63.59-94.763-80.614 c-8.388-16.768-24.704-66.765-24.704-98.586v-25.754c20.378-0.572,73.404-3.405,121.813-17.246 c4.531-1.289,7.151-6.016,5.854-10.547c-1.289-4.531-6.008-7.159-10.547-5.854C196.254,153.387,129.114,153.6,128.439,153.6 c-4.71,0-8.533,3.823-8.533,8.533v34.133c0,34.935,17.254,87.723,26.496,106.214c0.452,0.905,46.797,90.052,110.037,90.052 s109.585-89.148,110.037-90.052C367.919,299.588,367.603,296.132,365.666,293.547z"/>
                <path fill="${i}" d="M316.173,392.533c-4.71,0-8.533,3.823-8.533,8.533v17.067c0,0.06,0.034,0.111,0.034,0.171 c0,0.051-0.034,0.094-0.034,0.154c-0.034,5.205-1.749,50.876-51.2,50.876s-51.166-45.986-51.2-51.2v-17.067 c0-4.71-3.823-8.533-8.533-8.533s-8.533,3.823-8.533,8.533v8.687c-116.028,1.638-168.917,35.9-178.765,65.417l-8.533,25.6 c-1.493,4.471,0.93,9.301,5.402,10.795C7.172,511.863,8.085,512,8.973,512c3.575,0,6.903-2.261,8.098-5.837l8.533-25.6 c6.076-18.227,48.034-52.335,163.132-53.845c3.106,24.422,19.721,59.682,67.704,59.682c53.999,0,68.267-44.425,68.267-67.917 c0-0.06-0.034-0.111-0.034-0.171c0-0.068,0.034-0.119,0.034-0.179v-17.067C324.706,396.356,320.883,392.533,316.173,392.533z"/>
                <path fill="${i}" d="M256.695,273.067h-0.085c-4.71,0-8.491,3.823-8.491,8.533c0,4.71,3.866,8.533,8.576,8.533 c4.719,0,8.533-3.823,8.533-8.533C265.229,276.89,261.414,273.067,256.695,273.067z"/>
                <path fill="${i}" d="M512.004,501.641l-8.533-25.591c-4.659-13.978-22.34-28.228-49.792-40.141c-4.318-1.877-9.352,0.102-11.23,4.429 c-1.869,4.318,0.111,9.353,4.437,11.221c26.266,11.401,38.178,23.219,40.388,29.884l8.533,25.6 c1.195,3.575,4.523,5.837,8.098,5.837c0.887,0,1.801-0.145,2.697-0.444C511.074,510.942,513.498,506.112,512.004,501.641z"/>
                <path fill="${i}" d="M256.439,0c-115.558,0-179.2,63.642-179.2,179.2V256c0,66.039-24.909,141.611-25.165,142.37 c-1.485,4.471,0.93,9.301,5.402,10.795c4.48,1.476,9.301-0.93,10.795-5.402c1.058-3.191,26.035-78.908,26.035-147.763v-76.8 c0-134.008,88.175-162.133,162.133-162.133c100.454,0,162.133,94.43,162.133,162.133v17.067 c0,34.458-21.111,74.163-41.532,112.572c-18.133,34.116-35.268,66.338-35.268,92.228c0,54.11,35.14,89.873,36.634,91.366 c1.596,1.604,3.772,2.5,6.033,2.5c2.261,0,4.437-0.896,6.033-2.5c1.493-1.493,36.634-37.257,36.634-91.366 c0-53.197-17.562-72.303-19.567-74.3c-3.285-3.285-8.559-3.285-11.904-0.051c-3.354,3.234-3.439,8.61-0.265,12.015 c0.145,0.154,14.669,16.256,14.669,62.336c0,33.937-16.444,60.16-25.617,72.149c-9.19-11.947-25.583-38.05-25.583-72.149 c0-21.632,16.162-52.036,33.271-84.215c21.402-40.252,43.529-81.869,43.529-120.585V179.2C435.639,94.438,362.04,0,256.439,0z"/>
            </svg>`},e.icon.son=function(t,n,i,o,l){return e.isNEU(o)&&(o=0),e.isNEU(l)&&(l=0),`<svg width="${t}" height="${n}" x="${o}" y="${l}"  viewBox="0 0 512.002 512.002">
                <path fill="${i}" d="M238.934,213.334c0-4.71-3.823-8.533-8.533-8.533h-34.133c-4.71,0-8.533,3.823-8.533,8.533 c0,4.71,3.823,8.533,8.533,8.533h8.533c0,4.71,3.823,8.533,8.533,8.533c4.71,0,8.533-3.823,8.533-8.533h8.533 C235.111,221.867,238.934,218.044,238.934,213.334z"/>
                <path fill="${i}" d="M121.601,255.19c4.565,13.466,17.178,49.98,24.371,64.358c13.551,27.11,51.977,72.986,110.029,72.986 s96.478-45.875,110.037-72.986c7.185-14.379,19.797-50.893,24.371-64.358c11.025-2.85,19.191-12.885,19.191-24.789v-34.133 c0-11.127-7.134-20.617-17.067-24.141v-44.126c0-33.69-17.741-95.923-83.354-101.931c-0.137-4.028-1.476-7.27-2.953-9.668 c-8.38-13.559-31.94-16.401-50.227-16.401c-151.842,0-153.6,143.616-153.6,145.067c0,4.71,3.814,8.525,8.525,8.525h0.009 c4.702,0,8.525-3.806,8.533-8.516c0.017-5.222,1.937-128.009,136.533-128.009c24.132,0,33.801,5.222,35.703,8.311 c0.282,0.435,0.998,1.604-0.666,4.941c-1.323,2.645-1.178,5.786,0.375,8.303c1.553,2.509,4.301,4.045,7.253,4.045 c75.656,0,76.791,81.86,76.8,85.333v51.2c0,4.71,3.823,8.533,8.533,8.533c4.702,0,8.533,3.831,8.533,8.533v34.133 c0,4.702-3.831,8.533-8.533,8.533c-3.669,0-6.929,2.347-8.098,5.837c-0.162,0.503-16.964,50.816-25.131,67.149 c-1.297,2.594-32.495,63.548-94.771,63.548s-93.466-60.954-94.763-63.548c-8.166-16.333-24.977-66.645-25.139-67.149 c-1.161-3.49-4.42-5.837-8.098-5.837c-4.702,0-8.533-3.831-8.533-8.533v-34.133c0-2.313,0.93-4.412,2.423-5.948 c3.396,7.62,10.607,14.481,23.177,14.481c3.234,0,6.187-1.826,7.637-4.719c7.535-15.061,15.283-30.575,17.399-46.652 c43.665-1.758,108.979-17.323,139.742-41.105c8.201,29.764,32.742,54.596,33.988,55.842c3.337,3.337,8.738,3.337,12.066,0 c3.337-3.336,3.337-8.73,0-12.066c-0.316-0.316-31.633-31.983-31.633-62.234c0-3.831-2.56-7.202-6.255-8.226 c-3.703-1.024-7.62,0.546-9.591,3.831c-14.549,24.243-94.746,47.061-146.287,47.061c-4.71,0-8.533,3.823-8.533,8.533 c0,13.295-6.127,27.102-13.286,41.6c-2.901-1.604-3.703-4.753-3.78-7.467c0-4.71-3.823-8.533-8.533-8.533 c-14.114,0-25.6,11.486-25.6,25.6v34.133C102.401,242.305,110.576,252.34,121.601,255.19z"/>
                <path fill="${i}" d="M256.001,332.801c20.028,0,30.507-9.907,31.633-11.034c3.294-3.294,3.285-8.567,0.051-11.913 c-3.243-3.354-8.619-3.439-12.023-0.247c-0.265,0.247-6.699,6.127-19.661,6.127c-12.774,0-19.209-5.709-19.652-6.118 c-3.336-3.251-8.678-3.217-11.981,0.085c-3.328,3.337-3.328,8.73,0,12.066C225.503,322.893,235.982,332.801,256.001,332.801z"/>
                <path fill="${i}" d="M264.79,281.601c0-4.71-3.814-8.533-8.533-8.533h-0.085c-4.71,0-8.491,3.823-8.491,8.533c0,4.71,3.866,8.533,8.576,8.533 C260.976,290.134,264.79,286.311,264.79,281.601z"/>
                <path fill="${i}" d="M511.745,501.394l-8.713-34.756c-4.386-13.158-30.285-55.484-178.765-56.636v-8.934c0-4.71-3.823-8.533-8.533-8.533 s-8.533,3.823-8.533,8.533v17.067c0,0.06,0.034,0.111,0.034,0.171c0,0.051-0.034,0.094-0.034,0.154 c-0.034,5.205-1.749,50.876-51.2,50.876s-51.166-45.986-51.2-51.2v-17.067c0-4.71-3.823-8.533-8.533-8.533 s-8.533,3.823-8.533,8.533v8.619C77.168,410.556,21.786,428.203,8.79,467.26l-8.533,34.133 c-1.143,4.574,1.638,9.207,6.212,10.351c4.557,1.143,9.199-1.638,10.342-6.204l8.354-33.51 c9.916-29.739,63.309-44.595,163.132-45.338c3.098,24.431,19.712,59.708,67.704,59.708c47.983,0,64.597-35.063,67.703-59.366 c116.958,0.862,157.628,28.467,162.953,44.373l8.533,34.133c0.973,3.874,4.446,6.46,8.269,6.46c0.691,0,1.382-0.077,2.082-0.256 C510.115,510.601,512.888,505.968,511.745,501.394z"/>
                <path fill="${i}" d="M298.668,230.401c4.71,0,8.533-3.823,8.533-8.533h8.533c4.71,0,8.533-3.823,8.533-8.533c0-4.71-3.823-8.533-8.533-8.533 h-34.133c-4.71,0-8.533,3.823-8.533,8.533c0,4.71,3.823,8.533,8.533,8.533h8.533 C290.134,226.578,293.957,230.401,298.668,230.401z"/>
            </svg>`},e.icon.wife=function(t,n,i,o,l){return e.isNEU(o)&&(o=0),e.isNEU(l)&&(l=0),`<svg width="${t}" height="${n}" x="${o}" y="${l}" viewBox="0 0 512 512" >
                <path fill="${i}" d="M128,307.2c4.719,0,8.533-3.823,8.533-8.533V281.6c0-4.71-3.814-8.533-8.533-8.533c-4.719,0-8.533,3.823-8.533,8.533 v17.067C119.467,303.377,123.281,307.2,128,307.2z"/>
                <path fill="${i}" d="M384,273.067c-4.719,0-8.533,3.823-8.533,8.533v17.067c0,4.71,3.814,8.533,8.533,8.533c4.719,0,8.533-3.823,8.533-8.533 V281.6C392.533,276.89,388.719,273.067,384,273.067z"/>
                <path fill="${i}" d="M392.183,433.109c-0.162-0.606-0.418-1.152-0.7-1.715c-0.162-0.299-0.196-0.64-0.384-0.93 c-0.094-0.128-0.23-0.196-0.324-0.324c-0.358-0.469-0.802-0.845-1.254-1.246c-0.418-0.375-0.819-0.742-1.306-1.016 c-0.145-0.094-0.23-0.23-0.392-0.316l-34.133-17.067c-2.748-1.357-6.008-1.161-8.55,0.538l-51.209,34.133 c-2.372,1.587-3.797,4.25-3.797,7.1v30.259c-5.077,4.062-17.545,12.407-34.133,12.407c-16.427,0-29.013-8.388-34.133-12.433 v-30.234c0-2.85-1.425-5.513-3.797-7.1l-51.2-34.133c-2.543-1.698-5.803-1.894-8.55-0.538l-34.133,17.067 c-0.154,0.077-0.239,0.213-0.375,0.299c-0.512,0.29-0.939,0.674-1.374,1.075c-0.435,0.384-0.853,0.734-1.186,1.178 c-0.102,0.137-0.256,0.213-0.35,0.35c-0.205,0.307-0.239,0.657-0.401,0.99c-0.265,0.529-0.521,1.05-0.674,1.63 c-0.137,0.529-0.179,1.05-0.205,1.596c-0.034,0.538-0.06,1.058,0.008,1.604c0.068,0.597,0.265,1.143,0.461,1.707 c0.119,0.341,0.111,0.7,0.273,1.024c0.077,0.154,0.222,0.247,0.307,0.393c0.282,0.495,0.666,0.913,1.058,1.348 c0.384,0.427,0.742,0.853,1.186,1.195c0.137,0.102,0.213,0.256,0.35,0.35l51.2,34.133c1.459,0.973,3.106,1.434,4.727,1.434 c2.756,0,5.47-1.331,7.108-3.797c2.62-3.925,1.562-9.225-2.364-11.836l-38.972-25.975l16.555-8.277l43.281,28.851V486.4 c0,2.261,0.896,4.437,2.5,6.033C208.102,493.235,227.2,512,256,512s47.898-18.765,48.7-19.567c1.604-1.596,2.5-3.772,2.5-6.033 v-29.568l43.29-28.851l16.546,8.277l-38.972,25.975c-3.925,2.611-4.983,7.91-2.364,11.836c1.638,2.466,4.352,3.797,7.108,3.797 c1.621,0,3.268-0.461,4.727-1.434l51.2-34.133c0.137-0.094,0.205-0.239,0.333-0.341c0.478-0.35,0.853-0.794,1.254-1.246 c0.358-0.427,0.725-0.811,0.998-1.289c0.085-0.154,0.239-0.247,0.324-0.41c0.171-0.35,0.171-0.725,0.29-1.084 c0.179-0.538,0.367-1.05,0.435-1.613c0.077-0.58,0.051-1.126,0.009-1.698C392.354,434.108,392.32,433.613,392.183,433.109z"/>
                <path fill="${i}" d="M57.037,409.165c0.896,0.29,1.809,0.435,2.697,0.435c3.575,0,6.903-2.261,8.09-5.837 C68.89,400.572,93.867,324.855,93.867,256v-76.8C93.867,45.193,182.033,17.067,256,17.067c25.199,0,77.636,0,85.649,11.128 c0.333,0.452,0.828,1.135,0.128,3.243c-0.956,2.842-0.341,5.965,1.604,8.235c1.946,2.278,4.932,3.362,7.885,2.876 c10.863-1.792,20.412,0.93,29.184,8.354c22.895,19.396,37.683,69.76,37.683,128.299V256c0,77.457,25.071,145.22,26.138,148.062 c1.656,4.412,6.571,6.639,10.991,5.001c4.412-1.655,6.647-6.571,5.001-10.991C460.006,397.406,435.2,330.257,435.2,256v-76.8 c0-50.415-11.486-114.014-43.716-141.321c-9.745-8.243-20.932-12.621-32.836-12.902c-0.683-2.773-1.903-5.035-3.149-6.767 C343.356,1.374,303.258,0,256,0C140.442,0,76.8,63.642,76.8,179.2V256c0,66.039-24.909,141.611-25.156,142.37 C50.15,402.842,52.565,407.672,57.037,409.165z"/>
                <path fill="${i}" d="M91.802,426.923C19.814,444.919,1.195,498.492,0.444,500.77c-1.493,4.471,0.922,9.301,5.393,10.795 C6.733,511.864,7.646,512,8.533,512c3.576,0,6.904-2.261,8.09-5.837c0.162-0.469,16.316-46.942,79.309-62.686 c4.574-1.143,7.356-5.777,6.212-10.351C101.001,428.561,96.367,425.771,91.802,426.923z"/>
                <path fill="${i}" d="M213.333,238.933c4.719,0,8.533-3.823,8.533-8.533v-5.615c0.546,0.529,0.922,0.964,0.964,1.024 c1.519,2.918,4.497,4.591,7.578,4.591c1.323,0,2.671-0.307,3.934-0.964c4.173-2.176,5.803-7.33,3.627-11.511 c-2.534-4.873-10.59-13.124-24.636-13.124c-14.046,0-22.101,8.252-24.636,13.124c-2.125,4.087-0.546,8.969,3.456,11.23 c3.985,2.261,9.148,0.819,11.554-3.123c0.085-0.128,0.503-0.623,1.092-1.195v5.564C204.8,235.11,208.614,238.933,213.333,238.933 z"/>
                <path fill="${i}" d="M511.556,500.77c-0.751-2.278-19.371-55.851-91.358-73.847c-4.574-1.161-9.199,1.638-10.342,6.204 c-1.143,4.574,1.638,9.207,6.212,10.351c62.524,15.633,78.66,60.809,79.309,62.686c1.186,3.576,4.514,5.837,8.09,5.837 c0.888,0,1.801-0.137,2.697-0.435C510.635,510.071,513.05,505.242,511.556,500.77z"/>
                <path fill="${i}" d="M256,332.8c20.028,0,30.507-9.907,31.633-11.034c3.294-3.294,3.285-8.567,0.051-11.913 c-3.251-3.345-8.61-3.439-12.015-0.247c-0.273,0.247-6.707,6.127-19.669,6.127c-12.774,0-19.208-5.709-19.652-6.118 c-3.32-3.251-8.67-3.226-11.981,0.085c-3.337,3.337-3.337,8.73,0,12.066C225.493,322.893,235.972,332.8,256,332.8z"/>
                <path fill="${i}" d="M298.667,238.933c4.719,0,8.533-3.823,8.533-8.533v-5.615c0.546,0.529,0.922,0.964,0.964,1.024 c1.519,2.918,4.497,4.591,7.578,4.591c1.323,0,2.671-0.307,3.934-0.964c4.173-2.176,5.803-7.33,3.627-11.511 c-2.534-4.873-10.59-13.124-24.636-13.124c-14.046,0-22.101,8.252-24.636,13.124c-2.125,4.087-0.546,8.969,3.456,11.23 c3.994,2.261,9.156,0.819,11.554-3.123c0.085-0.128,0.503-0.623,1.092-1.195v5.564 C290.133,235.11,293.948,238.933,298.667,238.933z"/>
                <path fill="${i}" d="M389.129,189.449c-8.542-6.443-30.729-26.957-30.729-44.382c0-4.71-3.814-8.533-8.533-8.533s-8.533,3.823-8.533,8.533 c0,24.678,24.354,47.249,34.014,55.228c-1.835,33.476-24.917,95.223-33.118,111.625c-7.654,15.317-48.154,63.548-86.229,63.548 s-78.575-48.23-86.229-63.548c-8.542-17.084-33.237-83.379-33.237-115.652v-25.728c33.835-0.802,157.321-6.929,218.453-52.779 c3.772-2.825,4.54-8.175,1.707-11.947c-2.825-3.772-8.175-4.54-11.947-1.707C279.561,152.994,129.51,153.6,128,153.6 c-4.719,0-8.533,3.823-8.533,8.533v34.133c0,36.625,26.871,106.965,35.029,123.281c10.385,20.77,55.834,72.986,101.504,72.986 s91.119-52.216,101.504-72.986c8.158-16.316,35.029-86.656,35.029-123.281C392.533,193.587,391.27,191.061,389.129,189.449z"/>
            </svg>`},e.icon.husband=function(t,n,i,o,l){return e.isNEU(o)&&(o=0),e.isNEU(l)&&(l=0),`<svg width="${t}" height="${n}" x="${o}" y="${l}" viewBox="0 0 512.007 512.007" >
                <path fill="${i}" d="M121.835,255.249c6.229,16.196,26.803,68.42,41.737,90.82l1.348,2.039c10.957,16.614,29.295,44.425,91.085,44.425 c61.79,0,80.128-27.81,91.085-44.425l1.348-2.039c14.933-22.4,35.507-74.624,41.737-90.82c11.145-2.773,19.43-12.86,19.43-24.849 v-34.133c0-11.127-7.134-20.617-17.067-24.141V128c0-33.69-17.741-95.923-83.362-101.931c-0.128-4.028-1.459-7.27-2.944-9.668 C297.844,2.85,274.292,0,256.005,0c-151.842,0-153.6,143.616-153.6,145.067c0,4.71,3.814,8.525,8.516,8.525h0.017 c4.702,0,8.516-3.806,8.533-8.508c0.017-5.231,1.937-128.017,136.533-128.017c24.132,0,33.801,5.222,35.712,8.311 c0.265,0.435,0.99,1.604-0.683,4.941c-1.323,2.645-1.178,5.786,0.375,8.303c1.562,2.509,4.301,4.045,7.262,4.045 c75.657,0,76.791,81.86,76.8,85.333v51.2c0,4.71,3.814,8.533,8.533,8.533c4.71,0,8.533,3.831,8.533,8.533V230.4 c0,4.702-3.823,8.533-8.533,8.533c-3.558,0-6.741,2.21-7.996,5.538c-0.247,0.674-25.446,67.644-41.771,92.126l-1.399,2.116 c-10.223,15.514-24.235,36.753-76.834,36.753c-52.599,0-66.611-21.239-76.834-36.753l-1.399-2.116 c-16.324-24.482-41.523-91.452-41.771-92.126c-1.254-3.328-4.437-5.538-7.996-5.538c-4.71,0-8.533-3.831-8.533-8.533v-34.133 c0-2.313,0.922-4.412,2.423-5.948c3.089,6.955,9.421,13.21,20.053,14.268l29.193,21.897c2.27,16.623,16.418,29.517,33.664,29.517 h17.067c18.825,0,34.133-15.309,34.133-34.133c0,18.825,15.309,34.133,34.133,34.133h17.067 c17.237,0,31.394-12.894,33.664-29.517l31.189-23.39c3.772-2.825,4.54-8.175,1.707-11.947c-2.825-3.772-8.175-4.548-11.947-1.707 l-21.751,16.316c-3.251-10.402-12.86-18.022-24.329-18.022h-34.133c-14.114,0-25.6,11.486-25.6,25.6 c0-14.114-11.486-25.6-25.6-25.6h-34.133c-11.469,0-21.077,7.62-24.328,18.022l-16.282-12.211 c6.716-16.23,12.8-40.235,14.524-57.088c26.897-0.478,104.713-3.763,139.332-25.37c7.851,30.31,33.058,55.817,34.321,57.08 c3.336,3.336,8.73,3.336,12.066,0c3.336-3.337,3.336-8.73,0-12.066c-0.316-0.316-31.633-31.983-31.633-62.234 c0-3.831-2.56-7.202-6.255-8.226c-3.661-1.016-7.629,0.546-9.591,3.831c-12.425,20.693-93.022,29.995-146.287,29.995 c-4.719,0-8.533,3.823-8.533,8.533c0,13.858-6.554,41.515-13.508,58.539c-2.722-1.638-3.49-4.693-3.558-7.339 c0-4.71-3.814-8.533-8.533-8.533c-14.114,0-25.6,11.486-25.6,25.6V230.4C102.405,242.389,110.691,252.476,121.835,255.249z M273.071,213.333c0-4.702,3.823-8.533,8.533-8.533h34.133c4.71,0,8.533,3.831,8.533,8.533v8.533 c0,9.412-7.654,17.067-17.067,17.067h-17.067c-9.412,0-17.067-7.654-17.067-17.067V213.333z M187.738,213.333 c0-4.702,3.823-8.533,8.533-8.533h34.133c4.71,0,8.533,3.831,8.533,8.533v8.533c0,9.412-7.654,17.067-17.067,17.067h-17.067 c-9.412,0-17.067-7.654-17.067-17.067V213.333z"/>
                <path fill="${i}" d="M298.663,307.226c0.009-4.702-3.797-8.533-8.499-8.559c-0.162,0-15.42-0.171-30.345-7.629 c-2.398-1.203-5.231-1.203-7.629,0c-14.925,7.458-30.182,7.629-30.319,7.629c-4.719,0-8.533,3.823-8.533,8.533 s3.814,8.533,8.533,8.533c0.725,0,16.853-0.094,34.133-7.646c17.28,7.552,33.408,7.646,34.133,7.646 C294.84,315.733,298.646,311.927,298.663,307.226z"/>
                <path fill="${i}" d="M247.471,324.267c-4.719,0-8.533,3.823-8.533,8.533c0,4.71,3.814,8.533,8.533,8.533h17.067 c4.719,0,8.533-3.823,8.533-8.533c0-4.71-3.814-8.533-8.533-8.533H247.471z"/>
                <path fill="${i}" d="M511.749,501.393l-8.721-34.756c-12.706-38.135-73.114-56.687-184.67-56.687c-0.879,0-1.758,0-2.645,0.009 c-4.053,0.009-7.544,2.867-8.337,6.852l-17.067,84.975c-0.93,4.625,2.065,9.122,6.682,10.052 c4.608,0.896,9.114-2.074,10.044-6.69l15.693-78.114c97.724,0.452,154.436,15.957,163.934,44.373l8.533,34.133 c0.973,3.874,4.446,6.468,8.269,6.46c0.683,0,1.382-0.077,2.074-0.256C510.11,510.601,512.892,505.976,511.749,501.393z"/>
                <path fill="${i}" d="M204.634,416.461c-0.794-3.994-4.292-6.861-8.363-6.861c-116.386,0-174.148,17.596-187.477,57.66l-8.533,34.133 c-1.152,4.582,1.638,9.207,6.212,10.351C7.164,511.923,7.864,512,8.547,512c3.823,0,7.296-2.586,8.269-6.46l8.346-33.51 c9.95-29.841,63.667-44.689,164.122-45.338l15.693,78.447c0.913,4.617,5.367,7.629,10.035,6.699 c4.617-0.93,7.62-5.427,6.69-10.044L204.634,416.461z"/>
                <path fill="${i}" d="M256.005,409.6c-14.114,0-25.6,11.486-25.6,25.6c0,11.11,7.159,20.489,17.067,24.021v44.245 c0,4.71,3.814,8.533,8.533,8.533c4.719,0,8.533-3.823,8.533-8.533V459.23c9.907-3.541,17.067-12.919,17.067-24.03 C281.605,421.086,270.119,409.6,256.005,409.6z M256.005,443.733c-4.71,0-8.533-3.831-8.533-8.533 c0-4.702,3.823-8.533,8.533-8.533c4.71,0,8.533,3.831,8.533,8.533C264.538,439.902,260.715,443.733,256.005,443.733z"/>
            </svg>`},e.icon.father=function(t,n,i,o,l){return e.isNEU(o)&&(o=0),e.isNEU(l)&&(l=0),`<svg width="${t}" height="${n}" x="${o}" y="${l}" viewBox="0 0 512.002 512.002" >
                <path fill="${i}" d="M366.934,128.001c0-4.71-3.814-8.533-8.533-8.533c-2.091,0-51.2-0.683-51.2-59.733c0-4.71-3.814-8.533-8.533-8.533 s-8.533,3.823-8.533,8.533c0,75.921,67.584,76.8,68.267,76.8C363.12,136.534,366.934,132.711,366.934,128.001z"/>
                <path fill="${i}" d="M256.001,196.268c0-14.114-11.486-25.6-25.6-25.6h-34.133c-11.46,0-21.069,7.62-24.329,18.022l-21.751-16.316 c-3.772-2.825-9.114-2.048-11.947,1.707c-2.825,3.772-2.065,9.122,1.707,11.947l31.189,23.39 c2.278,16.623,16.418,29.517,33.664,29.517h17.067c18.825,0,34.133-15.309,34.133-34.133c0,18.825,15.309,34.133,34.133,34.133 h17.067c17.237,0,31.394-12.894,33.664-29.517l31.189-23.39c3.772-2.825,4.54-8.175,1.707-11.947 c-2.825-3.772-8.175-4.548-11.947-1.707l-21.751,16.316c-3.251-10.402-12.86-18.022-24.329-18.022h-34.133 C267.487,170.668,256.001,182.153,256.001,196.268z M238.934,204.801c0,9.412-7.654,17.067-17.067,17.067h-17.067 c-9.412,0-17.067-7.654-17.067-17.067v-8.533c0-4.702,3.831-8.533,8.533-8.533h34.133c4.702,0,8.533,3.831,8.533,8.533V204.801z M324.268,196.268v8.533c0,9.412-7.654,17.067-17.067,17.067h-17.067c-9.412,0-17.067-7.654-17.067-17.067v-8.533 c0-4.702,3.823-8.533,8.533-8.533h34.133C320.445,187.734,324.268,191.566,324.268,196.268z"/>
                <path fill="${i}" d="M298.659,307.226c0.009-4.702-3.797-8.533-8.499-8.559c-0.162,0-15.42-0.171-30.345-7.629 c-2.398-1.203-5.231-1.203-7.629,0c-14.925,7.458-30.191,7.629-30.319,7.629c-4.71,0-8.533,3.823-8.533,8.533 s3.823,8.533,8.533,8.533c0.725,0,16.845-0.094,34.133-7.646c17.28,7.552,33.408,7.646,34.133,7.646 C294.836,315.734,298.642,311.928,298.659,307.226z"/>
                <path fill="${i}" d="M120.986,237.953c4.378,18.611,18.91,76.877,34.048,99.584c10.974,16.452,36.668,54.997,100.966,54.997 s89.993-38.545,100.966-54.997c15.138-22.707,29.67-80.973,34.048-99.584c10.718-3.055,18.586-12.937,18.586-24.619v-34.133 c0-11.127-7.134-20.617-17.067-24.141v-44.126c0-1.109-1.562-110.933-136.533-110.933c-151.842,0-153.6,126.72-153.6,128 c0,4.702,3.806,8.516,8.516,8.525h0.017c4.693,0,8.516-3.806,8.533-8.499c0.017-4.54,2.048-110.959,136.533-110.959 c117.581,0,119.441,90.061,119.467,93.867v51.2c0,4.71,3.814,8.533,8.533,8.533c4.71,0,8.533,3.831,8.533,8.533v34.133 c0,4.702-3.823,8.533-8.533,8.533c-4.002,0-7.458,2.782-8.337,6.682c-0.162,0.751-16.896,75.52-32.896,99.516 c-10.257,15.386-31.599,47.403-86.767,47.403s-76.51-32.017-86.767-47.403c-15.992-23.979-32.734-98.765-32.905-99.516 c-0.87-3.9-4.326-6.682-8.329-6.682c-4.702,0-8.533-3.831-8.533-8.533v-34.133c0-4.702,3.831-8.533,8.533-8.533 c1.323,0,2.637-0.307,3.814-0.896c2.978-1.493,72.986-37.333,72.986-110.037c0-4.71-3.823-8.533-8.533-8.533 s-8.533,3.823-8.533,8.533c0,56.678-52.523,88.636-62.08,93.978c-13.022,1.186-23.253,12.169-23.253,25.489v34.133 C102.401,225.016,110.269,234.898,120.986,237.953z"/>
                <path fill="${i}" d="M196.097,416.462c-0.794-3.994-4.292-6.861-8.363-6.861c-140.399,0-168.892,27.409-178.944,57.66l-8.533,34.133 c-1.143,4.582,1.638,9.207,6.204,10.351c0.7,0.179,1.391,0.256,2.082,0.256c3.823,0,7.296-2.586,8.269-6.46l8.354-33.51 c7.339-22.025,31.718-44.527,155.58-45.338l15.693,78.447c0.913,4.617,5.393,7.603,10.035,6.699 c4.625-0.93,7.62-5.427,6.69-10.044L196.097,416.462z"/>
                <path fill="${i}" d="M511.745,501.394l-8.721-34.756c-7.117-21.342-39.689-57.216-178.782-56.678c-4.062,0.009-7.544,2.867-8.337,6.852 l-17.067,84.975c-0.93,4.625,2.065,9.122,6.682,10.052c4.591,0.896,9.114-2.074,10.044-6.69l15.693-78.114 c103.714,0.674,148.412,23.484,155.401,44.373l8.533,34.133c0.973,3.874,4.446,6.468,8.269,6.46c0.683,0,1.382-0.077,2.074-0.256 C510.106,510.601,512.888,505.976,511.745,501.394z"/>
                <path fill="${i}" d="M256.257,426.668h-0.085c-4.71,0-8.491,3.823-8.491,8.533s3.866,8.533,8.576,8.533c4.71,0,8.533-3.823,8.533-8.533 S260.967,426.668,256.257,426.668z"/>
                <path fill="${i}" d="M256.257,494.934h-0.085c-4.71,0-8.491,3.823-8.491,8.533s3.866,8.533,8.576,8.533c4.71,0,8.533-3.823,8.533-8.533 S260.967,494.934,256.257,494.934z"/>
                <path fill="${i}" d="M247.468,324.268c-4.71,0-8.533,3.823-8.533,8.533c0,4.71,3.823,8.533,8.533,8.533h17.067 c4.719,0,8.533-3.823,8.533-8.533c0-4.71-3.814-8.533-8.533-8.533H247.468z"/>
                <path fill="${i}" d="M256.257,460.801h-0.085c-4.71,0-8.491,3.823-8.491,8.533c0,4.71,3.866,8.533,8.576,8.533 c4.71,0,8.533-3.823,8.533-8.533C264.79,464.624,260.967,460.801,256.257,460.801z"/>
            </svg>`},e.icon.mother=function(t,n,i,o,l){return e.isNEU(o)&&(o=0),e.isNEU(l)&&(l=0),`<svg width="${t}" height="${n}" x="${o}" y="${l}" viewBox="0 0 512.011 512.011" >
                <path fill="${i}" d="M299.355,445.356c-1.621,1.536-2.56,3.755-2.56,5.973c0,2.304,0.939,4.437,2.56,6.059 c1.536,1.621,3.755,2.475,5.973,2.475c2.304,0,4.523-0.853,6.059-2.475c1.621-1.536,2.475-3.755,2.475-6.059 c0-2.219-0.853-4.437-2.475-5.973C308.23,442.113,302.512,442.199,299.355,445.356z"/>
                <path fill="${i}" d="M276.23,458.668c-1.621,1.621-2.475,3.755-2.475,6.059c0,2.219,0.939,4.437,2.475,5.973 c1.621,1.621,3.84,2.56,6.059,2.56c2.219,0,4.437-0.939,5.973-2.56c1.621-1.536,2.56-3.755,2.56-5.973 c0-2.304-0.939-4.437-2.56-6.059C285.104,455.511,279.387,455.511,276.23,458.668z"/>
                <path fill="${i}" d="M392.539,196.268c0-2.68-1.263-5.205-3.405-6.818c-8.55-6.443-30.729-26.957-30.729-44.382 c0-4.71-3.823-8.533-8.533-8.533s-8.533,3.823-8.533,8.533c0,24.678,24.354,47.249,34.014,55.228 c-1.835,33.476-24.917,95.223-33.118,111.625c-7.654,15.317-48.154,63.548-86.229,63.548s-78.575-48.23-86.229-63.548 c-8.542-17.084-33.237-83.379-33.237-115.652V170.54c33.835-0.802,157.321-6.929,218.453-52.779 c3.772-2.825,4.531-8.175,1.707-11.947c-2.825-3.763-8.166-4.531-11.947-1.707c-65.186,48.887-215.236,49.493-216.747,49.493 c-4.71,0-8.533,3.823-8.533,8.533v34.133c0,36.625,26.871,106.965,35.029,123.281c10.394,20.77,55.834,72.986,101.504,72.986 s91.11-52.215,101.504-72.986C365.668,303.233,392.539,232.893,392.539,196.268z"/>
                <path fill="${i}" d="M249.947,463.276c-1.536,1.621-2.475,3.84-2.475,6.059c0,2.219,0.939,4.437,2.475,6.059 c1.621,1.536,3.84,2.475,6.059,2.475s4.437-0.939,6.059-2.475c1.536-1.621,2.475-3.84,2.475-6.059 c0-2.219-0.939-4.437-2.475-6.059C258.907,460.119,253.104,460.119,249.947,463.276z"/>
                <path fill="${i}" d="M34.139,230.401c0,18.85,6.75,36.659,19.098,50.688c-1.348,5.76-2.031,11.648-2.031,17.579 c0,42.342,34.458,76.8,76.8,76.8c6.494,0,12.954-0.819,19.191-2.432c4.565-1.178,7.305-5.828,6.127-10.394 c-1.178-4.565-5.828-7.305-10.394-6.127c-4.847,1.254-9.865,1.886-14.925,1.886c-32.939,0-59.733-26.795-59.733-59.733 c0-5.922,0.879-11.793,2.603-17.459c0.922-3.021,0.102-6.298-2.133-8.525c-11.307-11.298-17.536-26.308-17.536-42.283 c0-19.251,9.421-37.453,25.199-48.674c3.78-2.688,4.719-7.893,2.116-11.742c-6.707-9.89-10.249-21.461-10.249-33.451 c0-28.843,20.591-53.53,48.947-58.701c2.432-0.452,4.557-1.929,5.811-4.053c18.987-32.137,40.892-56.713,133.888-56.713 c71.714,0,128.947,23.484,142.413,58.436c0.888,2.304,2.731,4.105,5.052,4.949c23.535,8.559,39.356,31.095,39.356,56.081 c0,11.989-3.541,23.561-10.249,33.451c-2.603,3.849-1.664,9.054,2.116,11.742c15.778,11.221,25.199,29.423,25.199,48.674 c0,15.974-6.229,30.984-17.536,42.283c-2.236,2.227-3.055,5.504-2.133,8.525c1.724,5.666,2.603,11.537,2.603,17.459 c0,32.939-26.795,59.733-59.733,59.733c-5.018,0-10.001-0.623-14.814-1.852c-4.574-1.186-9.207,1.579-10.377,6.144 c-1.169,4.574,1.587,9.216,6.153,10.385c6.195,1.587,12.595,2.389,19.038,2.389c42.342,0,76.8-34.458,76.8-76.8 c0-5.931-0.683-11.819-2.031-17.579c12.348-14.029,19.098-31.838,19.098-50.688c0-22.11-9.643-43.128-26.138-57.643 c5.956-11.102,9.071-23.475,9.071-36.224c0-30.865-18.748-58.82-47.044-70.733C395.475,25.704,334.598,0.001,256.919,0.001 c-90.172,0-121.984,21.7-146.62,61.85c-34.475,8.115-59.093,38.921-59.093,74.684c0,12.749,3.115,25.122,9.071,36.224 C43.782,187.274,34.139,208.291,34.139,230.401z"/>
                <path fill="${i}" d="M316.507,424.876c-1.621,1.621-2.475,3.84-2.475,6.059c0,2.304,0.853,4.437,2.475,6.059 c1.621,1.536,3.755,2.475,5.973,2.475c2.304,0,4.437-0.939,6.059-2.475c1.621-1.621,2.475-3.755,2.475-6.059 c0-2.219-0.853-4.437-2.475-6.059C325.382,421.719,319.664,421.719,316.507,424.876z"/>
                <path fill="${i}" d="M223.664,458.668c-1.536,1.621-2.475,3.755-2.475,6.059c0,2.219,0.939,4.437,2.475,6.059 c1.621,1.536,3.84,2.475,6.059,2.475c2.304,0,4.437-0.939,6.059-2.475c1.621-1.621,2.475-3.84,2.475-6.059 c0-2.219-0.853-4.437-2.475-6.059C232.624,455.511,226.907,455.511,223.664,458.668z"/>
                <path fill="${i}" d="M337.67,411.905c1.621-1.621,2.475-3.755,2.475-6.059c0-2.219-0.853-4.437-2.475-6.059 c-3.157-3.157-8.875-3.072-12.032,0.085c-1.621,1.536-2.56,3.755-2.56,5.973c0,2.304,0.939,4.437,2.56,6.059 c1.536,1.621,3.755,2.475,5.973,2.475C333.915,414.38,336.048,413.527,337.67,411.905z"/>
                <path fill="${i}" d="M213.339,238.935c4.71,0,8.533-3.823,8.533-8.533v-5.615c0.546,0.529,0.922,0.964,0.964,1.024 c1.519,2.918,4.497,4.591,7.578,4.591c1.323,0,2.671-0.307,3.934-0.964c4.181-2.176,5.803-7.33,3.627-11.511 c-2.534-4.873-10.581-13.124-24.636-13.124c-14.054,0-22.101,8.252-24.636,13.124c-2.125,4.087-0.555,8.969,3.456,11.23 c4.011,2.287,9.156,0.811,11.563-3.123c0.077-0.128,0.495-0.623,1.084-1.195v5.564 C204.806,235.112,208.629,238.935,213.339,238.935z"/>
                <path fill="${i}" d="M256.006,332.801c20.028,0,30.507-9.907,31.633-11.034c3.294-3.294,3.285-8.567,0.043-11.913 c-3.234-3.345-8.61-3.439-12.015-0.247c-0.265,0.247-6.699,6.127-19.661,6.127c-12.774,0-19.208-5.709-19.652-6.118 c-3.336-3.251-8.678-3.217-11.981,0.085c-3.337,3.336-3.337,8.73,0,12.066C225.499,322.894,235.978,332.801,256.006,332.801z"/>
                <path fill="${i}" d="M298.672,238.935c4.71,0,8.533-3.823,8.533-8.533v-5.615c0.546,0.529,0.922,0.964,0.964,1.024 c1.519,2.918,4.497,4.591,7.578,4.591c1.323,0,2.671-0.307,3.934-0.964c4.181-2.176,5.803-7.33,3.627-11.511 c-2.534-4.873-10.581-13.124-24.636-13.124s-22.101,8.252-24.636,13.124c-2.125,4.087-0.555,8.969,3.456,11.23 c4.011,2.287,9.165,0.811,11.563-3.123c0.077-0.128,0.495-0.623,1.084-1.195v5.564 C290.139,235.112,293.962,238.935,298.672,238.935z"/>
                <path fill="${i}" d="M511.571,500.771l-8.533-25.6c-8.883-26.658-62.464-65.212-136.098-65.212c-3.482,0-6.613,2.116-7.919,5.333 c-0.316,0.802-33.015,79.642-103.014,79.642c-69.99,0-102.69-79.181-103.014-79.983c-1.306-3.226-4.437-5.35-7.919-5.35 c-106.001,0-130.97,50.185-136.098,65.57l-8.533,25.6c-1.493,4.471,0.93,9.301,5.402,10.795c4.48,1.502,9.301-0.93,10.795-5.402 l8.533-25.6c8.465-25.412,42.974-52.514,114.381-53.845c9.293,19.703,45.577,85.282,116.454,85.282 c70.827,0,107.102-65.229,116.437-84.898c64.051,1.835,108.339,35.294,114.398,53.461l8.533,25.6 c1.195,3.576,4.523,5.837,8.098,5.837c0.887,0,1.801-0.137,2.697-0.435C510.64,510.073,513.064,505.243,511.571,500.771z"/>
                <path fill="${i}" d="M375.472,281.601v17.067c0,4.71,3.823,8.533,8.533,8.533c4.71,0,8.533-3.823,8.533-8.533v-17.067 c0-4.71-3.823-8.533-8.533-8.533C379.295,273.068,375.472,276.891,375.472,281.601z"/>
                <path fill="${i}" d="M188.934,405.847c0-2.219-0.939-4.437-2.56-5.973c-3.157-3.243-8.875-3.243-12.032,0 c-1.621,1.536-2.475,3.755-2.475,5.973c0,2.304,0.853,4.437,2.475,6.059s3.755,2.475,6.059,2.475 c2.219,0,4.437-0.853,5.973-2.475C187.995,410.284,188.934,408.151,188.934,405.847z"/>
                <path fill="${i}" d="M189.531,439.468c2.219,0,4.437-0.939,5.973-2.475c1.621-1.621,2.475-3.755,2.475-6.059c0-2.219-0.853-4.437-2.475-6.059 c-3.157-3.157-8.875-3.157-12.032,0c-1.621,1.621-2.475,3.84-2.475,6.059c0,2.304,0.853,4.437,2.475,6.059 C185.008,438.529,187.227,439.468,189.531,439.468z"/>
                <path fill="${i}" d="M200.624,445.356c-1.621,1.621-2.56,3.755-2.56,6.059c0,2.219,0.939,4.437,2.56,5.973c1.621,1.621,3.755,2.56,6.059,2.56 c2.219,0,4.437-0.939,5.973-2.56c1.621-1.536,2.475-3.755,2.475-5.973c0-2.304-0.853-4.523-2.475-6.059 C209.499,442.199,203.782,442.199,200.624,445.356z"/>
                <path fill="${i}" d="M119.472,281.601v17.067c0,4.71,3.823,8.533,8.533,8.533s8.533-3.823,8.533-8.533v-17.067 c0-4.71-3.823-8.533-8.533-8.533S119.472,276.891,119.472,281.601z"/>
            </svg>`},e.icon.teddy=function(t,n,i,o,l){return e.isNEU(o)&&(o=0),e.isNEU(l)&&(l=0),`<svg width="${t}" height="${n}" x="${o}" y="${l}" viewBox="0 0 512 512">
                <path fill="${i}" d="M234.513,246.613c9.378-1.929,16.555-9.02,21.487-15.863c4.932,6.844,12.109,13.935,21.487,15.863 c1.459,0.299,3.089,0.486,4.873,0.486c6.118,0,13.978-2.304,22.34-10.667c3.337-3.337,3.337-8.73,0-12.066s-8.73-3.337-12.066,0 c-4.361,4.369-8.337,6.212-11.699,5.53c-6.912-1.408-13.611-12.203-16.401-18.364c9.523-3.866,17.067-13.577,17.067-23.799 c0-9.353-9.566-14.933-25.6-14.933c-16.026,0-25.6,5.581-25.6,14.933c0,10.223,7.535,19.934,17.067,23.799 c-2.807,6.178-9.498,16.956-16.401,18.364c-3.405,0.666-7.339-1.178-11.699-5.53c-3.336-3.337-8.73-3.337-12.066,0 s-3.337,8.73,0,12.066C218.104,247.236,228.062,247.91,234.513,246.613z M263.748,190.669c-1.502,2.944-4.873,5.598-7.748,5.598	s-6.246-2.654-7.748-5.598C251.793,189.833,260.207,189.833,263.748,190.669z"/>
                <path fill="${i}" d="M390.033,53.7c1.621,1.613,2.5,3.755,2.5,6.033s-0.879,4.42-2.5,6.025c-3.337,3.337-3.337,8.738,0,12.075 c1.664,1.664,3.849,2.5,6.033,2.5s4.369-0.836,6.033-2.492c4.838-4.838,7.501-11.273,7.501-18.108s-2.662-13.269-7.501-18.099 c-9.984-9.984-26.214-9.984-36.198,0c-3.337,3.328-3.337,8.73,0,12.066s8.73,3.337,12.066,0 C381.303,50.372,386.697,50.372,390.033,53.7z"/>
                <path fill="${i}" d="M311.467,136.533c7.057,0,12.8-5.743,12.8-12.8c0-7.057-5.743-12.8-12.8-12.8s-12.8,5.743-12.8,12.8 C298.667,130.79,304.41,136.533,311.467,136.533z"/>
                <path fill="${i}" d="M200.533,136.533c7.057,0,12.8-5.743,12.8-12.8c0-7.057-5.743-12.8-12.8-12.8s-12.8,5.743-12.8,12.8 C187.733,130.79,193.476,136.533,200.533,136.533z"/>
                <path fill="${i}" d="M115.934,80.333c2.185,0,4.369-0.836,6.042-2.5c3.328-3.337,3.328-8.738-0.009-12.075c-1.613-1.604-2.5-3.746-2.5-6.025 s0.887-4.42,2.509-6.033c3.209-3.226,8.841-3.226,12.058,0c3.328,3.337,8.738,3.328,12.066,0 c3.337-3.328,3.337-8.738,0.009-12.066c-9.677-9.677-26.539-9.668-36.207-0.009c-4.838,4.838-7.501,11.273-7.501,18.108 s2.662,13.269,7.501,18.108C111.565,79.497,113.749,80.333,115.934,80.333z"/>
                <path fill="${i}" d="M498.552,286.191c-28.262-23.945-91.742-14.2-98.884-13.005c-4.651,0.768-7.791,5.171-7.014,9.813 c0.777,4.651,5.171,7.799,9.813,7.014c17.246-2.867,66.133-6.827,85.052,9.199c5.06,4.284,7.415,9.54,7.415,16.521 c0,3.977-1.476,6.946-4.779,9.626c-24.098,19.567-114.33,5.982-147.063-0.913c-3.703-0.776-7.441,0.981-9.242,4.275 c-1.801,3.311-1.212,7.424,1.434,10.095c0.12,0.119,8.499,8.755,12.493,19.951c-2.125-0.222-4.267-0.367-6.443-0.367 c-37.641,0-68.267,34.458-68.267,76.8c0,7.629,1.024,14.993,2.884,21.956c-3.823,1.715-10.197,3.644-19.951,3.644 c-10.052,0-16.367-2.082-19.908-3.814c1.826-6.912,2.842-14.217,2.842-21.786c0-42.342-30.626-76.8-68.267-76.8 c-2.176,0-4.318,0.145-6.443,0.367c3.994-11.196,12.373-19.831,12.476-19.934c2.671-2.671,3.268-6.775,1.468-10.095 c-1.792-3.319-5.521-5.069-9.259-4.292c-32.725,6.895-122.974,20.48-147.063,0.913c-3.302-2.68-4.779-5.649-4.779-9.626 c0-6.98,2.355-12.228,7.407-16.512c18.867-15.991,67.806-12.066,85.06-9.208c4.651,0.794,9.045-2.364,9.813-7.014 c0.776-4.651-2.364-9.045-7.006-9.813c-7.151-1.195-70.613-10.957-98.884,13.005C4.651,293.649,0,303.863,0,315.733 c0,9.079,3.831,16.998,11.093,22.886c27.179,22.05,102.818,12.783,140.535,6.426c-2.825,5.47-5.188,11.896-6.11,18.825 c-25.216,11.29-43.119,38.98-43.119,71.33c0,42.342,30.626,76.8,68.267,76.8c25.446,0,47.642-15.778,59.383-39.057 c5.743,2.56,14.174,4.924,25.95,4.924c11.674,0,20.164-2.287,26.035-4.77C293.794,496.29,315.938,512,341.333,512 c37.641,0,68.267-34.458,68.267-76.8c0-32.35-17.903-60.041-43.119-71.33c-0.922-6.929-3.277-13.355-6.101-18.825 c37.717,6.357,113.365,15.633,140.527-6.426c7.262-5.888,11.093-13.807,11.093-22.886 C512,303.863,507.349,293.649,498.552,286.191z M170.667,494.933c-28.237,0-51.2-26.795-51.2-59.733s22.963-59.733,51.2-59.733 s51.2,26.795,51.2,59.733S198.904,494.933,170.667,494.933z M392.533,435.2c0,32.939-22.963,59.733-51.2,59.733 c-20.983,0-39.04-14.814-46.942-35.942c-0.145-0.614-0.324-1.186-0.606-1.766c-2.338-6.818-3.652-14.242-3.652-22.025 c0-32.939,22.963-59.733,51.2-59.733C369.57,375.467,392.533,402.261,392.533,435.2z"/>
                <path fill="${i}" d="M307.2,443.733c0,18.825,15.309,34.133,34.133,34.133c18.825,0,34.133-15.309,34.133-34.133 c0-18.825-15.309-34.133-34.133-34.133C322.509,409.6,307.2,424.909,307.2,443.733z M358.4,443.733 c0,9.412-7.654,17.067-17.067,17.067c-9.404,0-17.067-7.654-17.067-17.067c0-9.412,7.663-17.067,17.067-17.067 C350.746,426.667,358.4,434.321,358.4,443.733z"/>
                <path fill="${i}" d="M115.541,118.161c-8.619,21.709-13.141,45.525-13.141,69.572c0,67.849,52.762,136.533,153.6,136.533 s153.6-68.685,153.6-136.533c0-24.491-4.412-47.846-13.107-69.581c26.957-5.76,47.24-29.764,47.24-58.419 C443.733,26.795,416.93,0,384,0c-24.67,0-46.14,14.916-55.108,36.745C307.115,23.859,282.368,17.067,256,17.067 c-26.615,0-51.2,6.716-73.259,19.925C174.08,14.754,153.088,0,128,0C95.061,0,68.267,26.795,68.267,59.733 C68.267,88.397,88.559,112.41,115.541,118.161z M128,17.067c19.226,0,35.021,12.177,40.115,30.054 c-11.085,8.61-21.163,18.816-29.901,30.592c-2.807,3.789-2.014,9.131,1.775,11.938c3.789,2.816,9.139,2.022,11.938-1.766 c8.9-12.006,19.26-22.281,30.788-30.507C204.288,41.95,228.949,34.133,256,34.133c41.429,0,78.396,19.098,104.098,53.786 c1.681,2.253,4.25,3.447,6.869,3.447c1.766,0,3.55-0.546,5.077-1.681c3.78-2.799,4.574-8.149,1.775-11.938 c-8.969-12.092-19.157-22.485-30.345-31.104c5.427-17.374,21.632-29.577,40.525-29.577c23.526,0,42.667,19.14,42.667,42.667 S407.526,102.4,384,102.4c-2.935,0-5.658,1.502-7.228,3.985c-1.553,2.483-1.732,5.589-0.461,8.243 c10.761,22.443,16.222,47.044,16.222,73.105C392.533,247.1,345.634,307.2,256,307.2s-136.533-60.1-136.533-119.467 c0-25.617,5.615-50.901,16.23-73.122c1.263-2.637,1.084-5.751-0.478-8.226c-1.562-2.483-4.292-3.985-7.219-3.985 c-23.526,0-42.667-19.14-42.667-42.667S104.474,17.067,128,17.067z"/>
                <path fill="${i}" d="M256,290.133c47.053,0,85.333-30.626,85.333-68.267c0-36.258-36.489-76.8-85.333-76.8s-85.333,40.542-85.333,76.8 C170.667,259.507,208.947,290.133,256,290.133z M256,162.133c38.451,0,68.267,32.111,68.267,59.733 c0,28.237-30.626,51.2-68.267,51.2c-37.641,0-68.267-22.963-68.267-51.2C187.733,194.244,217.557,162.133,256,162.133z"/>
                <path fill="${i}" d="M170.667,409.6c-18.825,0-34.133,15.309-34.133,34.133c0,18.825,15.309,34.133,34.133,34.133 s34.133-15.309,34.133-34.133C204.8,424.909,189.491,409.6,170.667,409.6z M170.667,460.8c-9.412,0-17.067-7.654-17.067-17.067 c0-9.412,7.654-17.067,17.067-17.067c9.412,0,17.067,7.654,17.067,17.067C187.733,453.146,180.079,460.8,170.667,460.8z"/>
            </svg>`},e.prototype.exportPDFProfile=function(t,n){t=this._defaultExportProfileOptions(t,"pdf"),this._exportProfile(t,n)},e.prototype.exportPDFPreview=function(t){e.pdfPrevUI.show(this,t)},e.prototype.exportPNGProfile=function(t,n){t=this._defaultExportProfileOptions(t,"png"),this._exportProfile(t,n)},e.prototype.shareProfile=function(t){var n;typeof t=="object"?t=(n=t).focusId:n=this.editUI.content(t,!0,!0,"100%",!0);var i=new URL(window.location.href);i.searchParams.append("nodeId",t);var o={title:n.title,text:n.shareText,url:i.href};try{navigator.share(o)}catch(l){console.error("error: "+l)}},e.prototype.exportPDF=function(t,n){t=this._defaultExportOptions(t,"pdf"),this._export(t,n)},e.prototype.exportPNG=function(t,n){t=this._defaultExportOptions(t,"png"),this._export(t,n)},e.prototype.exportSVG=function(t,n){t=this._defaultExportOptions(t,"svg"),this._export(t,n)},e.prototype._defaultExportOptions=function(t,n){return t==null&&(t={}),n=="svg"?(t.ext="svg",t.mime="image/svg+xml"):n=="pdf"?(t.mime="application/pdf",t.ext="pdf"):n=="png"&&(t.mime="image/png",t.ext="png"),t.margin==null&&(t.margin=[50,40,50,40]),t.padding==null&&(t.padding=0),t.landscape==null&&(t.landscape=!1),t.filename==null&&(t.filename="FamilyTree."+t.ext),t.scale==null&&(t.scale="fit"),t.format==null&&(t.format="fit"),t.header==null&&(t.header=""),n=="pdf"&&t.footer==null?t.footer="Page {current-page} of {total-pages}":t.footer==null&&(t.footer=""),t.openInNewTab==null&&(t.openInNewTab=!1),t.mode==null&&(t.mode="bft-"+this.config.mode),t},e.prototype._export=function(t,n){var i=this,o={id:t.nodeId,expandChildren:t.expandChildren,min:t.min};t.margin&&t.margin[0]<2&&(t.margin[0]=2),t.margin&&t.margin[1]<2&&(t.margin[1]=2),t.margin&&t.margin[2]<2&&(t.margin[2]=2),t.margin&&t.margin[3]<2&&(t.margin[3]=2),this._draw(!1,e.action.exporting,o,function(l,a){var s=document.createElement("div");if(s.innerHTML=l,t.padding>0){var c=s.querySelector("svg"),d=e._getViewBox(c);d[0]-=t.padding,d[1]-=t.padding,d[2]+=2*t.padding,d[3]+=2*t.padding,c.setAttribute("viewBox",d.join()),c.setAttribute("width",d[2]),c.setAttribute("height",d[3])}if(t.ext=="svg")if(n)n(t,s.innerHTML);else{(c=s.querySelector("svg")).classList.add("bft-"+i.config.mode);var f={content:s.innerHTML,options:t,styles:""},u=e.events.publish("exportstart",[i,f]),p=i.element.querySelector("[data-bft-styles]");if(p&&(f.styles+=p.outerHTML),f.styles&&(s.childNodes[0].insertAdjacentHTML("afterbegin",f.styles),f.content=s.innerHTML),u===!1||(u=e.events.publish("exportend",[i,f]))===!1)return!1;e._downloadFile(t.mime,f.content,f.options.filename,f.options.openInNewTab,f.options.ext)}else i._pages(t,s.querySelector("svg"),a,function(m){var g={content:s.innerHTML,options:t,pages:m,styles:""},x=e.events.publish("exportstart",[i,g]),y=i.element.querySelector("[data-bft-styles]");if(y&&(g.styles+=y.outerHTML),x===!1)return!1;n||e.loading.show(i),n?n(i,g,s.querySelector("svg")):(g=JSON.stringify(g),e._ajax(i.config.exportUrl+"/v3","POST",g,"arraybuffer",function(v){var h=e.events.publish("exportend",[i,v]);if(e.loading.hide(i),h===!1)return!1;e._downloadFile(t.mime,v,t.filename,t.openInNewTab,t.ext)}))})})},e.prototype.exportCSV=function(t){var n=e._defaultExportProfileOptionsForCSV_SVG_JSON(t,"csv"),i=this.getNode(n.nodeId),o=null;i?(o=[],e._exportIterateForJSON_XML_CSV(this,i,n,o)):n.min===!1||n.expandChildren===!1?e._exportIterateForJSON_XML_CSV(this,this.roots,n,o):o=JSON.parse(JSON.stringify(this.config.nodes));var l={ext:"csv",filename:t,options:n,nodes:o};if(e.events.publish("exportstart",[this,l])===!1)return!1;var a=e._json2csv(l.nodes),s={ext:l.ext,filename:l.filename,options:n,nodes:l.nodes,content:a};if(e.events.publish("exportend",[this,s])===!1)return!1;e._downloadFile("text/csv;charset=utf-8;","\uFEFF"+s.content,s.options.filename,s.options.openInNewTab,s.ext)},e.prototype.exportXML=function(t){var n=e._defaultExportProfileOptionsForCSV_SVG_JSON(t,"xml"),i=this.getNode(n.nodeId),o=null;i?(o=[],e._exportIterateForJSON_XML_CSV(this,i,n,o)):n.min===!1||n.expandChildren===!1?e._exportIterateForJSON_XML_CSV(this,this.roots,n,o):o=JSON.parse(JSON.stringify(this.config.nodes));var l={ext:"xml",filename:t,options:n,nodes:o};if(e.events.publish("exportstart",[this,l])===!1)return!1;var a=e._json2xml(l.nodes),s={ext:l.ext,filename:l.filename,options:n,nodes:l.nodes,content:a};if(e.events.publish("exportend",[this,s])===!1)return!1;e._downloadFile("application/xml",s.content,s.options.filename,s.options.openInNewTab,s.ext)},e.prototype.exportJSON=function(t){var n=e._defaultExportProfileOptionsForCSV_SVG_JSON(t,"json"),i=this.getNode(n.nodeId),o=null;i?(o=[],e._exportIterateForJSON_XML_CSV(this,i,n,o)):n.min===!1||n.expandChildren===!1?e._exportIterateForJSON_XML_CSV(this,this.roots,n,o):o=JSON.parse(JSON.stringify(this.config.nodes));var l={ext:"json",filename:n.filename,options:n,nodes:o};if(e.events.publish("exportstart",[this,l])===!1)return!1;var a={ext:l.ext,filename:l.filename,options:n,nodes:l.nodes,content:JSON.stringify(l.nodes)};if(e.events.publish("exportend",[this,a])===!1)return!1;e._downloadFile("application/json",a.content,a.options.filename,a.options.openInNewTab,a.ext)},e._exportIterateForJSON_XML_CSV=function(t,n,i,o){if(Array.isArray(n))for(var l=0;l<n.length;l++)e._exportIterateForJSON_XML_CSV(t,n[l],i,o);else{var a=t.get(n.id);if(o.push(a),i.min)for(l=0;l<n.stChildrenIds.length;l++)e._exportIterateForJSON_XML_CSV(t,t.getNode(n.stChildrenIds[l]),i,o);else for(l=0;l<n.stChildren.length;l++)e._exportIterateForJSON_XML_CSV(t,n.stChildren[l],i,o);if(i.expandChildren)for(l=0;l<n.childrenIds.length;l++)e._exportIterateForJSON_XML_CSV(t,t.getNode(n.childrenIds[l]),i,o);else for(l=0;l<n.children.length;l++)e._exportIterateForJSON_XML_CSV(t,n.children[l],i,o)}},e.prototype._pages=function(t,n,i,o){t.format=="A5"&&t.scale!="fit"||t.format=="A4"&&t.scale!="fit"||t.format=="A3"&&t.scale!="fit"||t.format=="A2"&&t.scale!="fit"||t.format=="A1"&&t.scale!="fit"||t.format=="Letter"&&t.scale!="fit"||t.format=="Legal"&&t.scale!="fit"?o(this._pagesA100(t,n,t.scale)):t.format=="A5"&&t.scale=="fit"||t.format=="A4"&&t.scale=="fit"||t.format=="A3"&&t.scale=="fit"||t.format=="A2"&&t.scale=="fit"||t.format=="A1"&&t.scale=="fit"||t.format=="Letter"&&t.scale=="fit"||t.format=="Legal"&&t.scale=="fit"?o(this._pagesAfit(t,n,i)):t.format=="fit"&&o(this._pagesFit(t,n))},e.prototype._pagesFit=function(t,n){var i=n.getAttribute("width"),o=n.getAttribute("height"),l=e._getViewBox(n),a={w:parseFloat(i),h:parseFloat(o)};return[{vb:l,size:{w:a.w+(t.margin[1]+t.margin[3]),h:a.h+(t.margin[0]+t.margin[2])},innerSize:a}]},e.prototype._pagesAfit=function(t,n,i){var o=n.getAttribute("width"),l=0,a=0;switch(t.format){case"A5":l=e.A5w,a=e.A5h;break;case"A4":l=e.A4w,a=e.A4h;break;case"A3":l=e.A3w,a=e.A3h;break;case"A2":l=e.A2w,a=e.A2h;break;case"A1":l=e.A1w,a=e.A1h;break;case"Letter":l=e.Letterw,a=e.Letterh;break;case"Legal":l=e.Legalw,a=e.Legalh}var s=t.landscape?a-(t.margin[1]+t.margin[3]):l-(t.margin[1]+t.margin[3]),c=(t.landscape,t.margin[0],t.margin[2],s/o);return this._pagesA100(t,n,100*c,i)},e.prototype._pagesA100=function(t,n,i,o){var l=e._getViewBox(n),a=0,s=0;switch(t.format){case"A5":a=e.A5w,s=e.A5h;break;case"A4":a=e.A4w,s=e.A4h;break;case"A3":a=e.A3w,s=e.A3h;break;case"A2":a=e.A2w,s=e.A2h;break;case"A1":a=e.A1w,s=e.A1h;break;case"Letter":a=e.Letterw,s=e.Letterh;break;case"Legal":a=e.Legalw,s=e.Legalh}var c=l[0],d=l[1],f=l[2],u=l[3],p={w:t.landscape?s-(t.margin[1]+t.margin[3]):a-(t.margin[1]+t.margin[3]),h:t.landscape?a-(t.margin[0]+t.margin[2]):s-(t.margin[0]+t.margin[2])},m={w:t.landscape?s:a,h:t.landscape?a:s};n.setAttribute("width",p.w),n.setAttribute("height",p.h);var g=p.w*(100/i),x=p.h*(100/i),y=c,v=d,h=[],w=!0;if(!e.EXPORT_PAGES_CUT_NODES&&t.scale=="fit"){n.setAttribute("preserveAspectRatio","xMinYMin");for(var _=Object.keys(o.bordersByRootIdAndLevel),b=o.bordersByRootIdAndLevel[_[0]],S=Object.keys(b).length,k=1;k<_.length;k++)S<Object.keys(o.bordersByRootIdAndLevel[_[k]]).length&&(b=o.bordersByRootIdAndLevel[_[k]],S=Object.keys(b).length);for(var C=0,E=0;;){for(E=C;!(S<=C);){if((b[C].maxY-b[C].minY)/(100/i)>p.h){w=!1;break}var L=(b[C].minY-b[E].minY)/(100/i);if(C==S-1&&(L=(b[C].maxY-b[E].minY)/(100/i)),L>p.h)break;C++}if(!w)break;var B=(C==S?b[C-1].maxY:b[C-1].minY)-b[E].minY;if(B==0){w=!1;break}if(R=(R=[y,b[E].minY,g,B]).join(),h.push({vb:R,innerSize:{w:p.x,h:B/(100/i)-1},size:m}),C==S)break;C--}h.length&&(h[h.length-1].innerSize.h+=1)}if(!w||e.EXPORT_PAGES_CUT_NODES||t.scale!="fit")for(n.setAttribute("preserveAspectRatio","xMinYMin slice"),h=[];y<f+c;){for(;v<u+d;){var R;R=(R=[y,v,g,x]).join(),h.push({vb:R,innerSize:p,size:m}),v+=x}y+=g,v=d}return h},e.prototype._defaultExportProfileOptions=function(t,n){return e.isNEU(t)||t.id==null||t.nodeId!=null||(t.nodeId=t.id),(e.isNEU(t)||e.isNEU(t.nodeId))&&console.error("options.nodeId is not defilned"),n=="svg"?(t.ext="svg",t.mime="image/svg+xml"):n=="pdf"?(t.mime="application/pdf",t.ext="pdf"):n=="png"&&(t.mime="image/png",t.ext="png"),t.margin==null&&(t.margin=[50,40,50,40]),t.padding==null&&(t.padding=0),t.landscape==null&&(t.landscape=!1),t.filename==null&&(t.filename="Profile."+t.ext),t.scale==null&&(t.scale="fit"),t.format==null&&(t.format="A4"),t.header==null&&(t.header=""),t.footer==null&&(t.footer=""),t.openInNewTab==null&&(t.openInNewTab=!1),t.mode==null&&(t.mode="bft-"+this.config.mode),t},e._defaultExportProfileOptionsForCSV_SVG_JSON=function(t,n){return e.isNEU(t)&&(t={}),typeof t=="string"&&(t={filename:t}),e.isNEU(t.filename)&&(t.filename=`FamilyTree.${n}`),e.isNEU(t.expandChildren)&&(t.expandChildren=!0),e.isNEU(t.min)&&(t.min=!0),e.isNEU(t.openInNewTab)&&(t.openInNewTab=!1),t},e.prototype._exportProfile=function(t,n){var i=this,o=0,l=0;switch(t.format){case"A5":o=e.A5w,l=e.A5h;break;case"A4":o=e.A4w,l=e.A4h;break;case"A3":o=e.A3w,l=e.A3h;break;case"A2":o=e.A2w,l=e.A2h;break;case"A1":o=e.A1w,l=e.A1h;break;case"Letter":o=e.Letterw,l=e.Letterh;break;case"Legal":o=e.Legalw,l=e.Legalh}var a={w:t.landscape?l-(t.margin[1]+t.margin[3]):o-(t.margin[1]+t.margin[3]),h:t.landscape?o-(t.margin[0]+t.margin[2]):l-(t.margin[0]+t.margin[2])},s={w:t.landscape?l:o,h:t.landscape?o:l},c=this.editUI.content(t.nodeId,!0,!0,"100%",!0).element;e.input.init(c);var d={content:c.outerHTML,options:t,pages:[{vb:"",innerSize:a,size:s}],styles:""};if(!n){if(e.events.publish("exportstart",[i,d])===!1)return!1;e.loading.show(i)}var f=this.element.querySelector("[data-bft-styles]");f&&(d.styles+=f.outerHTML);var u=this.getSvg().querySelector("defs");if(u)for(var p=0;p<u.children.length;p++)u.children[p].nodeName.toLowerCase()=="style"&&(d.styles+=u.children[p].outerHTML);d=JSON.stringify(d),e._ajax(this.config.exportUrl+"/v3","POST",d,"arraybuffer",function(m){if(n)n(i,m);else{var g=e.events.publish("exportend",[i,m]);if(e.loading.hide(i),g===!1)return!1;e._downloadFile(t.mime,m,t.filename,t.openInNewTab,t.ext)}})},e===void 0&&(e={}),e.events=function(){var t={};return{on:function(n,i,o){Array.isArray(t[n])||(t[n]=[]),t[n].push({listener:i,event_id:o})},removeAll:function(n){Array.isArray(t[n])||(t[n]=[]),t[n]=[]},remove:function(n,i,o){var l=!1;if(t[n]&&Array.isArray(t[n])&&t[n].length>0)for(var a=t[n].length-1;a>=0;a--)(!e.isNEU(o)&&!e.isNEU(i)&&t[n][a].event_id==o&&t[n][a].listener==i||!e.isNEU(o)&&e.isNEU(i)&&t[n][a].event_id==o||e.isNEU(o)&&!e.isNEU(i)&&t[n][a].listener==i||e.isNEU(o)&&e.isNEU(i))&&(t[n].splice(a,1),l=!0);return l},has:function(n,i){if(t[n]&&Array.isArray(t[n])&&t[n].length>0){if(e.isNEU(i))return!0;for(var o=0;o<t[n].length;o++)if(t[n][o].event_id==i)return!0}return!1},removeForEventId:function(n){for(var i in t)if(Array.isArray(t[i]))for(var o=t[i].length-1;o>=0;o--)t[i][o].event_id==n&&t[i].splice(o,1)},publish:function(n,i){if(t[n]){for(var o=[],l=0;l<t[n].length;l++){var a=t[n][l];a.event_id!=null&&a.event_id!=i[0]._event_id||o.push(a.listener)}if(o.length>0){var s=!0;for(l=0;l<o.length&&(i.length==1?s=o[l](i[0])&&s:i.length==2?s=o[l](i[0],i[1])&&s:i.length==3?s=o[l](i[0],i[1],i[2])&&s:i.length==4?s=o[l](i[0],i[1],i[2],i[3])&&s:i.length==5&&(s=o[l](i[0],i[1],i[2],i[3],i[4])&&s),s!==!1);l++);return s}}}}}(),e.prototype.importCSV=function(){var t=this,n=document.createElement("INPUT");n.setAttribute("type","file"),n.setAttribute("accept",".csv"),n.style.display="none",n.onchange=function(i){var o=i.target,l=new FileReader;l.onload=function(){var a=l.result,s=e._csvToArray(a),c=[],d=s[0];e._importSetColumnNames(d,function(f){for(var u=1;u<s.length;u++){for(var p={},m=0;m<s[u].length;m++){var g=f[m],x=s[u][m];p[g]=e._convertStringToArray(g,x)}p.id.trim()!=""&&c.push(p)}var y={nodes:c,columnNames:s[0]};e.events.publish("import",[t,y])!=0&&(t._putInUndoStack(),t.clearRedo(),t.config.nodes=y.nodes,e.events.publish("updated",[t]),t.filterUI.update(),t.draw())})},l.readAsText(o.files[0])},n.click()},e._importSetColumnNames=function(t,n){if(t.indexOf("id")==-1||t.indexOf("pid")==-1){var i=document.createElement("DIV"),o=document.createElement("P");o.style.padding="5px",o.style.color="rgb(122, 122, 122)",o.innerHTML=e.IMPORT_MESSAGE,i.appendChild(o);var l=document.createElement("div"),a=document.createElement("div"),s=document.createElement("div"),c=document.createElement("span");l.setAttribute("id","bft-sampleDialog"),l.style.height="260px",l.style.width="400px",l.style.background="white",l.style.border="0.5px solid grey",l.style.position="fixed",l.style.overflow="hidden",l.style.zIndex="99",a.setAttribute("id","title"),a.style.backgroundColor="#e5e5e5",a.style.fontWeight="bold",a.style.color="rgb(122, 122, 122)",a.style.height="20px",a.style.padding="3px 0 0 7px",c.setAttribute("id","close"),c.style.cursor="pointer",c.style.position="absolute",c.style.color="rgb(122, 122, 122)",c.style.fontWeight="bold",c.style.top="2px",c.style.zIndex=100,s.setAttribute("id","content"),s.style.padding="2px",a.innerHTML="Import Organizational Chart Data",c.innerHTML="&times;";var d=document.createElement("HR");d.style.height="0.1px",d.style.backgroundColor="#aeaeae",d.style.border="none",d.style.margin="0",l.appendChild(a),l.appendChild(d),s.appendChild(i),l.appendChild(s),l.appendChild(c),document.body.appendChild(l),e._importCenter(l),c.style.left=l.offsetWidth-20+"px";var f=document.createElement("div");f.setAttribute("id","overlay"),f.style.width="100%",f.style.height="100%",f.style.left=0,f.style.top=0,f.style.position="fixed",f.style.background="grey",f.style.opacity="0.5",f.style.zIndex=98,document.body.appendChild(f),l._overlay=f;var u=document.createElement("LABEL"),p=document.createTextNode("Name:");u.setAttribute("for","bft-id-select"),u.appendChild(p),u.style.fontSize="16px",u.style.color="rgb(122, 122, 122)",u.style.padding="5px",u.style.margin="5px",u.style.width="30%",u.style.textAlign="right",u.style.display="inline-block",i.appendChild(u);var m=document.createElement("SELECT");m.id="bft-id-select",m.style.fontSize="16px",m.style.color="rgb(122, 122, 122)",m.style.padding="5px",m.style.margin="5px",m.style.width="60%",m.style.border="1px solid #aeaeae",i.appendChild(m);var g=document.createElement("BR");i.appendChild(g);for(var x=0;x<t.length;x++){(_=document.createElement("option")).setAttribute("value",t[x]);var y=document.createTextNode(t[x]);_.appendChild(y),m.appendChild(_)}var v=document.createElement("LABEL"),h=document.createTextNode("Reports to:");v.setAttribute("for","pid-select"),v.appendChild(h),v.style.fontSize="16px",v.style.color="rgb(122, 122, 122)",v.style.padding="5px",v.style.margin="5px",v.style.width="30%",v.style.textAlign="right",v.style.display="inline-block",i.appendChild(v);var w=document.createElement("SELECT");for(w.id="pid-select",w.style.fontSize="16px",w.style.color="rgb(122, 122, 122)",w.style.padding="5px",w.style.margin="5px",w.style.width="60%",w.style.border="1px solid #aeaeae",i.appendChild(w),x=0;x<t.length;x++){var _;(_=document.createElement("option")).setAttribute("value",t[x]),y=document.createTextNode(t[x]),_.appendChild(y),w.appendChild(_)}var b=document.createElement("BUTTON");b.innerHTML="Import",b.style.fontSize="16px",b.style.color="rgb(122, 122, 122)",b.style.padding="5px 20px",b.style.margin="20px auto",b.style.display="block",b.onclick=function(){l.style.display="none",l._overlay&&l._overlay.parentNode.removeChild(l._overlay);var k=m.options[m.selectedIndex].value,C=t.indexOf(k);t[C]="id";var E=w.options[w.selectedIndex].value,L=t.indexOf(E);t[L]="pid",n(t)};var S=document.createElement("DIV");return S.appendChild(b),i.appendChild(S),c.onclick=function(k){l._overlay&&l._overlay.parentNode.removeChild(l._overlay),l.parentNode.removeChild(l),k.stopPropagation()},a.onmousedown=function(k){k=k||window.event,l._dragging=!0,l._originalLeft=l.offsetLeft,l._originalTop=l.offsetTop,l._mouseLeft=k.clientX,l._mouseTop=k.clientY},document.onmousemove=function(k){k=k||window.event,l._dragging&&(l.style.left=l._originalLeft+k.clientX-l._mouseLeft+"px",l.style.top=l._originalTop+k.clientY-l._mouseTop+"px")},document.onmouseup=function(k){k=k||window.event,l._dragging&&(l.style.left=l._originalLeft+k.clientX-l._mouseLeft+"px",l.style.top=l._originalTop+k.clientY-l._mouseTop+"px",l._dragging=!1)},l}n(t)},e._importCenter=function(t){t&&(t.style.left=(window.innerWidth-t.offsetWidth)/2+"px",t.style.top=(window.innerHeight-t.offsetHeight)/2+"px")},e.prototype.importXML=function(){var t=this,n=document.createElement("INPUT");n.setAttribute("type","file"),n.setAttribute("accept",".xml"),n.style.display="none",n.onchange=function(i){var o=i.target,l=new FileReader;l.onload=function(){var a=l.result,s=e._xml2json(a);e.events.publish("import",[t,s])!=0&&(t._putInUndoStack(),t.clearRedo(),t.config.nodes=s,e.events.publish("updated",[t]),t.filterUI.update(),t.draw())},l.readAsText(o.files[0])},n.click()},e.prototype.importJSON=function(){var t=this,n=document.createElement("INPUT");n.setAttribute("type","file"),n.setAttribute("accept",".json"),n.style.display="none",n.onchange=function(i){var o=i.target,l=new FileReader;l.onload=function(){var a=l.result,s=JSON.parse(a);e.events.publish("import",[t,s])!=0&&(t._putInUndoStack(),t.clearRedo(),t.config.nodes=s,e.events.publish("updated",[t]),t.filterUI.update(),t.draw())},l.readAsText(o.files[0])},n.click()},e.prototype.__importJSON=e.prototype.importJSON,e.prototype.importJSON=function(){this.config.roots=[],this.__importJSON()},e.prototype.__importCSV=e.prototype.importCSV,e.prototype.importCSV=function(){this.config.roots=[],this.__importCSV()},e.prototype.__importXML=e.prototype.importXML,e.prototype.importXML=function(){this.config.roots=[],this.__importXML()},e._importSetColumnNames=function(t,n){n(t)},e.prototype.expand=function(t,n,i){this._resetMovableNodes();var o={id:t,ids:n};this._draw(!1,e.action.expand,o,i)},e.prototype.collapse=function(t,n,i){this._resetMovableNodes();var o={id:t,ids:n};this._draw(!1,e.action.collapse,o,i)},e.prototype.expandCollapse=function(t,n,i,o){this._resetMovableNodes(),Array.isArray(n)||(n=[]),Array.isArray(i)||(i=[]);var l={id:t,expandIds:n,collapseIds:i,ids:n.concat(i)};this._draw(!1,e.action.collapse,l,o)},e.prototype.changeRoots=function(t,n,i){this.config.roots=n;var o={id:t,changeRoots:n};this._draw(!1,e.action.update,o,i)},e.prototype._resetMovableNodes=function(){if(e.RESET_MOVABLE_ONEXPANDCOLLAPSE&&this.config.movable!=null){for(var t=!1,n=0;n<this.config.nodes.length;n++){var i=this.config.nodes[n];i.movex!=null&&(i.movex=0,t=!0),i.movey!=null&&(i.movey=0,t=!0)}t&&e.events.publish("updated",[this])}},e.prototype.maximize=function(t,n,i,o){var l=this,a={id:t,options:{}};e.isNEU(a.id)&&(a.id=this.roots[0].id,a.all=!0),a.options.horizontal=!1,a.options.vertical=!1,n&&(a.options.horizontal=n),i&&(a.options.vertical=i),this._draw(!1,e.action.maximize,a,function(){l.ripple(t),o&&o()})},e.prototype.minimize=function(t,n){var i=this,o={id:t};e.isNEU(o.id)&&(o.id=this.roots[0].id,o.all=!0),this._draw(!1,e.action.minimize,o,function(){i.ripple(t),n&&n()})},e.prototype._expCollHandler=function(t){this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide();var n=this.getNode(t),i=this.getCollapsedIds(n);if(i.length){if(e.events.publish("expcollclick",[this,!1,t,i])===!1)return!1;this.expand(t,i,!1)}else{if(e.events.publish("expcollclick",[this,!0,t,n.childrenIds])===!1)return!1;this.collapse(t,n.childrenIds,!1)}},e.prototype._upHandler=function(t){this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide();var n=this._upHandlerCreateArgs(t);if(e.events.publish("up-click",[this,n])===!1)return!1;this.changeRoots(n.id,n.roots,!1)},e.prototype._upHandlerCreateArgs=function(t){var n,i=this.getNode(t),o=Object.assign([],this.config.roots),l=this.getNode(i.pid);if(l&&(n=l),n){if(Array.isArray(o)){var a=o.indexOf(i.id);a!=-1&&o.splice(a,1)}else o=[];o.push(n.id)}return{id:i.id,roots:o}},e.prototype._upHandlerCreateArgs=function(t){var n=this.getNode(t),i=Object.assign([],this.config.roots),o=this.getRecentRootsByNodeId(t);return Array.isArray(i)||(i=[]),e._changeRootOption(i,o,this.manager.rootList),{id:n.id,roots:i}},String.prototype.replaceAll||(String.prototype.replaceAll=function(t,n){return this.replace(new RegExp(t,"g"),n)}),String.prototype.endsWith||(String.prototype.endsWith=function(t){return this.indexOf(t,this.length-t.length)!==-1}),String.prototype.splice||(String.prototype.splice=function(t,n,i){return this.slice(0,t)+i+this.slice(t+Math.abs(n))}),String.prototype.insert||(String.prototype.insert=function(t,n){return t>0?this.substring(0,t)+n+this.substr(t):n+this}),Array.prototype.unique||Object.defineProperty(Array.prototype,"unique",{value:function(){for(var t=this.concat(),n=0;n<t.length;++n)for(var i=n+1;i<t.length;++i)t[n]===t[i]&&t.splice(i--,1);return t},writable:!0,configurable:!0,enumerable:!1}),Array.prototype.has||Object.defineProperty(Array.prototype,"has",{value:function(t){for(var n=0;n<this.length;n++)if(this[n]==t)return!0;return!1},writable:!0,configurable:!0,enumerable:!1}),Array.prototype.compare||Object.defineProperty(Array.prototype,"compare",{value:function(t){if(this.length!=t.length)return!1;for(var n=0;n<this.length;n++)if(!t.has(this[n]))return!1;return!0},writable:!0,configurable:!0,enumerable:!1}),Object.assign||Object.defineProperty(Object,"assign",{value:function(t,n){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(i[a]=l[a])}return i},writable:!0,configurable:!0}),e.prototype._globalMouseDownHandler=function(t,n){var i={move:"mousemove",up:"mouseup",leave:"mouseleave"};if(n.type.indexOf("touch")!=-1&&(n.touches.length==1?this._touch={x:n.touches[0].clientX,y:n.touches[0].clientY}:this._touch=null,i={move:"touchmove",up:"touchend",touchstart:"touchstart"}),t==n.target)return n.stopPropagation(),n.preventDefault(),void this._mouseDownHandler(t,n,i);if(this.config.nodeMouseClick==e.action.pan){for(var o=n.target;o!=t&&!o.hasAttribute(e.attr.control_expcoll_id)&&!o.hasAttribute(e.attr.control_up_id);)o=o.parentNode;if(!o.hasAttribute(e.attr.control_expcoll_id)&&!o.hasAttribute(e.attr.control_up_id))return n.stopPropagation(),n.preventDefault(),void this._mouseDownHandler(t,n,i)}for(var l=n.target;l!=t;){if(l.hasAttribute(e.attr.node_id))return void this._nodeMouseDownHandler(l,n,i);if(l.hasAttribute(e.attr.control_node_circle_menu_name))return n.stopPropagation(),n.preventDefault(),void this._nodeCircleNodeMenuItemMouseDownHandler(l,n,i);l=l.parentNode}},e.prototype._globalClickHandler=function(t,n){if(n.type.indexOf("touch")!=-1&&this._touch&&n.changedTouches.length==1){if(n.changedTouches.length){var i={x:n.changedTouches[0].clientX,y:n.changedTouches[0].clientY},o=e.t(this.config.template,!1,this.getScale()).size,l=this.getScale(),a=Math.abs(i.x-this._touch.x)/l,s=Math.abs(i.y-this._touch.y)/l;if(this._touch=null,a>o[0]/10||s>o[1]/10)return}}else if(n.type.indexOf("touch")!=-1&&this._touch==null)return;for(var c=n.target;c!=t;){if(c.hasAttribute(e.attr.control_expcoll_id)){var d=c.getAttribute(e.attr.control_expcoll_id),f=this.getNode(d);return void this._expCollHandler(f.id)}if(c.hasAttribute(e.attr.node_id))return d=c.getAttribute(e.attr.node_id),f=this.getNode(d),void this._nodeClickHandler(f.id,n);if(c.hasAttribute(e.attr.control_node_menu_id))return n.stopPropagation(),n.preventDefault(),d=c.getAttribute(e.attr.control_node_menu_id),f=this.getNode(d),void this._nodeMenuClickHandler(f.id,c,n);if(c.hasAttribute(e.attr.control_node_circle_menu_id))return n.stopPropagation(),n.preventDefault(),d=c.getAttribute(e.attr.control_node_circle_menu_id),void this._nodeCircleMenuClickHandler(d);if(c.hasAttribute(e.attr.control_node_circle_menu_name))return n.stopPropagation(),n.preventDefault(),void this._nodeCircleMenuItemClickHandler(c,n);if(c.hasAttribute(e.attr.control_add))return void this._lonelyButtonHandler();if(c.hasAttribute(e.attr.control_up_id))return d=c.getAttribute(e.attr.control_up_id),n.stopPropagation(),n.preventDefault(),void this._upHandler(d);if(c.hasAttribute(e.attr.c_link_from))return void e.events.publish("clink-click",[this,{from:c.getAttribute(e.attr.c_link_from),to:c.getAttribute(e.attr.c_link_to),event:n}]);if(c.hasAttribute(e.attr.s_link_from))return void e.events.publish("slink-click",[this,{from:c.getAttribute(e.attr.s_link_from),to:c.getAttribute(e.attr.s_link_to),event:n}]);c=c.parentNode}},e.prototype._globalContextHandler=function(t,n){for(var i=n.target;i!=t;){if(i.hasAttribute(e.attr.node_id)){var o=i.getAttribute(e.attr.node_id),l=this.getNode(o);return void this._nodeContextHandler(l.id,n)}i=i.parentNode}},e.prototype._nodeContextHandler=function(t,n){n.preventDefault(),e.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE&&this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide();var i=this.get(t),o=null;if(i!=null&&Array.isArray(i.tags))for(var l=0;l<i.tags.length;l++){var a=i.tags[l];this.config.tags[a]&&this.config.tags[a].nodeContextMenu&&(o=this.config.tags[a].nodeContextMenu)}var s=this.element.getBoundingClientRect(),c=n.clientX-s.left,d=n.clientY-s.top;this.nodeContextMenuUI.show(c,d,t,null,o)},e.prototype._globalDbClickHandler=function(t,n){for(var i=n.target;i!=t;){if(i.hasAttribute(e.attr.node_id)){var o=i.getAttribute(e.attr.node_id),l=this.getNode(o);return void this._nodeDbClickHandler(l.id,n)}i=i.parentNode}},e.prototype._mouseScrollHandler=function(t,n){this.__mouseScrollHandler(this.getSvg(),n)},e.prototype.__mouseScrollHandler=function(t,n){if(n.ctrlKey){if(this.config.mouseScrool==e.action.zoom)return}else if(this.config.mouseScrool==e.action.ctrlZoom||this.config.mouseScrool!=e.action.zoom)return;var i=this,o=!1,l=this.config.zoom.speed,a=this.config.zoom.smooth,s=0,c=this.getScale(),d=e._centerPointInPercent(t,n.pageX,n.pageY),f=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(p){setTimeout(p,20)};n.preventDefault();var u=n.delta||n.wheelDelta;u===void 0&&(u=-n.detail),u=Math.max(-1,Math.min(1,u)),s+=-u*l,o||function p(){o=!0;var m=(s-c)/a;m>0?m++:m--,c+=m,i.zoom(1-m/12/50,d),parseInt(c)==parseInt(s)?o=!1:f(p)}()},e.prototype._nodeCircleNodeMenuItemMouseDownHandler=function(t,n,i){var o=t.parentNode.getAttribute(e.attr.control_node_circle_menu_wrraper_id),l=t.getAttribute(e.attr.control_node_circle_menu_name),a=this.nodeCircleMenuUI._menu[l];if(a.draggable){var s=this,c=e._getClientXY(n),d=this.getNode(o);t._dragEventFired=!1;var f=s.getScale(),u=null,p=null;this._gragStartedId=o,document.body.style.mozUserSelect=document.body.style.webkitUserSelect=document.body.style.userSelect="none";var m=this.getSvg(),g={x:c.x,y:c.y},x=t.cloneNode(!0);m.insertBefore(x,m.firstChild);var y=e._getTransform(x),v=y[4],h=y[5],w=function(k){for(;k&&!k.hasAttribute(e.attr.control_node_circle_menu_wrraper_id);)k=k.parentNode;if(k){var C=e._getTransform(k);return{x:C[4],y:C[5]}}console.error("cannot find parent"+e.attr.control_node_circle_menu_wrraper_id)}(t);x.setAttribute("transform","matrix(1,0,0,1,"+(v+w.x)+","+(h+w.y)+")"),x.style.opacity=.7;var _=function(k,C){if(k!=null){C.classList.remove("bft-drag-over");for(var E=e.getStParentNodes(s.getNode(u)),L=0;L<E.length;L++){var B=s.getNodeElement(E[L].id);B&&(B.style.opacity=1)}}},b=function(k){if(g){var C=e._getClientXY(k),E=k.target;e.isMobile()&&(E=document.elementFromPoint(C.x,C.y)),C.x+=w.x*f,C.y+=w.y*f;var L=e._getOffsetXY(s.element,k),B={left:s.width()-(L.x+s.config.padding)<0,right:L.x-s.config.padding<0,up:s.height()-(L.y+s.config.padding)<0,down:L.y-s.config.padding<0};if(B.left||B.right||B.up||B.down){m.classList&&(m.classList.remove("bft-cursor-grab"),m.classList.add("bft-cursor-move"),m.classList.remove("bft-cursor-nodrop"),m.classList.remove("bft-cursor-copy"));var R=y[4],U=y[5],z=g.x,j=g.y,V=C.x,I=C.y;s.moveStart(B,function(X){y[4]=R+X.x,y[5]=U+X.y,g.x=z-X.xWithoutScale,g.y=j-X.yWithoutScale,C.x=V-X.xWithoutScale,C.y=I-X.yWithoutScale,x.setAttribute("transform","matrix("+y.toString()+")")})}else{for(s.moveEnd(),m.classList&&(m.classList.add("bft-cursor-grab"),m.classList.remove("bft-cursor-move"),m.classList.remove("bft-cursor-nodrop"),m.classList.remove("bft-cursor-copy")),_(u,p),u=null,p=null;E!=null&&E!=m;){if(E.hasAttribute&&E.hasAttribute(e.attr.node_id)){var A=E.getAttribute(e.attr.node_id);u=A,p=E;break}E=E.parentNode}if(u!=null){p.classList.add("bft-drag-over");for(var M=s.getNode(u),H=e.getStParentNodes(M),D=0;D<H.length;D++){var $=s.getNodeElement(H[D].id);$&&($.style.opacity=.1)}m.classList.remove("bft-cursor-grab"),m.classList.remove("bft-cursor-move"),m.classList.add("bft-cursor-copy"),m.classList.remove("bft-cursor-nodrop")}var K=(C.x-g.x)/f,O=(C.y-g.y)/f;y[4]=v+K,y[5]=h+O,!t._dragEventFired&&(Math.abs(C.x-g.x)>e.FIRE_DRAG_NOT_CLICK_IF_MOVE||Math.abs(C.y-g.y)>e.FIRE_DRAG_NOT_CLICK_IF_MOVE)&&(e.events.publish("drag",[s.nodeCircleMenuUI,{from:A,menuItem:a,menuItemName:l}])===!1&&S(),t._dragEventFired=!0),x.setAttribute("transform","matrix("+y.toString()+")")}}},S=function(k){if(s.moveEnd(),m.classList&&(m.classList.remove("bft-cursor-grab"),m.classList.remove("bft-cursor-move"),m.classList.remove("bft-cursor-nodrop"),m.classList.remove("bft-cursor-copy")),m.removeEventListener(i.move,b),m.removeEventListener(i.up,S),i.leave&&m.removeEventListener(i.leave,S),d.id==u||u==null)return m.removeChild(x),s._gragStartedId=null,void(t._dragEventFired&&e.events.publish("drop",[s.nodeCircleMenuUI,{from:d.id,menuItemName:l,menuItem:a,event:k}]));var C=s.getNode(u);e.events.publish("drop",[s.nodeCircleMenuUI,{from:d.id,to:C.id,menuItem:a,menuItemName:l,event:k}]),_(u,p),m.removeChild(x),s._gragStartedId=null};m.addEventListener(i.move,b),m.addEventListener(i.up,S),i.leave&&m.addEventListener(i.leave,S)}},e.prototype._nodeMouseDownHandler=function(t,n,i){var o=t.getAttribute(e.attr.node_id),l=this.getNode(o);this.config.movable&&!e.getRootOf(l).stParent?this._movableHandler(t,n,i):this.config.enableDragDrop&&this._dragDropHandler(t,n,i)},e.prototype._movableHandler=function(t,n,i){var o=this,l=t.getAttribute(e.attr.node_id),a=[],s=function(I,A){if(Array.isArray(I))for(var M=0;M<I.length;M++)s(I[M],A);else{for(A.push(I.id),M=0;M<I.stChildren.length;M++)s(I.stChildren[M],A);for(M=0;M<I.children.length;M++)s(I.children[M],A)}},c=function(I,A){if(Array.isArray(I))for(var M=0;M<I.length;M++)s(I[M],A);else{for(A.push(I.id),M=0;M<I.stChildrenIds.length;M++)c(o.getNode(I.stChildrenIds[M]),A);for(M=0;M<I.childrenIds.length;M++)c(o.getNode(I.childrenIds[M]),A)}},d=this.getNode(l);s(d,a);for(var f=this.getSvg(),u=e._getClientXY(n),p=[],m=[],g=[],x=[],y=[],v=[],h=[],w=[],_=0;_<a.length;_++){var b=this.getNode(a[_]);p.push(b),g.push({x:b.x,y:b.y});var S=this.getNodeElement(a[_]);if(S){y.push(S);var k=e._getTransform(S);x.push({x:k[4],y:k[5]}),m.push(k);var C=this.element.querySelector(`[data-ctrl-ec-id="${a[_]}"]`);if(C){v.push(C);var E=e._getTransform(C);h.push(E),w.push({x:E[4],y:E[5]})}else v.push(null),h.push(null),w.push(null);if(this.config.movable==e.movable.node)break}}t._dragEventFired=!1;var L=null,B=null;this._gragStartedId=a[0],document.body.style.mozUserSelect=document.body.style.webkitUserSelect=document.body.style.userSelect="none";var R={x:u.x,y:u.y},U=o.getScale(),z=function(I,A){if(I!=null){A.classList.remove("bft-drag-over");for(var M=o.getNode(L),H=e.getStParentNodes(M),D=0;D<H.length;D++){var $=o.getNodeElement(H[D].id);$&&($.style.opacity=1)}}},j=function(I){if(R){var A=e._getClientXY(I),M=I.target;e.isMobile()&&(M=document.elementFromPoint(A.x,A.y));var H=e._getOffsetXY(o.element,I),D={left:o.width()-(H.x+o.config.padding)<0,right:H.x-o.config.padding<0,up:o.height()-(H.y+o.config.padding)<0,down:H.y-o.config.padding<0};if(D.left||D.right||D.up||D.down){f.classList&&(f.classList.remove("bft-cursor-grab"),f.classList.add("bft-cursor-move"),f.classList.remove("bft-cursor-nodrop"),f.classList.remove("bft-cursor-copy"));for(var $=[],K=[],O=[],X=[],T=0;T<m.length;T++)$.push(m[T][4]),K.push(m[T][5]),h[T]?(O.push(h[T][4]),X.push(h[T][5])):(O.push(null),X.push(null));var ue=R.x,ye=R.y,Nn=A.x,xt=A.y;o.moveStart(D,function(ke){for(var J=0;J<m.length;J++){var bt=$[J],_t=K[J],ti=O[J],lr=X[J];m[J][4]=bt+ke.x,m[J][5]=_t+ke.y,R.x=ue-ke.xWithoutScale,R.y=ye-ke.yWithoutScale,A.x=Nn-ke.xWithoutScale,A.y=xt-ke.yWithoutScale,p[J].x=bt+ke.x,p[J].y=_t+ke.y,p[J].movex=ke.x,p[J].movey=ke.y,h[J]&&(h[J][4]=ti+ke.x,h[J][5]=lr+ke.y);for(var Le=e.ui.link(p[J],o,U,o.response.bordersByRootIdAndLevel,o.nodes,e.action.update,!0),be=0;be<Le.length;be++){var rt=Le[be];(de=o.element.querySelector(`[data-l-id="[${rt.id}][${rt.childId}]"]`))&&(de.innerHTML=rt.html)}if(p[J].parent)for(Le=e.ui.link(p[J].parent,o,U,o.response.bordersByRootIdAndLevel,o.nodes,e.action.update,!0),be=0;be<Le.length;be++){var de;rt=Le[be],(de=o.element.querySelector(`[data-l-id="[${rt.id}][${rt.childId}]"]`))&&(de.innerHTML=rt.html)}y[J].setAttribute("transform","matrix("+m[J].toString()+")"),v[J]&&v[J].setAttribute("transform","matrix("+h[J].toString()+")")}})}else{if(o.moveEnd(),f.classList&&(f.classList.add("bft-cursor-grab"),f.classList.remove("bft-cursor-move"),f.classList.remove("bft-cursor-nodrop"),f.classList.remove("bft-cursor-copy")),z(L,B),L=null,B=null,o.config.enableDragDrop)for(;M!=null&&M!=f;){if(M.hasAttribute&&M.hasAttribute(e.attr.node_id)){var Rt=M.getAttribute(e.attr.node_id);if(o._gragStartedId&&Rt!=o._gragStartedId){L=Rt,B=M;break}}M=M.parentNode}if(L!=null){B.classList.add("bft-drag-over");for(var Ke=o.getNode(L),ae=e.getStParentNodes(Ke),xe=0;xe<ae.length;xe++){var ft=o.getNodeElement(ae[xe].id);ft&&(ft.style.opacity=.1)}!o.canUpdateLink(p[0].id,L)&&f.classList?(f.classList.remove("bft-cursor-grab"),f.classList.remove("bft-cursor-move"),f.classList.remove("bft-cursor-copy"),f.classList.add("bft-cursor-nodrop")):f.classList&&(f.classList.remove("bft-cursor-grab"),f.classList.remove("bft-cursor-move"),f.classList.add("bft-cursor-copy"),f.classList.remove("bft-cursor-nodrop"))}var nt=(A.x-R.x)/U,on=(A.y-R.y)/U;for(T=0;T<m.length;T++){m[T][4]=x[T].x+nt,m[T][5]=x[T].y+on,h[T]&&(h[T][4]=w[T].x+nt,h[T][5]=w[T].y+on),p[T].x=g[T].x+nt,p[T].y=g[T].y+on,p[T].movex=nt,p[T].movey=on;var ln=e.ui.link(p[T],o,U,o.response.bordersByRootIdAndLevel,o.nodes,e.action.update,!0);for(xe=0;xe<ln.length;xe++){var pt=ln[xe];(Q=o.element.querySelector(`[data-l-id="[${pt.id}][${pt.childId}]"]`))&&(Q.innerHTML=pt.html)}}if(d.parent)if(o.config.movable==e.movable.detachTree)(Q=o.element.querySelector(`[data-l-id="[${d.parent.id}][${d.id}]"]`))&&Q.parentElement.removeChild(Q);else for(ln=e.ui.link(d.parent,o,U,o.response.bordersByRootIdAndLevel,o.nodes,e.action.update,!0),xe=0;xe<ln.length;xe++){var Q;pt=ln[xe],(Q=o.element.querySelector(`[data-l-id="[${pt.id}][${pt.childId}]"]`))&&(Q.innerHTML=pt.html)}if(!t._dragEventFired&&(Math.abs(A.x-R.x)>e.FIRE_DRAG_NOT_CLICK_IF_MOVE||Math.abs(A.y-R.y)>e.FIRE_DRAG_NOT_CLICK_IF_MOVE)){if(e.events.publish("drag",[o,l,I,a])===!1&&V(),o.config.enableDragDrop)for(T=0;T<y.length;T++)f.insertBefore(y[T],f.firstChild);t._dragEventFired=!0}for(T=0;T<m.length;T++)y[T].setAttribute("transform","matrix("+m[T].toString()+")"),v[T]&&v[T].setAttribute("transform","matrix("+h[T].toString()+")")}}},V=function(I){for(var A=0;A<p.length;A++)p[A].x=g[A].x,p[A].y=g[A].y;if(o.moveEnd(),f.classList&&(f.classList.remove("bft-cursor-grab"),f.classList.remove("bft-cursor-move"),f.classList.remove("bft-cursor-nodrop"),f.classList.remove("bft-cursor-copy")),f.removeEventListener(i.move,j),f.removeEventListener(i.up,V),i.leave&&f.removeEventListener(i.leave,V),p[0].id!=L&&L!=null){var M=o.getNode(L);if((H=e.events.publish("drop",[o,p[0].id,M.id,y[0],I]))===!1)return z(L,B),void(o._gragStartedId=null);o.canUpdateLink(p[0].id,L)?((X=o.get(p[0].id)).pid=L,X.stpid=null,o.updateNode(X,null,!0)):z(L,B),o._gragStartedId=null}else{if(t._dragEventFired){var H=e.events.publish("drop",[o,p[0].id,void 0,y[0],I]);if(o.config.movable&&H!==!1)if(o.config.movable==e.movable.detachTree){var D=e._getTransform(o.getNodeElement(d.id));(X=o.get(d.id)).pid=null,X.stpid=null,o.updateNode(X,null,!0)}else{var $=[];o.config.movable==e.movable.node?$.push(d.id):c(d,$);var K=(D=e._getTransform(o.getNodeElement(d.id)))[4]-d.x,O=D[5]-d.y;for(A=0;A<$.length;A++){var X;(X=o.get($[A]))&&(X.movex!=null?X.movex+=K:X.movex=K,X.movey!=null?X.movey+=O:X.movey=O,o.update(X))}e.events.publish("updated",[o]),o.draw(e.action.update,{dragNodeIdList:$})}}o._gragStartedId=null}};f.addEventListener(i.move,j),f.addEventListener(i.up,V),i.leave&&f.addEventListener(i.leave,V)},e.prototype._dragDropHandler=function(t,n,i){var o=e._getClientXY(n),l=t.getAttribute(e.attr.node_id),a=this.getNode(l);t._dragEventFired=!1;var s=null,c=null;this._gragStartedId=l,this.element.style.mozUserSelect=this.element.style.webkitUserSelect=this.element.style.userSelect="none";var d=this,f=this.getSvg(),u={x:o.x,y:o.y},p=e._getTransform(t),m=p[4],g=p[5],x=d.getScale(),y=t.cloneNode(!0);y.setAttribute("data-n-id","draging"),f.insertBefore(y,f.firstChild),y.style.opacity=.7;var v=function(_,b){if(_!=null){b.classList.remove("bft-drag-over");for(var S=d.getNode(s),k=e.getStParentNodes(S),C=0;C<k.length;C++){var E=d.getNodeElement(k[C].id);E&&(E.style.opacity=1)}}},h=function(_){if(u){var b=e._getClientXY(_),S=_.target;e.isMobile()&&(S=document.elementFromPoint(b.x,b.y));var k=e._getOffsetXY(d.element,_),C={left:d.width()-(k.x+d.config.padding)<0,right:k.x-d.config.padding<0,up:d.height()-(k.y+d.config.padding)<0,down:k.y-d.config.padding<0};if(C.left||C.right||C.up||C.down){f.classList&&(f.classList.remove("bft-cursor-grab"),f.classList.add("bft-cursor-move"),f.classList.remove("bft-cursor-nodrop"),f.classList.remove("bft-cursor-copy"));var E=p[4],L=p[5],B=u.x,R=u.y,U=b.x,z=b.y;d.moveStart(C,function($){p[4]=E+$.x,p[5]=L+$.y,u.x=B-$.xWithoutScale,u.y=R-$.yWithoutScale,b.x=U-$.xWithoutScale,b.y=z-$.yWithoutScale,y.setAttribute("transform","matrix("+p.toString()+")")})}else{if(d.moveEnd(),f.classList&&(f.classList.add("bft-cursor-grab"),f.classList.remove("bft-cursor-move"),f.classList.remove("bft-cursor-nodrop"),f.classList.remove("bft-cursor-copy")),v(s,c),s=null,c=null,d.config.enableDragDrop)for(;S!=null&&S!=f;){if(S.hasAttribute&&S.hasAttribute(e.attr.node_id)){var j=S.getAttribute(e.attr.node_id);if(d._gragStartedId&&j!=d._gragStartedId){s=j,c=S;break}}S=S.parentNode}if(s=="draging"&&(s=null,c=null),s!=null){c.classList.add("bft-drag-over");for(var V=d.getNode(s),I=e.getStParentNodes(V),A=0;A<I.length;A++){var M=d.getNodeElement(I[A].id);M&&(M.style.opacity=.1)}!d.canUpdateLink(a.id,s)&&f.classList?(f.classList.remove("bft-cursor-grab"),f.classList.remove("bft-cursor-move"),f.classList.remove("bft-cursor-copy"),f.classList.add("bft-cursor-nodrop")):f.classList&&(f.classList.remove("bft-cursor-grab"),f.classList.remove("bft-cursor-move"),f.classList.add("bft-cursor-copy"),f.classList.remove("bft-cursor-nodrop"))}var H=(b.x-u.x)/x,D=(b.y-u.y)/x;p[4]=m+H,p[5]=g+D,!t._dragEventFired&&(Math.abs(b.x-u.x)>e.FIRE_DRAG_NOT_CLICK_IF_MOVE||Math.abs(b.y-u.y)>e.FIRE_DRAG_NOT_CLICK_IF_MOVE)&&(e.events.publish("drag",[d,j,_])===!1&&w(),t._dragEventFired=!0),y.setAttribute("transform","matrix("+p.toString()+")")}}},w=function(_){if(d.moveEnd(),f.classList&&(f.classList.remove("bft-cursor-grab"),f.classList.remove("bft-cursor-move"),f.classList.remove("bft-cursor-nodrop"),f.classList.remove("bft-cursor-copy")),f.removeEventListener(i.move,h),f.removeEventListener(i.up,w),i.leave&&f.removeEventListener(i.leave,w),a.id==s||s==null)return t._dragEventFired&&e.events.publish("drop",[d,a.id,void 0,y,_]),f.removeChild(y),void(d._gragStartedId=null);var b=d.getNode(s);if(e.events.publish("drop",[d,a.id,b.id,y,_])===!1)return v(s,c),f.removeChild(y),void(d._gragStartedId=null);if(d.canUpdateLink(a.id,s)){var S=d.get(a.id);S.pid=s,S.stpid=null,S.movex!=null&&(S.movex=void 0),S.movey!=null&&(S.movey=void 0),d.updateNode(S,null,!0)}else f.removeChild(y),v(s,c);d._gragStartedId=null};f.addEventListener(i.move,h),f.addEventListener(i.up,w),i.leave&&f.addEventListener(i.leave,w)},e.prototype._resizeHandler=function(t,n){if(this.isVisible){var i=this.getViewBox(),o=this.getSvg(),l=o.getAttribute("width"),a=o.getAttribute("height"),s=l/i[2],c=a/i[3],d=s>c?c:s;o.setAttribute("width",this.width()),o.setAttribute("height",this.height()),i[2]=this.width()/d,i[3]=this.height()/d,this.setViewBox(i),this.xScrollUI.create(this.width()),this.yScrollUI.create(this.height()),this._draw(!1,e.action.resize)}},e.prototype._nodeDbClickHandler=function(t,n){if(e.events.publish("dbclick",[this,this.get(t)])===!1)return!1;this._commonClickHandler(t,n,this.config.nodeMouseDbClick)},e.prototype._nodeClickHandler=function(t,n){var i=this.getNodeElement(t);if(i&&i._dragEventFired)i._dragEventFired=!1;else{if(e.events.publish("click",[this,{node:this.getNode(t),event:n}])===!1)return!1;this._commonClickHandler(t,n,this.config.nodeMouseClick)}},e.prototype._nodeCircleMenuItemClickHandler=function(t,n){var i=t.parentNode.getAttribute(e.attr.control_node_circle_menu_wrraper_id),o=t.getAttribute(e.attr.control_node_circle_menu_name),l=this.nodeCircleMenuUI._menu[o];e.events.publish("click",[this.nodeCircleMenuUI,{nodeId:i,menuItemName:o,menuItem:l,event:n}])},e.prototype._nodeCircleMenuClickHandler=function(t){e.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE&&this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide();var n=this.getNode(t),i=null;if(Array.isArray(n.tags))for(var o=0;o<n.tags.length;o++){var l=n.tags[o];this.config.tags[l]&&this.config.tags[l].nodeCircleMenu&&(i=this.config.tags[l].nodeCircleMenu)}this.nodeCircleMenuUI.show(t,i)},e.prototype._commonClickHandler=function(t,n,i){var o;e.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE&&this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide(),i==e.action.expandCollapse&&this.toggleExpandCollapse(t,n),i==e.action.edit&&(o=this.getNode(t))&&(this.editUI.show(o.id),this.ripple(o.id,n.clientX,n.clientY)),i==e.action.details&&(o=this.getNode(t))&&(this.editUI.show(o.id,!0),this.ripple(o.id,n.clientX,n.clientY))},e.prototype._menuHandlerMouseDownHandler=function(t,n){n.stopPropagation(),n.preventDefault()},e.prototype._nodeMenuClickHandler=function(t,n,i){e.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE&&this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide();var o=this.getNode(t),l=null;if(Array.isArray(o.tags))for(var a=0;a<o.tags.length;a++){var s=o.tags[a];this.config.tags[s]&&this.config.tags[s].nodeMenu&&(l=this.config.tags[s].nodeMenu)}this.nodeMenuUI.showStickIn(n,t,null,l)},e.prototype._menuClickHandler=function(t,n){n.stopPropagation(),n.preventDefault(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.show(t.offsetLeft,t.offsetTop)},e.prototype._lonelyButtonHandler=function(){var t={id:this.generateId()};this.addNode(t,null,!0)!==!1&&this.center(t.id)},e.prototype.toggleExpandCollapse=function(t,n){var i=this.getNode(t),o=this.getCollapsedIds(i);if(o.length){if(e.events.publish("expcollclick",[this,!1,t,o])===!1)return!1;this.expand(t,o,!1)}else{if(e.events.publish("expcollclick",[this,!0,t,i.childrenIds])===!1)return!1;this.collapse(t,i.childrenIds,!1)}n&&this.ripple(i.id,n.clientX,n.clientY)},e.prototype._move=function(t,n,i){i[0]=n,i[1]=t,this.setViewBox(i),this.xScrollUI.setPosition(),this.yScrollUI.setPosition()},e.prototype.moveStart=function(t,n,i,o){if(t){if(!this._moveInterval){var l=this,a=this.getViewBox().slice(0),s=this.getScale(),c=0,d=0,f=1;e.isNEU(i)&&(i=e.anim.inSin),e.isNEU(o)&&(o=3e3),this._moveInterval=setInterval(function(){var u={x:0,y:0,xWithoutScale:0,yWithoutScale:0};t.left?(c++,u.x=c*e.MOVE_STEP/s,u.xWithoutScale=c*e.MOVE_STEP):t.right&&(c++,u.x=-c*e.MOVE_STEP/s,u.xWithoutScale=-c*e.MOVE_STEP),t.up?(d++,u.y=d*e.MOVE_STEP/s,u.yWithoutScale=d*e.MOVE_STEP):t.down&&(d++,u.y=-d*e.MOVE_STEP/s,u.yWithoutScale=-d*e.MOVE_STEP);var p=i((10*f-10)/o);u.x=u.x*p,u.xWithoutScale=u.xWithoutScale*p,u.y=u.y*p,u.yWithoutScale=u.yWithoutScale*p,l.setViewBox([a[0]+u.x,a[1]+u.y,a[2],a[3]]),n&&n(u),f+=1},10)}}else console.error("movePosition parameter not defined")},e.prototype.moveEnd=function(){this._moveInterval&&(clearInterval(this._moveInterval),this._moveInterval=null)},e===void 0&&(e={}),e.node=function(t,n,i,o){this.templateName=o,this.id=t,this.pid=n,this.children=[],this.childrenIds=[],this.parent=null,this.stpid=null,this.stParent=null,this.stChildren=[],this.stChildrenIds=[],this.tags=i,this.tags||(this.tags=[])},e.prototype._mouseDownHandler=function(t,n,i){var o=this;e.HIDE_EDIT_FORM_ON_PAN&&this.editUI.hide(),e.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE&&this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide();var l=this.getViewBox(),a=this.getScale(),s=e._getClientTouchesXY(n,0),c=e._getClientTouchesXY(n,1),d={diffX:0,diffY:0,x0:s.x,y0:s.y,type:"pan",viewBoxLeft:l[0],viewBoxTop:l[1]};n.touches&&n.touches.length>1&&(d.type="pinch",d.dist=Math.sqrt((s.x-c.x)*(s.x-c.x)+(s.y-c.y)*(s.y-c.y))),d.type=="pan"&&(this._hideBeforeAnimation(),this._changeCursorOnPanStart(l,a,n));var f=function(p){var m=e._getClientTouchesXY(p,0);if(d&&d.type=="pan"){o._hideBeforeAnimation(),d.diffX=m.x-d.x0,d.diffY=m.y-d.y0;var g=-d.diffY/a+d.viewBoxTop,x=-d.diffX/a+d.viewBoxLeft;o._move(g,x,l)}else if(d&&d.type=="pinch"){var y=e._getClientTouchesXY(p,1),v=Math.sqrt((m.x-y.x)*(m.x-y.x)+(m.y-y.y)*(m.y-y.y)),h=1+(v-d.dist)/(d.dist/100)/100;d.dist=v;var w=e._pinchMiddlePointInPercent(o.element,o.width(),o.height(),p);o.zoom(h,w)}},u=function(){d.type=="pan"&&o.config.sticky?setTimeout(function(){e._moveToBoundaryArea(t,o.getViewBox(),o.response.boundary,function(){o._draw(!0,e.action.pan)})},0):d.type!="pan"||o.config.sticky||setTimeout(function(){o._draw(!0,e.action.pan)},0),d.type=="pan"&&o._changeCursorOnPanEnd(),d=null,t.removeEventListener(i.move,f),t.removeEventListener(i.up,u),i.leave&&t.removeEventListener(i.leave,u),i.touchstart&&t.removeEventListener(i.touchstart,u)};this.config.enablePan&&(t.addEventListener(i.move,f),t.addEventListener(i.up,u),i.leave&&t.addEventListener(i.leave,u),i.touchstart&&t.addEventListener(i.touchstart,u))},e.prototype._changeCursorOnPanStart=function(t,n,i){var o=this.getPointerElement(),l=e._getOffsetXY(this.element,i),a=l.x/n+t[0]-16/n,s=l.y/n+t[1]-16/n;o.style.display="inherit",o.setAttribute("transform","matrix(0,0,0,0,"+a+","+s+")"),e.animate(o,{transform:[0,0,0,0,a,s],opacity:0},{transform:[1/n,0,0,1/n,a,s],opacity:1},300,e.anim.outBack)},e.prototype._changeCursorOnPanEnd=function(){this.getPointerElement().style.display="none"},e.searchUI=function(){this.lastSearch=[],this._searchAfterEnterPress=!1,this._event_id=e._guid(),this.instance=null},e.searchUI.prototype.init=function(t){this.instance=t,this.obj=this.instance,this._initSearchFields();var n=this,i=this.instance.config.padding-10,o=this.instance.config.padding-10,l=this.instance.getMenuButton();if(l){var a=l.getBoundingClientRect(),s=this.instance.getSvg().getBoundingClientRect();i=s.right-a.left+10,o=a.top-s.top-10}var c=document.createElement("div");c.classList.add("bft-search"),c.style.right=i+"px",c.style.top=o+"px";var d=e.elements.textbox({},{label:e.SEARCH_PLACEHOLDER,btn:"X"},"320px");c.innerHTML+=d.html,this.xBtn=c.querySelector("[data-input-btn]"),this.xBtn.style.display="none",this.searchTableWrapper=document.createElement("div"),c.appendChild(this.searchTableWrapper);var f=this.instance.getSvg().nextSibling;this.instance.element.insertBefore(c,f),e.input.init(c),this.input=document.getElementById(d.id),this.xBtn.addEventListener("click",function(m){m.preventDefault(),n.hide()}),this.input.addEventListener("keypress",function(m){m.key=="Enter"&&m.preventDefault()}),this.input.addEventListener("focus",function(m){n.xBtn.style.display="",n._search()}),this.input.addEventListener("blur",function(m){e.isNEU(n.input.value)&&e.SEARCH_HELP_SYMBOL!=n.input.value&&(n.xBtn.style.display="none")}),this.input.addEventListener("keydown",function(m){(m.key=="ArrowDown"||m.key=="ArrowUp")&&m.preventDefault()}),this.input.addEventListener("keyup",function(m){m.key=="ArrowDown"?u():m.key=="ArrowUp"?p():m.key=="Enter"?n._enterHandler():m.key=="Escape"?n.hide():this.value.length>=e.MINIMUM_SYMBOLS_IN_SEARCH_INPUT&&n._search()});var u=function(){var m=n.instance.element.querySelectorAll("[data-search-item-id]"),g=n.instance.element.querySelector('[data-selected="yes"]');g==null&&m.length>0?m[0].setAttribute("data-selected","yes"):m.length>0&&g.nextSibling&&g.nextSibling.setAttribute&&(g.removeAttribute("data-selected"),g.nextSibling.setAttribute("data-selected","yes"))},p=function(){var m=n.instance.element.querySelectorAll("[data-search-item-id]"),g=n.instance.element.querySelector('[data-selected="yes"]');g==null&&m.length>0?m[m.length-1].setAttribute("data-selected","yes"):m.length>0&&g.previousSibling&&g.previousSibling.setAttribute&&(g.removeAttribute("data-selected"),g.previousSibling.setAttribute("data-selected","yes"))}},e.searchUI.prototype._enterHandler=function(){var t=this.instance.element.querySelector('[data-selected="yes"]');if(t){if(t.hasAttribute("data-search-item-id")){var n=t.getAttribute("data-search-item-id");if(this.input.value!=e.SEARCH_HELP_SYMBOL){var i=e.events.publish("",[this.instance,n]),o=e.events.publish("searchclick",[this,{nodeId:n}]);i===!1&&(o=!1),o!=0&&this.instance.center(n)}else this.input.value=n+" ",this.searchTableWrapper.innerHTML=""}}else this._searchAfterEnterPress=!0,this.__search(),this.searchTableWrapper.innerHTML="",this.instance.draw()},e.searchUI.prototype._initSearchFields=function(){if(this.instance.config.searchFields==null){this._searchFields=[];for(var t=0;t<this.instance.response.allFields.length;t++){var n=this.instance.response.allFields[t];n=="tags"||e._fieldIsImg(this.instance.config,n)||this._searchFields.indexOf(n)==-1&&this._searchFields.push(n)}}else this._searchFields=this.instance.config.searchFields;if(this.instance.config.searchFieldsAbbreviation==null)for(this.searchFieldsAbbreviation={},t=0;t<this._searchFields.length;t++){for(var i=this._searchFields[t],o=0,l=i.slice(0,o+1).toLowerCase();this.searchFieldsAbbreviation[l];)o++,l=i.slice(0,o+1).toLowerCase();this.searchFieldsAbbreviation[l]=i}else this.searchFieldsAbbreviation=this.instance.config.searchFieldsAbbreviation;this._searchFieldsAbbreviation=this.searchFieldsAbbreviation},e.searchUI.prototype.find=function(t){this.input&&(this.input.value=t,document.activeElement==this.input?this._search(t):this.input.focus())},e.searchUI.prototype.addMatchTag=function(t){if(this._searchAfterEnterPress){for(var n=0;n<this.lastSearch.length;n++)if(this.lastSearch[n].id==t)return!0;return!1}return null},e.searchUI.prototype.__search=function(){this.lastSearch=e._search.search(this.instance.config.nodes,this.input.value,this._searchFields,this._searchFields,this.instance.config.searchDisplayField,this.instance.config.searchFieldsWeight,this.searchFieldsAbbreviation)},e.searchUI.prototype._search=function(){var t,n=this;if(this._searchAfterEnterPress=!1,this.input.value==e.SEARCH_HELP_SYMBOL)t=this.helpView();else{this.__search();var i=e._getFistImgField(this.instance.config);t=`<table border="0" cellspacing="0" cellpadding="0">
                        <tbody>
                            ${function(){for(var a="",s=0;s<n.lastSearch.length&&!(s>=e.SEARCH_RESULT_LIMIT);s++){var c=n.lastSearch[s],d="";if(i){var f=n.instance._get(c.id);typeof i=="function"?d=i(n.instance,n.instance.getNode(c.id),f):f[i]&&(d=f[i])}var u="",p="";n.instance.config.searchDisplayField==c.__searchField?u=c.__searchMarks:n.instance.config.searchDisplayField?(u=c[n.instance.config.searchDisplayField],e.isNEU(u)&&(u=""),p=c.__searchMarks):u=c.__searchMarks;var m={img:d,nodeId:c.id,first:u,second:p,searchItem:c,html:e.searchUI.createItem(d,c.id,u,p)};e.events.publish("add-item",[n,m]),a+=m.html}return a}()}  
                        </tbody>
                    </table>`}this.searchTableWrapper.innerHTML=t;for(var o=this.instance.element.querySelectorAll("[data-search-item-id]"),l=0;l<o.length;l++)o[l].addEventListener("click",function(){if(this.hasAttribute("data-search-item-id")){var a=this.getAttribute("data-search-item-id");if(n.input.value!=e.SEARCH_HELP_SYMBOL){var s=e.events.publish("searchclick",[n.instance,a]),c=e.events.publish("searchclick",[n,{nodeId:a}]);if(s===!1&&(c=!1),c!==!1){n.instance.center(this.getAttribute("data-search-item-id"));var d=n.instance.element.querySelector('[data-selected="yes"]');d&&d.removeAttribute("data-selected"),this.setAttribute("data-selected","yes"),n.input.focus()}}else n.input.value=a+" ",n.searchTableWrapper.innerHTML="",n.input.focus()}});e.events.publish("show-items",[this,{}])},e.searchUI.prototype.helpView=function(){var t='<table border="0" cellspacing="0" cellpadding="0">';for(var n in this.searchFieldsAbbreviation)t+=`<tr data-search-item-id="${n}" style="height: 50px;"><td class="bft-search-image-td" style="text-align: center;">${n}</td><td class="bft-search-text-td">${this.searchFieldsAbbreviation[n]}</td></tr>`;return t+="</table>"},e.searchUI.createItem=function(t,n,i,o){return i&&(i="<b>"+i+"</b>"),`<tr data-search-item-id="${n}">
                <td class="bft-search-image-td">
                    ${t=t?`<div class="bft-search-photo" style="background-image: url(${t})"></div>`:`<div class="bft-search-photo">${e.icon.user(32,32,"#aeaeae")}</div>`}
                </td>
                <td class="bft-search-text-td">${i} <br/>${o}</td>
            </tr>`},e.searchUI.prototype.hide=function(){if(e.events.publish("hide",[this])===!1)return!1;this._searchAfterEnterPress&&(this._searchAfterEnterPress=!1,this.instance.draw()),this.lastSearch=[],this.xBtn&&(this.xBtn.style.display="none"),this.searchTableWrapper&&(this.searchTableWrapper.innerHTML=""),this.input&&(this.input.value="",document.activeElement==this.input&&this.input.blur(),document.activeElement==this.xBtn&&e.input.blurHandler(this.input))},e.searchUI.prototype.on=function(t,n){return e.events.on(t,n,this._event_id),this},e===void 0&&(e={}),e.manager=function(t){this.config=t.config,this.layoutConfigs=t._layoutConfigs,this.visibleNodeIds=[],this.viewBox=null,this.action=null,this.actionParams=null,this.nodes={},this.oldNodes={},this.maxX=null,this.maxY=null,this.minX=null,this.minY=null,this.bordersByRootIdAndLevel=null,this.roots=null,this.state=null,this.vbIsInitializedFromState=!1,this.rootList=[],this.instance=t,this._fixAdjustForExport={x:0,y:0}},e.manager.prototype.read=function(t,n,i,o,l,a,s,c){var d=this;e.state._get(this.config.state,n,i,function(f){d.state=f,d.action=l,d.actionParams=a,l!=e.action.init||!d.state||a&&a.method&&a.method=="fit"?(d.viewBox=o,d.vbIsInitializedFromState=!1):(d.viewBox=d.state.vb,d.vbIsInitializedFromState=!0,Array.isArray(d.state.roots)&&(d.config.roots=d.state.roots));var u=d.maxX,p=d.maxY,m=d.minX,g=d.minY,x=d.bordersByRootIdAndLevel,y=d.roots,v=d.nodes;if(t){var h=e.manager._getResponse(n,i,d.visibleNodeIds,d.config,u,p,m,g,d.viewBox,y,d.action,d.actionParams,v,d.oldNodes,d.vbIsInitializedFromState);l!=e.action.exporting&&(d.maxX=u,d.maxY=p,d.minX=m,d.minY=g,d.roots=y,d.nodes=v,d.visibleNodeIds=h.visibleNodeIds),h.bordersByRootIdAndLevel=x,h.roots=y,h.adjustify={x:0,y:0},d.state&&(h.adjustify=d.state.adjustify),s(h)}else d.oldNodes=v||null,d._read(function(w){u=w.maxX,p=w.maxY,m=w.minX,g=w.minY,x=w.bordersByRootIdAndLevel,y=w.roots,v=w.nodes;var _=e.manager._getResponse(n,i,d.visibleNodeIds,d.config,u,p,m,g,d.viewBox,y,d.action,d.actionParams,v,d.oldNodes,d.vbIsInitializedFromState);_.notif=w.limit,_.roots=y,_.bordersByRootIdAndLevel=x,_.adjustify=w.adjustify,l!=e.action.exporting&&(d.maxX=u,d.maxY=p,d.minX=m,d.minY=g,d.roots=y,d.nodes=v,d.visibleNodeIds=_.visibleNodeIds,d.bordersByRootIdAndLevel=x,d.rootList=w.rootList),s(_)},c)})},e.manager.prototype._read=function(t,n){var i=this,o=e.manager._createNodes(this.instance);n(o);var l=o.nodes,a=o.roots,s=e.remote;s==null&&(s=e.local),s._setPositions(a,i.layoutConfigs,function(c){var d=e.manager._doNotChangePositionOfClickedNodeIfAny(a,l,i.action,i.actionParams,i.oldNodes,i.config.orientation);i.state&&i.action==e.action.init&&(d=i.state.adjustify),i.action==e.action.exporting?d=i._fixAdjustForExport:i._fixAdjustForExport=d;for(var f={minX:null,minY:null,maxX:null,maxY:null},u={},p=[],m=0;m<a.length;m++)e.manager._setMinMaxXYAdjustifyIterate(a[m],a[m],f,0,u,d,i.config.orientation,p);for(var g in p)for(var x in p[g]){var y=u[g][x],v=p[g][x];y.minX==null&&y.minY==null&&y.maxX==null&&y.maxY==null&&e._setMinMaxXY(v,y)}t({minX:f.minX,minY:f.minY,maxX:f.maxX,maxY:f.maxY,bordersByRootIdAndLevel:u,nodes:l,roots:a,rootList:o.rootList,limit:c,adjustify:d})},l)},e===void 0&&(e={}),e.manager._initDinamicNode=function(t,n,i){n&&(t.lcn=n),i&&(t.isAssistant=!0);var o=e.t(t.templateName);t.w=o&&o.size?o.size[0]:0,t.h=o&&o.size?o.size[1]:0,t.isSplit=t.templateName=="split",t.isMirror=t.templateName=="mirror",t.isSubLevel=t.templateName=="subLevel"},e.manager._setCollpasedProperty=function(t,n,i,o,l,a,s){t.collapsed==null&&n.collapse&&n.collapse.allChildren?t.collapsed=!0:t.collapsed==null&&(t.collapsed=!1),l==e.action.expand&&i.ids.indexOf(t.id)!=-1&&(t.collapsed=!1),l==e.action.collapse&&(i.expandIds||i.collapseIds)?i.expandIds&&i.expandIds.indexOf(t.id)!=-1?t.collapsed=!1:i.collapseIds&&i.collapseIds.indexOf(t.id)!=-1&&(t.collapsed=!0):l==e.action.collapse&&i.ids.indexOf(t.id)!=-1&&(t.collapsed=!0),l==e.action.expand&&i.ids=="all"&&(t.collapsed=!1),l==e.action.exporting&&i.expandChildren&&(t.collapsed=!1),l==e.action.init&&s!=null?t.collapsed=!s.exp.has(t.id):l==e.action.init?t.tags.indexOf("left-partner")!=-1||t.tags.indexOf("right-partner")!=-1||t.tags.indexOf("partner")!=-1||t.parentPartner?t.collapsed=n.collapse&&a>=n.collapse.level&&o.indexOf(t.id)==-1:t.collapsed=n.collapse&&a>=n.collapse.level-1&&o.indexOf(t.id)==-1:l==e.action.centerNode||l==e.action.insert||l==e.action.expand||l==e.action.collapse?o.has(t.id)&&(t.collapsed=!1):l==e.action.update&&i&&i.changeRoots&&i.changeRoots.has(t.id)&&(t.collapsed=!1)},e.manager._initNode=function(t,n,i,o,l,a,s){var c=s.manager.config,d=s.manager.layoutConfigs,f=s.manager.action,u=s.manager.actionParams,p=s.manager.state,m=d[i||"base"];t.parent==null&&e.manager._setCollpasedProperty(t,m,u,l,f,o-1,p);for(var g=0;g<t.childrenIds.length;g++){var x=n[t.childrenIds[g]];if(e.manager._setCollpasedProperty(x,m,u,l,f,o,p),!x.collapsed){if(x.parent=t,x.ppid!=null){var y=n[x.ppid];y&&(x.parentPartner=y)}(x.tags.indexOf("left-partner")!=-1||x.tags.indexOf("right-partner")!=-1||x.tags.indexOf("partner")!=-1||x.parentPartner)&&a.indexOf(t.id)==-1&&a.push(t.id),t.children.push(x)}}if(f!=e.action.minimize||t.min?f==e.action.maximize&&t.min===!0?(u.all||u.id==t.id)&&(t.min=!1):f==e.action.exporting&&u.min===!1?t.min=!1:f==e.action.init&&p!=null&&(t.min=p.min.has(t.id)):(u.all||u.id==t.id)&&(t.min=!0),!t.min)for(g=0;g<t.stChildrenIds.length;g++)x=n[t.stChildrenIds[g]],t.tags&&t.tags.has("filter")||(x.stParent=t,t.stChildren.push(x));o!=null&&(t.level=o),i&&(t.lcn=i);var v=e._getSubLevels(t.tags,c.tags);v>0&&(t.subLevels=v),t.tags.indexOf("assistant")!=-1&&t.parent!=null&&(t.isAssistant=!0);var h=e.t(t.templateName,t.min);t.w=h&&h.size?h.size[0]:0,t.h=h&&h.size?h.size[1]:0,t.padding=h&&h.padding?h.padding:[0,0,0,0];var w={node:t};e.events.publish("node-initialized",[s,w])},e.manager._iterate=function(t,n,i,o,l,a,s,c,d,f,u,p){var m=p.manager.layoutConfigs;if(e.manager._initNode(n,i,d,o,f,u,p),n.isAssistant&&(a[n.pid]||(a[n.pid]=[]),a[n.pid].push(n.id)),n.subLevels>0&&s.push(n.id),e.MIXED_LAYOUT_FOR_NODES_WITH_COLLAPSED_CHILDREN&&!n.isAssistant&&n.parent){if(n.parent&&n.parent.children.length&&n.parent.children[n.parent.children.length-1]==n){for(var g=[],x=0,y=0,v=0;v<n.parent.children.length;v++)(h=n.parent.children[v]).tags.indexOf("partner")==-1&&h.tags.indexOf("left-partner")==-1&&h.tags.indexOf("right-partner")==-1&&h.tags.indexOf("assistant")==-1&&h.children.length==0?g.push(h.id):h.tags.indexOf("assistant")!=-1?x++:h.tags.indexOf("partner")==-1&&h.tags.indexOf("left-partner")==-1&&h.tags.indexOf("right-partner")==-1||y++;(e.MIXED_LAYOUT_ALL_NODES&&g.length>1&&g.length==n.parent.children.length-x-y||!e.MIXED_LAYOUT_ALL_NODES&&g.length>1)&&(c[n.pid]=g)}}else if(!n.isAssistant&&n.childrenIds.length==0&&n.parent&&!c[n.pid]){for(g=[],x=0,y=0,v=0;v<n.parent.children.length;v++){var h;(h=n.parent.children[v]).tags.indexOf("partner")==-1&&h.tags.indexOf("left-partner")==-1&&h.tags.indexOf("right-partner")==-1&&h.tags.indexOf("assistant")==-1&&h.childrenIds.length==0?g.push(h.id):h.tags.indexOf("assistant")!=-1?x++:h.tags.indexOf("partner")==-1&&h.tags.indexOf("left-partner")==-1&&h.tags.indexOf("right-partner")==-1||y++}(e.MIXED_LAYOUT_ALL_NODES&&g.length>e.MIXED_LAYOUT_IF_NUMBER_OF_CHILDREN_IS_MORE_THEN&&g.length==n.parent.childrenIds.length-x-y||!e.MIXED_LAYOUT_ALL_NODES&&g.length>e.MIXED_LAYOUT_IF_NUMBER_OF_CHILDREN_IS_MORE_THEN)&&(c[n.pid]=g)}n.stChildren.length&&(t.stContainerNodes||(t.stContainerNodes=[]),t.stContainerNodes.push(n));for(var w=0;w<n.stChildren.length;w++){var _="";for(v=0;v<n.tags.length;v++)if(m[n.tags[v]]){_=n.tags[v];break}l.push(n.stChildren[w].id),e.manager._iterate(t,n.stChildren[w],i,0,l,a,s,c,_,f,u,p)}for(o++,w=0;w<n.children.length;w++)e.manager._iterate(t,n.children[w],i,o,l,a,s,c,d,f,u,p)},e.manager.__createNodes=function(t,n,i,o,l,a,s,c){for(var d=[],f=e._addDottedLines(i),u=0;u<f.length;u++){var p,m=f[u];p=e.STRING_TAGS?m.tags?m.tags.split(","):[]:Array.isArray(m.tags)?m.tags.slice(0):[],c.filterUI.addFilterTag(m)&&p.unshift("filter");var g=c.searchUI.addMatchTag(m.id);g===!0?p.unshift("match"):g===!1&&p.unshift("no-match");var x=e._getTemplate(p,i.tags,i.template),y=new e.node(m.id,m.pid,p,x);e.isNEU(m.ppid)||(y.ppid=m.ppid),e.isNEU(m.stpid)||(y.stpid=m.stpid),i.orderBy!=null&&(y.order=e.manager._getOrderFieldValue(m,i.orderBy)),m.movex!=null&&(y.movex=m.movex),m.movey!=null&&(y.movey=m.movey),t[m.id]=y,d.push(m.id)}for(i.orderBy!=null&&d.sort(function(S,k){var C=t[S].order,E=t[k].order;return typeof C=="number"||typeof E=="number"?(C==null&&(C=-1),E==null&&(E=-1),i.orderBy.desc?E-C:C-E):typeof C=="string"||typeof E=="string"?(C==null&&(C=""),E==null&&(E=""),i.orderBy.desc?E.localeCompare(C):C.localeCompare(E)):void 0}),u=0;u<d.length;u++){var v=d[u],h=(y=t[v],a?a[v]:null),w=t[y.stpid],_=t[y.pid];if(w||(y.stpid=null),_||(y.pid=null),w){var b=a?a[w.id]:null;b&&(w.min=b.min),w.stChildrenIds.push(y.id)}else _?(h&&(y.collapsed=h.collapsed,y.min=h.min),_.childrenIds.push(y.id)):(h&&(y.collapsed=h.collapsed,y.min=h.min),n.push(y),s.push(y.id));o==e.action.init&&(y.min=e._getMin(y,i))}},e.manager._createNodes=function(t){var n=t.manager.config,i=t.manager.layoutConfigs,o=t.manager.action,l=t.manager.actionParams,a=t.manager.oldNodes,s=t.manager.state,c={},d=[],f=[];if(e.manager.__createNodes(c,d,n,o,l,a,f,t),n.roots!=null){d=[];for(var u=0;u<n.roots.length;u++){var p=c[n.roots[u]];if(p&&o==e.action.centerNode){for(var m=p;m.pid!=null||m.stpid!=null;)m=m.pid==null&&m.stpid!=null?c[m.stpid]:c[m.pid];for(var g=c[l.id];(g.pid!=null||g.stpid!=null)&&g!=p;)g=g.pid==null&&g.stpid!=null?c[g.stpid]:c[g.pid];m==g&&(p=m)}if(p){for(var x=!1,y=0;y<d.length;y++)if(d[y].id==p.id){x=!0;break}x||(e.isNEU(p.pid)||(sn=(w=c[p.pid]).childrenIds.indexOf(p.id))>-1&&w.childrenIds.splice(sn,1),d.push(p))}}for(n.roots=[],u=0;u<d.length;u++)n.roots.push(d[u].id)}o==e.action.exporting&&l.id!=null&&(h=c[l.id])&&(h.pid=null,d=[h]);var v=[];if(o==e.action.init&&n.expand&&n.expand.nodes&&s==null)for(u=0;u<n.expand.nodes.length;u++){var h=c[n.expand.nodes[u]];for(n.expand.allChildren===!0&&e.manager._addExpandedNodeIdsIterate(h,c,v);h;)v.push(h.id),h.pid==null&&h.stpid!=null?(h=c[h.stpid]).min=!1:h=c[h.pid]}else if(o==e.action.expand&&l.ids&&l.ids!="all"||o==e.action.collapse&&l&&l.expandIds)for(J=o==e.action.expand?l.ids:l.expandIds,u=0;u<J.length;u++)for(var w=c[(h=c[J[u]]).pid];w;)v.push(w.id),w.pid==null&&w.stpid!=null?(w=c[w.stpid]).min=!1:w=c[w.pid];else if(o==e.action.centerNode){for(var _=c[l.id];_;){if(v.push(_.id),l.options.parentState===e.COLLAPSE_PARENT_NEIGHBORS&&_)for(u=0;u<_.childrenIds.length;u++)(O=c[_.childrenIds[u]]).collapsed=!0;_.pid==null&&_.stpid!=null?(_=c[_.stpid]).min=!1:_=c[_.pid]}if(_=c[l.id],l.options.childrenState===e.COLLAPSE_SUB_CHILDRENS)for(u=0;u<_.childrenIds.length;u++){(S=c[_.childrenIds[u]]).collapsed=!1;for(var b=0;b<S.childrenIds.length;b++)c[S.childrenIds[b]].collapsed=!0}if(l.options.parentState===e.COLLAPSE_PARENT_SUB_CHILDREN_EXCEPT_CLICKED&&(w=c[_.pid]))for(u=0;u<w.childrenIds.length;u++){var S;if((S=c[w.childrenIds[u]])!=_)for(S.collapsed=!1,b=0;b<S.childrenIds.length;b++)c[S.childrenIds[b]].collapsed=!0}}else if(o==e.action.insert)for(h=c[l.insertedNodeId];h;)v.push(h.id),h.pid==null&&h.stpid!=null?(h=c[h.stpid]).min=!1:h=c[h.pid];var k=[],C={},E=[],L={},B=[];for(u=0;u<d.length;u++)e.manager._iterate(d[u],d[u],c,0,k,C,E,L,"",v,B,t);if(o==e.action.collapse&&l&&Array.isArray(l.expandIds)&&Array.isArray(l.collapseIds))for(u=0;u<l.ids.length;u++)l.expandIds.has(l.collapseIds[u])?console.error(`id ${l.collapseIds[u]} exist in both collapseIds and expandIds`):(h=c[l.collapseIds[u]])&&(h.collapsed=!0);for(u=d.length-1;u>=0;u--)d[u].collapsed&&d.splice(u,1);for(u=0;u<B.length;u++){h=c[B[u]];var R=[],U=[],z=[],j={},V=0,I=0,A=0,M=[],H=[];for(b=0;b<h.children.length;b++)(O=h.children[b]).isAssistant?R.push(O.id):O.tags.indexOf("right-partner")!=-1?(O.isPartner=1,O.children=[],U.push(O.id)):O.tags.indexOf("left-partner")!=-1?(O.isPartner=2,O.children=[],z.push(O.id)):O.tags.indexOf("partner")==-1||V%2?O.tags.indexOf("partner")!=-1&&V%2?(O.isPartner=2,O.children=[],z.push(O.id),V++):O.parentPartner?(j[O.parentPartner.id]||(j[O.parentPartner.id]=[]),j[O.parentPartner.id].push(O.id)):R.push(O.id):(O.isPartner=1,O.children=[],U.push(O.id),V++);h.children=[];var D=[];for(b=0;b<U.length;b++){j[(O=c[U[b]]).id]?h.children.push(O):h.children.splice(0,0,O);for(var $=0;$<O.childrenIds.length;$++)D.push(O.childrenIds[$])}var K=[];for(b=0;b<z.length;b++)for(j[(O=c[z[b]]).id]?h.children.push(O):h.children.splice(0,0,O),$=0;$<O.childrenIds.length;$++)K.push(O.childrenIds[$]);for(b=0;b<K.length;b++)(O=c[K[b]]).collapsed||(O.parentPartner=O.parent,O.parent=h,O.isChildOfPartner=!0,h.children.push(O));for(b=z.length-1;b>=0;b--)if(j[z[b]])for(y=0;y<j[z[b]].length;y++)h.children.push(c[j[z[b]][y]]),I++,H.indexOf(z[b])==-1&&H.push(z[b]);for(b=0;b<R.length;b++){var O=c[R[b]];h.children.push(O)}for(b=0;b<U.length;b++)if(j[U[b]])for(y=0;y<j[U[b]].length;y++)h.children.push(c[j[U[b]][y]]),A++,M.indexOf(U[b])==-1&&M.push(U[b]);for(b=0;b<D.length;b++)(O=c[D[b]]).collapsed||(O.parentPartner=O.parent,O.parent=h,O.isChildOfPartner=!0,h.children.push(O));h.partnerSeparation=Math.max(H.length,M.length)*n.partnerChildrenSplitSeparation+n.minPartnerSeparation,R.length||!I||A?R.length||I||!A?R.length||I!=1||A!=1?R.length||I||A?!R.length||I||A?R.length&&(I||A)?h.hasPartners=7:h.hasPartners=1:h.hasPartners=6:h.hasPartners=5:h.hasPartners=4:h.hasPartners=3:h.hasPartners=2}for(u=0;u<E.length;u++){var X=i[(h=c[E[u]]).lcn?h.lcn:"base"];for(b=0;b<h.subLevels;b++){var T=new e.node(h.id+"_sub_level_index_"+b,h.pid,[],"subLevel");e.manager._initDinamicNode(T,h.lcn),(w=h.parent)&&((sn=w.children.indexOf(h))>-1&&(w.children.splice(sn,1),w.children.splice(sn,0,T)),T.children.push(h),T.parent=w,h.parent=T,c[T.id]=T)}}for(var ue in C){(w=c[ue]).hasAssistants=!0,T=new e.node(w.id+"_split_assitant_0",w.id,["assistant"],"split"),e.manager._initDinamicNode(T,w.lcn,!0),c[T.id]=T;var ye=[];for(b=w.children.length-1;b>=0;b--)(O=w.children[b]).isAssistant?(O.parent=null,w.children.splice(b,1),ye.splice(0,0,O.id)):O.isPartner||(O.parent&&L[O.parent.id]&&T&&O.parent.id!=T.id&&(Object.defineProperty(L,T.id,Object.getOwnPropertyDescriptor(L,O.parent.id)),delete L[O.parent.id]),O.parent=T,T.children.unshift(O),w.children.splice(b,1));if(ye.length%2){var Nn=c[ye[ye.length-1]],xt=new e.node(Nn.id+"_mirror",w.pid,[],"mirror");e.manager._initDinamicNode(xt,Nn.lcn,!0),xt.isAssistant=!0,xt.w=Nn.w,xt.h=Nn.h,c[xt.id]=xt,ye.splice(ye.length-1,0,xt.id)}var Rt=1;for(b=ye.length-1;b>=0;b--)if(b%2&&b!=ye.length-1){var Ke=new e.node(w.id+"_split_assitant_"+Rt,w.pid,[],"split");e.manager._initDinamicNode(Ke,w.lcn,!0),c[Ke.id]=Ke,ye.splice(b,0,Ke.id),Rt++}else b%2&&ye.splice(b,0,T.id);for(b=0;b<ye.length;b+=3){var ae=null;ae=b==0?w:c[ye[b-2]];var xe=c[ye[b]],ft=c[ye[b+1]],nt=c[ye[b+2]];xe.parent=ae,ft.parent=ae,nt.parent=ae,ae.children.push(xe),ae.children.push(ft),ae.children.push(nt)}}var on=!1;for(var ln in i)if((X=i[ln]).layout!=0){on=!0;break}var pt=e.events.has("node-layout",t._event_id);if(on||pt){var Q={nodes:c,config:n,action:o,actionParams:l};if(E.length){var ke=!1;for(var ue in L){var J=L[ue];for(u=0;u<J.length;u++)if((h=c[J[u]]).subLevels){ke=!0;break}if(ke)break}if(ke){var bt={},_t={},ti={};for(var ue in L){J=L[ue];var lr=!1,Le=null;for(u=0;u<J.length;u++){var be=J[u];(Le===null||E.has(be))&&(Le=c[be].parent.id,lr||e.isNEU(c[be].subLevels)||(lr=c[be].subLevels>0)),bt[Le]||(bt[Le]=[]),bt[Le].push(be),lr&&(ti[Le]=ue,_t[Le]||(_t[Le]=[]),_t[Le].push(be))}}for(var ue in L={},_t)if(_t[ue].length>e.MIXED_LAYOUT_IF_NUMBER_OF_CHILDREN_IS_MORE_THEN){var rt=ti[ue];for(u=c[rt].children.length-1;u>=0;u--)O=c[rt].children[u],_t[ue].has(O.id)&&c[rt].children.splice(u,1)}for(var ue in bt)bt[ue].length>e.MIXED_LAYOUT_IF_NUMBER_OF_CHILDREN_IS_MORE_THEN&&(L[ue]=bt[ue])}}for(var ue in L){for(var de=w=c[ue];de.isSplit;)de=c[de.pid];for(;de.isSubLevel;)de=c[de.pid];if((X=i[w.lcn?w.lcn:"base"]).layout!=0||pt){Q.pnode=w,Q.layout=X.layout,Q.layoutGridColumns=n.layoutGridColumns,Q.childrenIds=L[ue],Q.lastChildrenPidIds=L,Q.subLevels=0,Q.layouts=[],e.events.publish("node-layout",[t,Q]),e.events.publish("layout",[Q]),Q.layouts.length||Q.layouts.push({layout:Q.layout,childrenIds:Q.childrenIds,subLevels:Q.subLevels,layoutGridColumns:Q.layoutGridColumns});for(var an=0;an<Q.layouts.length;an++){var W=Q.layouts[an];for(e.isNEU(W.subLevels)&&(W.subLevels=0),e.isNEU(W.layout)&&(W.layout=X.layout),de=w=c[ue];de.isSplit;)de=c[de.pid];for(;de.isSubLevel;)de=c[de.pid];var Pt=w;for(b=0;b<W.subLevels;b++)T=new e.node(an+"_sublevel_layout_"+b,Pt.id,[],"subLevel"),e.manager._initDinamicNode(T,Pt.lcn),T.parent=Pt,Pt.children.push(T),c[T.id]=T,Pt=T;if(W.subLevels){for(b=0;b<W.childrenIds.length;b++){var sn;O=c[W.childrenIds[b]],(sn=w.children.indexOf(O))!=-1&&w.children.splice(sn,1),O.parent=Pt,Pt.children.push(O)}w=Pt}if(W.layout==e.layout.grid&&W.childrenIds.length>2){W.layoutGridColumns=="dynamic"&&(W.layoutGridColumns=e._getDynamicGridCoulumns(W.childrenIds.length));var In=w.id;for(u=w.children.length-1;u>=0;u--)for(b=0;b<W.childrenIds.length;b++)if(be=W.childrenIds[b],w.children[u].id==be){w.children.splice(u,1);break}var Ut=W.layoutGridColumns;for(Ut%2!=0&&Ut>2&&Ut--,u=0;u<W.childrenIds.length;u+=Ut){var dn=null;for(b=0;b<Ut;b++){var u1=u+Ut>=W.childrenIds.length;if(W.childrenIds.length-1<u+b)break;(O=c[be=W.childrenIds[u+b]]).parent=c[In],c[In].children.push(O),u1||(Ut/2-1==b&&(dn=new e.node(W.childrenIds[u+b-1]+"_grid_pseudo_node_"+W.childrenIds[u+b+1],In,[],"subLevel"),e.manager._initDinamicNode(dn,w.lcn),dn.parent=c[In],c[In].children.push(dn),c[dn.id]=dn),Ut-1==b&&(In=dn.id))}}}if(W.layout==e.layout.mixed){var Io=W.childrenIds;for(u=Io.length-1;u>=0;u--){for(w=(O=c[Io[u]]).parent,O.layout=e.layout.mixed,b=w.children.length-1;b>=0;b--)if(O.id==w.children[b].id){w.children.splice(b,1);break}if(u>0){var rs=c[Io[u-1]];O.parent=rs,O.layout=e.layout.mixed,rs.children.push(O)}else w.children.push(O)}}else if(W.layout>1){T=new e.node(an+"_"+w.id+"_split_0",de.id,[],"split"),e.manager._initDinamicNode(T,w.lcn),c[T.id]=T,T.layout=W.layout;var Ae=[];for(u=W.childrenIds.length-1;u>=0;u--){for(O=c[W.childrenIds[u]],b=0;b<w.children.length;b++)w.children[b].id==O.id&&w.children.splice(b,1);if(O.parent=null,O.layout=W.layout,W.layout!=e.layout.treeRightOffset&&W.layout!=e.layout.treeRight||Ae.splice(0,0,O.id),W.layout>2){var ar=new e.node(an+"_"+O.id+"_mirror",de.id,[],"mirror");e.manager._initDinamicNode(ar,O.lcn),ar.layout=W.layout,c[ar.id]=ar,Ae.splice(0,0,ar.id)}W.layout!=e.layout.treeRightOffset&&W.layout!=e.layout.treeRight&&Ae.splice(0,0,O.id)}for(Rt=1,b=Ae.length-1;b>=0;b--)b%2&&b!=Ae.length-1?(Ke=new e.node(an+"_"+w.id+"_split_"+Rt,de.id,[],"split"),e.manager._initDinamicNode(Ke,w.lcn),Ke.layout=W.layout,c[Ke.id]=Ke,Ae.splice(b,0,Ke.id),Rt++):b%2&&Ae.splice(b,0,T.id);for(b=0;b<Ae.length;b+=3)ae=null,b==0&&(ae=w),xe=c[Ae[b]],ft=c[Ae[b+1]],nt=c[Ae[b+2]],b!=0&&(ae=c[Ae[b-3]]),b==0||ft||(ae=c[Ae[b-2]]),xe.parent=ae,ae.children.push(xe),ft&&(b!=0&&(ae=c[Ae[b-2]]),ft.parent=ae,ae.children.push(ft)),nt&&(b!=0&&(ae=c[Ae[b-1]]),nt.parent=ae,ae.children.push(nt))}}}}}if(e.VERTICAL_CHILDREN_ASSISTANT)for(u=0;u<d.length;u++)e.manager._verticalAssistantIterate(d[u],c);return Q={nodes:c,roots:d},e.events.publish("nodes-initialized",[t,Q]),{nodes:Q.nodes,roots:Q.roots,rootList:f}},e.manager._getOrderFieldValue=function(t,n){var i=n;return n.field&&(i=n.field),t[i]},e.manager._getNodeWidth=function(t,n){switch(n.orientation){case e.orientation.top:case e.orientation.top_left:case e.orientation.bottom:case e.orientation.bottom_left:return t.w;case e.orientation.right:case e.orientation.right_top:case e.orientation.left:case e.orientation.left_top:return t.h}return 0},e.manager._isVisible=function(t,n,i,o){if(t.x!=null&&t.y!=null){if(n.lazyLoading&&o!==e.action.exporting){let s=function(c,d){var f=c.x,u=c.y,p=c.w,m=c.h,g=d[0]-e.LAZY_LOADING_FACTOR,x=d[2]+e.LAZY_LOADING_FACTOR+d[0],y=d[1]-e.LAZY_LOADING_FACTOR,v=d[3]+e.LAZY_LOADING_FACTOR+d[1],h=f+p>g&&x>f;return h&&(h=u+m>y&&v>u),h};var a=s;if(s(t,i))return!0;for(var l=0;l<t.children.length;l++)if(s(t.children[l],i))return!0;return!1}return!0}},e.manager.getAllFields=function(t){var n=[e.TAGS];for(var i in t.nodeBinding)n.push(t.nodeBinding[i]);for(i=0;i<t.nodes.length;i++)for(var o in t.nodes[i])o!==e.ID&&o!==e.TAGS&&o!==e.NODES&&o!==e.PID&&o!==e.STPID&&o!=="movex"&&o!=="movey"&&(t.nodeBinding[o]||n.has(o)||n.push(o));return n},e.manager._getMostDeepChild=function(t){if(t){var n=t;return function i(o){o.sl>n.sl&&(n=o);for(var l=0;l<o.children.length;l++)i(o.children[l])}(t),n}},e.manager._getResponse=function(t,n,i,o,l,a,s,c,d,f,u,p,m,g,x){var y=f[0],v=[],h={top:null,left:null,bottom:null,right:null,minX:null,maxX:null,minY:null,maxY:null},w=[[],[],[]],_=l-s+2*o.padding,b=a-c+2*o.padding,S=e.getScale(d,t,n,o.scaleInitial,o.scaleMax,o.scaleMin,_,b);if(h.top=c-o.padding,h.left=s-o.padding,h.bottom=a+o.padding-n/S,h.right=l+o.padding-t/S,h.maxX=l,h.minX=s,h.maxY=a,h.minY=c,f.length==0||d==null&&!x&&o.align==e.CENTER){var k=Math.ceil(t/S),C=Math.ceil(n/S),E=0,L=0;if(k-2*o.padding>=l-s)switch(E=(l+s)/2-k/2,o.orientation){case e.orientation.right:case e.orientation.right_top:E=(s-l)/2-k/2}else switch(E=y.x-k/2+e.manager._getNodeWidth(y,o)/2,o.orientation){case e.orientation.right:case e.orientation.right_top:(E=-(k/2-(s-l)/2))<o.padding-k&&(E=o.padding-k);break;case e.orientation.left:case e.orientation.bottom_left:case e.orientation.top_left:case e.orientation.left_top:(E=-(k/2-(l-s)/2))>-o.padding&&(E=-o.padding)}if(C-2*o.padding>=a-c)switch(L=(a+c)/2-C/2,o.orientation){case e.orientation.bottom:case e.orientation.bottom_left:L=(c-a)/2-C/2}else switch((L=-(C/2-(a-c)/2))>-o.padding&&(L=-o.padding),o.orientation){case e.orientation.bottom:case e.orientation.bottom_left:(L=-(C/2-(c-a)/2))<o.padding-C&&(L=o.padding-C);break;case e.orientation.left:case e.orientation.right:L=y.y-C/2+e.manager._getNodeWidth(y,o)/2}d=[E,L,k,C]}else if(d==null&&!x&&o.align==e.ORIENTATION){switch(k=Math.ceil(t/S),C=Math.ceil(n/S),E=0,L=0,o.orientation){case e.orientation.top:E=y.x-k/2+e.manager._getNodeWidth(y,o)/2,L=-o.padding;break;case e.orientation.bottom:E=y.x-k/2+e.manager._getNodeWidth(y,o)/2,L=o.padding-C;break;case e.orientation.left:E=-o.padding,L=y.y-C/2+e.manager._getNodeWidth(y,o)/2;break;case e.orientation.right:E=o.padding-k,L=y.y-C/2+e.manager._getNodeWidth(y,o)/2;break;case e.orientation.top_left:E=-o.padding,L=-o.padding;break;case e.orientation.right_top:E=o.padding-k,L=-o.padding;break;case e.orientation.left_top:E=-o.padding,L=-o.padding;break;case e.orientation.bottom_left:E=-o.padding,L=o.padding-C}d=[E,L,k,C],o.sticky&&(d[0]<h.left&&d[0]<h.right&&(d[0]=h.left>h.right?h.right:h.left),d[0]>h.right&&d[0]>h.left&&(d[0]=h.left>h.right?h.left:h.right),d[1]<h.top&&d[1]<h.bottom&&(d[1]=h.top>h.bottom?h.bottom:h.top),d[1]>h.bottom&&d[1]>h.top&&(d[1]=h.top>h.bottom?h.top:h.bottom))}if(u==e.action.centerNode||u==e.action.maximize){var B=m[p.id];p.options.horizontal==1&&(d[0]=B.x+B.w/2-d[2]/2),p.options.vertical==1&&(d[1]=B.y+B.h/2-d[3]/2),o.sticky&&(d[0]<h.left&&d[0]<h.right&&(d[0]=h.left>h.right?h.right:h.left),d[0]>h.right&&d[0]>h.left&&(d[0]=h.left>h.right?h.left:h.right),d[1]<h.top&&d[1]<h.bottom&&(d[1]=h.top>h.bottom?h.bottom:h.top),d[1]>h.bottom&&d[1]>h.top&&(d[1]=h.top>h.bottom?h.top:h.bottom))}if(u==e.action.insert||u==e.action.expand||u==e.action.collapse||u==e.action.update||u==e.action.centerNode){var R=null;if(u==e.action.insert&&p&&p.insertedNodeId!=null&&p.insertedNodeId!=null)R=m[p.insertedNodeId];else if(u==e.action.update&&p&&p.visId!=null&&p.visId!=null)R=m[p.visId];else if(u!=e.action.expand&&u!=e.action.collapse||!p||p.id==null||p.id==null){if(u==e.action.centerNode){switch(o.orientation){case e.orientation.top:case e.orientation.top_left:case e.orientation.bottom:case e.orientation.bottom_left:p.options.vertical||(R=m[p.id]);break;case e.orientation.right:case e.orientation.right_top:case e.orientation.left:case e.orientation.left_top:p.options.horizontal||(R=m[p.id])}R&&(R=e.manager._getMostDeepChild(R,m))}}else R=m[p.id],R=e.manager._getMostDeepChild(R,m);if(!e.FIXED_POSITION_ON_CLICK&&R)switch(o.orientation){case e.orientation.top:case e.orientation.top_left:var U=R.y+R.h-d[3]+o.padding;d[1]<U&&(d[1]=U);break;case e.orientation.bottom:case e.orientation.bottom_left:U=R.y-o.padding,d[1]>U&&(d[1]=U);break;case e.orientation.right:case e.orientation.right_top:U=R.x-o.padding,d[0]>U&&(d[0]=U);break;case e.orientation.left:case e.orientation.left_top:U=R.x+R.w-d[2]+o.padding,d[0]<U&&(d[0]=U)}}for(var z=0;z<f.length;z++)e.manager._iterate2(f[z],m,o,d,u,p,v,g,i,w);return{animations:w,boundary:h,viewBox:d,visibleNodeIds:v,nodes:m,allFields:e.manager.getAllFields(o)}},e.manager._iterate2=function(t,n,i,o,l,a,s,c,d,f){if(e.manager._isVisible(t,i,o,l)){s.push(t.id);var u=null;if((l==e.action.expand||l==e.action.collapse||l==e.action.maximize)&&c&&c[t.id]&&a.method=="expandCollapseToLevel"){if(u={x:(x=c[t.id]).x,y:x.y},x){u={x:x.x,y:x.y};for(var p=t,m=null;p!=null;)c[p.id]&&c[p.id].collapsed&&(m=p),p=p.parent;m&&m.parent&&(u={x:m.parent.x,y:m.parent.y})}if(y=n[a.id]){for(p=t.parent;p!=null;)p=p.parent;p&&(u={x:y.x+y.w/2-t.w/2,y:y.y+y.h/2-t.h/2})}}else if((l==e.action.expand||l==e.action.collapse)&&c&&c[t.id]){if(u={x:(x=c[t.id]).x,y:x.y},a.ids=="all"&&x){for(u={x:x.x,y:x.y},p=t,m=null;p!=null;)c[p.id]&&c[p.id].collapsed&&(m=p),p=p.parent;m&&m.parent&&(u={x:m.parent.x,y:m.parent.y})}if(y=n[a.id]){for(p=t.parent;p!=null&&a.ids.indexOf(t.id)==-1&&a.ids.indexOf(p.id)==-1;)p=p.parent;p&&(u={x:y.x+y.w/2-t.w/2,y:y.y+y.h/2-t.h/2})}}else if(l==e.action.centerNode&&c&&c[t.id])(x=c[t.id]).x!=null&&x.y!=null&&(u={x:x.x,y:x.y}),(g=n[a.id])&&g==t&&(p=t.parent)&&p.id==a.id&&(u={x:g.x+g.w/2-t.w/2,y:g.y+g.h/2-t.h/2});else if(l==e.action.maximize&&c&&c[t.id]){var g;(x=c[t.id]).x!=null&&x.y!=null&&(u={x:x.x,y:x.y}),(g=n[a.id])&&g==t&&(p=t.parent)&&p.id==a.id&&(u={x:g.x+g.w/2-t.w/2,y:g.y+g.h/2-t.h/2})}else if(l==e.action.minimize&&c&&c[t.id])u={x:(x=c[t.id]).x,y:x.y};else if(l==e.action.insert&&a&&a.insertedNodeId==t.id&&t.parent)u={x:t.parent.x,y:t.parent.y};else if(l!=e.action.update&&l!=e.action.insert||!c)l!==e.action.exporting&&l!==e.action.init&&d.indexOf(t.id)==-1&&(f[0].push(t.id),f[1].push({opacity:0}),f[2].push({opacity:1}));else{var x,y;if((!(x=c[t.id])||e.isNEU(x.x)&&e.isNEU(x.y))&&a){if(y=n[a.id]){for(p=y;p&&p.id==t.id;)p=p.parent;p&&(u={x:y.x,y:y.y})}}else x&&(u={x:x.x,y:x.y})}u!=null&&u.x!=null&&u.y!=null&&(u.x!=t.x||u.y!=t.y)&&(a&&a.dragNodeIdList&&a.dragNodeIdList.indexOf(t.id)!=-1||(f[0].push(t.id),f[1].push({transform:[1,0,0,1,u.x,u.y]}),f[2].push({transform:[1,0,0,1,t.x,t.y]})))}for(var v=0;v<t.stChildren.length;v++)e.manager._iterate2(t.stChildren[v],n,i,o,l,a,s,c,d,f);for(v=0;v<t.children.length;v++)e.manager._iterate2(t.children[v],n,i,o,l,a,s,c,d,f)},e.manager._addExpandedNodeIdsIterate=function(t,n,i){for(var o=0;o<t.childrenIds.length;o++)i.push(t.childrenIds[o]),e.manager._addExpandedNodeIdsIterate(n[t.childrenIds[o]],n,i)},e.manager._setMinMaxXYAdjustifyIterate=function(t,n,i,o,l,a,s,c){t.x+=a.x,t.y+=a.y;for(var d=0;d<t.stChildren.length;d++)e.manager._setMinMaxXYAdjustifyIterate(t.stChildren[d],t.stChildren[d],i,0,l,a,s,c);for(t.isPartner?t.sl=o-1:t.sl=o,l[n.id]==null&&(l[n.id]={}),l[n.id][t.sl]==null&&(l[n.id][t.sl]={minX:null,minY:null,maxX:null,maxY:null}),t.layout?(c[n.id]==null&&(c[n.id]={}),c[n.id][t.sl]==null&&(c[n.id][t.sl]=t)):e._setMinMaxXY(t,l[n.id][t.sl]),t.movex!=null&&(t.x+=t.movex),t.movey!=null&&(t.y+=t.movey),e._setMinMaxXY(t,i),o++,d=0;d<t.children.length;d++)e.manager._setMinMaxXYAdjustifyIterate(t.children[d],n,i,o,l,a,s,c)},e.manager._doNotChangePositionOfClickedNodeIfAny=function(t,n,i,o,l,a){if(i!=e.action.expand&&i!=e.action.collapse&&i!=e.action.minimize&&i!=e.action.maximize&&i!=e.action.centerNode&&i!=e.action.update&&i!=e.action.insert)return{x:0,y:0};if(i==e.action.update&&(!o||o.id==null)){if(!t||!t.length)return{x:0,y:0};o={id:t[0].id}}if(o.id==null)return{x:0,y:0};var s=o.id;(i==e.action.minimize&&n[s].parent||i==e.action.maximize&&n[s].parent)&&(s=n[s].pid);var c=n[s],d=l[s];if(!d)return{x:0,y:0};var f=d.movex!=null?d.movex:0,u=d.movey!=null?d.movey:0;return{x:(d.x?d.x-f:0)-c.x,y:(d.y?d.y-u:0)-c.y}},e.manager._verticalAssistantIterate=function(t,n){for(var i=0;i<t.stChildren.length;i++)e.manager._verticalAssistantIterate(t.stChildren[i],n);if(t.children.length==3)e.manager._verticalAssistantIterate(t.children[0],n),e.manager._verticalAssistantIterate(t.children[2],n),e.manager._verticalAssistantIterate(t.children[1],n);else for(i=0;i<t.children.length;i++)e.manager._verticalAssistantIterate(t.children[i],n);if(t.isAssistant&&t.isSplit&&t.children.length){for(var o=t.parent.children[0],l=t.parent.children[2],a=t.parent;!a.hasAssistants;)a=a.parent;var s={max:0},c={max:0};e.manager._verticalAssistantLevelCountIterate(o,0,s),e.manager._verticalAssistantLevelCountIterate(l,0,c);var d=Math.max(s.max,c.max),f=[];for(i=0;i<d;i++){var u=new e.node(t.parent.id+"_split_assitant_level_"+i,t.pid,[],"subLevel");e.manager._initDinamicNode(u,t.lcn,!0),i>0&&(f[i-1].children.push(u),u.parent=f[i-1]),n[u.id]=u,f.push(u)}if(f.length){for(var p=f[f.length-1],m=f[0],g=t.children.length-1;g>=0;g--){var x=t.children[g];p.children.unshift(x),x.parent=p,t.children.splice(g,1)}t.children.push(m),m.parent=t}}},e.manager._verticalAssistantLevelCountIterate=function(t,n,i){i.max<n&&(i.max=n),n++;for(var o=0;o<t.children.length;o++)e.manager._verticalAssistantLevelCountIterate(t.children[o],n,i)},e._addDottedLines=function(t){var n=t.nodes;if((t.groupDottedLines.length||t.dottedLines.length)&&(n=JSON.parse(JSON.stringify(n))),t.groupDottedLines.length)for(var i=[],o=0;o<t.groupDottedLines.length;o++){var l=t.groupDottedLines[o];l.rootId==null&&(l.rootId=l.to);var a=`balkan_group_dotted_${l.rootId}`;if(!i.has(a)){for(var s=0;s<n.length;s++)if(n[s].id==l.rootId){(u=JSON.parse(JSON.stringify(n[s]))).id=`balkan_group_dotted_${l.rootId}_balkan_id_${n[s].id}`,u.pid=void 0,u.stpid=n[s].id,n.push(u),i.push(a),n[s].tags||(n[s].tags=[]),n[s].tags.push("group-dotted-lines"),n[s].tags.push("group-dotted-lines-"+a);break}}for(s=0;s<n.length;s++)if(n[s].id==l.from){if((u=JSON.parse(JSON.stringify(n[s]))).id=`balkan_group_dotted_${l.rootId}_balkan_id_${n[s].id}`,u.pid=`balkan_group_dotted_${l.rootId}_balkan_id_${l.to}`,u.tags){var c=u.tags.indexOf("group-dotted-lines");c!=-1&&u.tags.splice(c,1)}if(u.tags||(u.tags=[]),u.tags.push("bft-dotted-connector"),l.tags)for(var d=0;d<l.tags.length;d++)u.tags.push(l.tags[d]);n.push(u);break}}if(t.dottedLines.length)for(o=0;o<t.dottedLines.length;o++){var f=t.dottedLines[o];for(f.rootId==null&&(f.rootId=f.to),s=0;s<n.length;s++)if(n[s].id==f.from){var u;if((u=JSON.parse(JSON.stringify(n[s]))).id=`balkan_dotted_${f.rootId}_balkan_id_${n[s].id}`,f.rootId==f.to?u.pid=f.to:u.pid=`balkan_dotted_${f.rootId}_balkan_id_${f.to}`,u.tags||(u.tags=[]),u.tags.push("bft-dotted-connector"),f.tags)for(d=0;d<f.tags.length;d++)u.tags.push(f.tags[d]);n.push(u);break}}return n},e.manager.__createNodes=function(t,n,i,o,l,a,s,c){for(var d=i.nodes,f=[],u={},p={},m=0;m<d.length;m++){var g,x=d[m];g=e.STRING_TAGS?x.tags?x.tags.split(","):[]:Array.isArray(x.tags)?x.tags.slice(0):[],c.filterUI.addFilterTag(x)&&g.push("filter");var y=c.searchUI.addMatchTag(x.id);y===!0?g.unshift("match"):y===!1&&g.unshift("no-match"),x.gender&&g.push(x.gender);var v=e._getTemplate(g,i.tags,i.template);x.templateName&&(v=x.templateName);var h=new e.node(x.id,x.pid,g,v);h.ftChildrenIds=[],h.rids=[],e.isNEU(x.ppid)||(h.ppid=x.ppid),e.isNEU(x.stpid)||(h.stpid=x.stpid),e.isNEU(x.mid)||(h.mid=x.mid),e.isNEU(x.fid)||(h.fid=x.fid),e.isNEU(x.gender)||(h.gender=x.gender),Array.isArray(x.pids)?h.pids=x.pids:h.pids=[],i.orderBy!=null&&(h.order=e.manager._getOrderFieldValue(x,i.orderBy)),t[x.id]=h,e.isNEU(h.stpid)?(e.isNEU(h.mid)||(u[h.mid]||(u[h.mid]=[]),u[h.mid].push(h.id)),e.isNEU(h.fid)||(u[h.fid]||(u[h.fid]=[]),u[h.fid].push(h.id)),e.isNEU(h.mid)&&e.isNEU(h.fid)&&e.isNEU(h.stpid)&&(f.has(h.id)||f.push(h.id))):(p[h.stpid]||(p[h.stpid]=[]),p[h.stpid].push(h.id))}if(i.orderBy!=null&&u)for(var w in u)u[w].sort(function(B,R){var U=t[B].order,z=t[R].order;return typeof U=="number"||typeof z=="number"?(U==null&&(U=-1),z==null&&(z=-1),i.orderBy.desc?z-U:U-z):typeof U=="string"||typeof z=="string"?(U==null&&(U=""),z==null&&(z=""),i.orderBy.desc?z.localeCompare(U):U.localeCompare(z)):void 0});for(m=0;m<f.length;m++){var _=t[f[m]];if(_){var b=[];e.manager._iterateSetRootIds(_.id,_.id,p,u,t,b),s.push(b)}}for(m=0;m<s.length;m++)for(var S=0;S<s.length;S++)if(S!=m){for(var k=s[m],C=s[S],E=!1,L=0;L<k.length;L++)if(C.has(k[L])){E=!0;break}E&&(s[m]=k.concat(C).unique(),s[S]=[])}for(m=s.length-1;m>=0;m--)s[m].length||s.splice(m,1);if(!i.roots||!i.roots.length)for(i.roots=[],m=s.length-1;m>=0;m--)i.roots.push(s[m][0]);for(m=0;m<i.roots.length;m++)e.manager._iterateFT(i.roots[m],p,u,t,a,n,o,l,i)},e.manager._iterateSetRootIds=function(t,n,i,o,l,a){var s=l[t];if(s){s.rids.has(n)||s.rids.push(n);for(var c=0;c<s.rids.length;c++)a.has(s.rids[c])||a.push(s.rids[c]);for(c=0;c<s.pids.length;c++){var d=l[s.pids[c]];if(d)for(var f=0;f<d.rids.length;f++)a.has(d.rids[f])||a.push(d.rids[f])}if(i[s.id])for(c=0;c<i[s.id].length;c++)e.manager._iterateSetRootIds(i[s.id][c],n,i,o,l,a);if(o[s.id])for(c=0;c<o[s.id].length;c++)e.manager._iterateSetRootIds(o[s.id][c],n,i,o,l,a)}},e.manager._iterateFT=function(t,n,i,o,l,a,s,c,d){var f,u=o[t],p=l?l[t]:null,m=o[u.stpid],g=o[u.mid],x=o[u.fid];if(m||(u.stpid=null),g?x&&(g.tags.has("partner")||g.tags.has("left-partner")||g.tags.has("right-partner"))?(u.pid=x.id,f=x,u.ppid=g.id):(u.pid=g.id,f=g,x&&(u.ppid=x.id)):x?g&&(x.tags.has("partner")||x.tags.has("left-partner")||x.tags.has("right-partner"))?(u.pid=g.id,f=g,u.ppid=x.id):(u.pid=x.id,f=x,g&&(u.ppid=g.id)):u.pid,m){var y=l?l[m.id]:null;y&&(m.min=y.min),m.stChildrenIds.push(u.id)}else g||x?(p&&(u.collapsed=p.collapsed,u.min=p.min),f&&!f.childrenIds.has(u.id)&&f.childrenIds.push(u.id),g&&!g.ftChildrenIds.has(u.id)&&g.ftChildrenIds.push(u.id),x&&!x.ftChildrenIds.has(u.id)&&x.ftChildrenIds.push(u.id)):(p&&(u.collapsed=p.collapsed,u.min=p.min),a.push(u));s==e.action.init&&(u.min=e._getMin(u,d));for(var v=0;v<u.pids.length;v++){var h=o[u.pids[v]];if(h){h.pid=u.id;var w=l?l[h.id]:null;if(w&&(h.collapsed=w.collapsed,h.min=w.min),s==e.action.init&&(h.min=e._getMin(h,d)),c&&p&&w&&c.id==u.id?w.hasPartners&&p.isPartner==1?h.tags.push("left-partner"):w.hasPartners&&p.isPartner==2||p.isPartner==1?h.tags.push("right-partner"):p.isPartner==2?h.tags.push("left-partner"):h.tags.push("partner"):w&&w.isPartner==2?h.tags.push("left-partner"):w&&w.isPartner==1?h.tags.push("right-partner"):h.tags.push("partner"),!e.isNEU(h)&&i[h.id])for(var _=0;_<i[h.id].length;_++){var b=o[i[h.id][_]];b&&(e.isNEU(b.fid)||e.isNEU(b.mid))&&e.manager._iterateFT(i[h.id][_],n,i,o,l,a,s,c,d)}u.childrenIds.push(h.id)}}if(n[t])for(_=0;_<n[t].length;_++)e.manager._iterateFT(n[t][_],n,i,o,l,a,s,c,d);if(i[t])for(_=0;_<i[t].length;_++)e.manager._iterateFT(i[t][_],n,i,o,l,a,s,c,d)},e.manager.getAllFields=function(t){var n=[e.TAGS];for(var i in t.nodeBinding)n.push(t.nodeBinding[i]);for(i=0;i<t.nodes.length;i++)for(var o in t.nodes[i])o!==e.ID&&o!==e.TAGS&&o!==e.NODES&&o!==e.PID&&o!==e.STPID&&o!=="mid"&&o!=="fid"&&o!=="pids"&&(t.nodeBinding[o]||n.has(o)||n.push(o));return n},e.templates={},e.templates.base={defs:`<g transform="matrix(1,0,0,1,0,0)" id="dot"><circle class="bft-fill" cx="0" cy="0" r="5" stroke="#aeaeae" stroke-width="1"></circle></g>
            <g id="base_node_menu" style="cursor:pointer;"><rect x="0" y="0" fill="transparent" width="22" height="22"></rect><circle cx="4" cy="11" r="2" fill="#aeaeae"></circle><circle cx="11" cy="11" r="2" fill="#aeaeae"></circle><circle cx="18" cy="11" r="2" fill="#aeaeae"></circle></g>
            <g style="cursor: pointer;" id="base_tree_menu">
                <rect x="0" y="0" width="25" height="25" fill="transparent"></rect>
                ${e.icon.addUser(25,25,"#fff",0,0)}
            </g>
            <g style="cursor: pointer;" id="base_tree_menu_close">
                <circle cx="12.5" cy="12.5" r="12" fill="#F57C00"></circle>
                ${e.icon.close(25,25,"#fff",0,0)}
            </g>            
            <g id="base_up">
                <circle cx="15" cy="15" r="15" fill="#fff" stroke="#aeaeae" stroke-width="1"></circle>
                ${e.icon.ft(20,20,"#aeaeae",5,5)}
            </g>
            <clipPath id="base_img_0"><rect id="base_img_0_stroke" stroke-width="3" stroke="#fff" x="170" y="-5" rx="25" ry="25" width="70" height="70"></rect></clipPath>`,size:[250,120],linkAdjuster:{fromX:0,fromY:0,toX:0,toY:0},ripple:{radius:0,color:"#e6e6e6",rect:null},expandCollapseSize:0,svg:'<svg class="{randId} {template}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"  style="display:block;" width="{w}" height="{h}" viewBox="{viewBox}">{content}</svg>',link:'<path stroke-linejoin="round" stroke="#aeaeae" stroke-width="1px" fill="none" d="{rounded}" />',assistanseLink:'<path stroke-linejoin="round" stroke="#aeaeae" stroke-width="2px" fill="none" d="M{xa},{ya} {xb},{yb} {xc},{yc} {xd},{yd} L{xe},{ye}"/>',pointer:'<g data-pointer="pointer" transform="matrix(0,0,0,0,100,100)"><radialGradient id="pointerGradient"><stop stop-color="#ffffff" offset="0" /><stop stop-color="#C1C1C1" offset="1" /></radialGradient><circle cx="16" cy="16" r="16" stroke-width="1" stroke="#acacac" fill="url(#pointerGradient)"></circle></g>',node:'<rect x="0" y="0" height="{h}" width="{w}" stroke-width="1" stroke="#aeaeae" rx="7" ry="7"></rect>',menuButton:'<div style="position:absolute;right:{p}px;top:{p}px; width:40px;height:50px;cursor:pointer;" '+e.attr.control_export_menu+'=""><hr style="background-color: #7A7A7A; height: 3px; border: none;"><hr style="background-color: #7A7A7A; height: 3px; border: none;"><hr style="background-color: #7A7A7A; height: 3px; border: none;"></div>',padding:[50,20,35,20],nodeMenuButton:`<use ${e.attr.control_node_menu_id}="{id}" x="220" y="95" xlink:href="#base_node_menu"/>`,nodeTreeMenuButton:'<use data-ctrl-n-t-menu-id="{id}" x="10" y="10" xlink:href="#base_tree_menu"/>',nodeTreeMenuCloseButton:'<use data-ctrl-n-t-menu-c="" x="10" y="10" xlink:href="#base_tree_menu_close"/>',up:'<use x="110" y="-10" xlink:href="#base_up"/>',img_0:'<use xlink:href="#base_img_0_stroke" /><image preserveAspectRatio="xMidYMid slice" clip-path="url(#base_img_0)" xlink:href="{val}"  x="170" y="-5"  width="70" height="70"></image>',link_field_0:'<text text-anchor="middle" fill="#aeaeae" '+e.attr.width+'="290" x="0" y="0" style="font-size:10px;">{val}</text>'},e.templates.dot=Object.assign({},e.templates.base),e.templates.dot.node='<circle cx="5" cy="5" r="5" fill="none" stroke-width="1" stroke="#aeaeae"></circle>',e.templates.dot.size=[10,10],e.templates.dot.nodeMenuButton="",e.templates.dot.nodeTreeMenuButton="",e.templates.dot.nodeTreeMenuCloseButton="",e.templates.dot.up="",e.templates.john=Object.assign({},e.templates.base),e.templates.john.nodeMenuButton=`<use ${e.attr.control_node_menu_id}="{id}" x="90" y="50" xlink:href="#base_node_menu"/>`,e.templates.john.defs=`<style>                          
                                        .{randId} .bft-edit-form-header, .{randId} .bft-img-button{
                                            background-color: #aeaeae;
                                        }
                                        .{randId}.male .bft-edit-form-header, .{randId}.male .bft-img-button{
                                            background-color: #039BE5;
                                        }        
                                        .{randId}.male div.bft-img-button:hover{
                                            background-color: #F57C00;
                                        }
                                        .{randId}.female .bft-edit-form-header, .{randId}.female .bft-img-button{
                                            background-color: #F57C00;
                                        }        
                                        .{randId}.female div.bft-img-button:hover{
                                            background-color: #039BE5;
                                        }
                                    </style>
                                    <clipPath id="john_img_0"><rect  x="6" y="6" rx="54" ry="54" width="108" height="108"></rect></clipPath>
                                    ${e.gradientCircleForDefs("circle","#aeaeae",60,5)}
                                    ${e.gradientCircleForDefs("male_circle","#039BE5",60,5)}
                                    ${e.gradientCircleForDefs("female_circle","#F57C00",60,5)}`,e.templates.john.field_0="<text "+e.attr.width+'="230" style="font-size: 16px;font-weight:bold;" fill="#aeaeae" x="60" y="135" text-anchor="middle">{val}</text>',e.templates.john.field_1="<text "+e.attr.width+'="150" style="font-size: 13px;" fill="#aeaeae" x="60" y="150" text-anchor="middle">{val}</text>',e.templates.john.node='<use x="0" y="0" xlink:href="#circle" />',e.templates.john.img_0='<image preserveAspectRatio="xMidYMid slice" clip-path="url(#john_img_0)" xlink:href="{val}"  x="6" y="6"  width="108" height="108"></image>',e.templates.john.ripple={radius:60,color:"#e6e6e6",rect:null},e.templates.john.size=[120,120],e.templates.john_male=Object.assign({},e.templates.john),e.templates.john_male.node+='<use x="0" y="0" xlink:href="#male_circle" />',e.templates.john_male.ripple={radius:60,color:"#039BE5",rect:null},e.templates.john_female=Object.assign({},e.templates.john),e.templates.john_female.node+='<use x="0" y="0" xlink:href="#female_circle" />',e.templates.john_female.ripple={radius:60,color:"#F57C00",rect:null},e.templates.tommy=Object.assign({},e.templates.base),e.templates.tommy.defs=`<style>                          
                                        .{randId} .bft-edit-form-header, .{randId} .bft-img-button{
                                            background-color: #aeaeae;
                                        }
                                        .{randId}.male .bft-edit-form-header, .{randId}.male .bft-img-button{
                                            background-color: #039BE5;
                                        }        
                                        .{randId}.male div.bft-img-button:hover{
                                            background-color: #F57C00;
                                        }
                                        .{randId}.female .bft-edit-form-header, .{randId}.female .bft-img-button{
                                            background-color: #F57C00;
                                        }        
                                        .{randId}.female div.bft-img-button:hover{
                                            background-color: #039BE5;
                                        }
                                    </style>`,e.templates.tommy.field_0="<text "+e.attr.width+'="230" style="font-size: 18px;font-weight:bold;" fill="#ffffff" x="10" y="90" text-anchor="start">{val}</text>',e.templates.tommy.field_1="<text "+e.attr.width+'="150" style="font-size: 14px;" fill="#ffffff" x="10" y="65" text-anchor="start">{val}</text>',e.templates.tommy.node='<rect x="0" y="0" height="{h}" width="{w}" stroke-width="1" fill="#aeaeae" stroke="#aeaeae" rx="7" ry="7"></rect>',e.templates.tommy_male=Object.assign({},e.templates.tommy),e.templates.tommy_male.node='<rect x="0" y="0" height="{h}" width="{w}" stroke-width="1" fill="#039BE5" stroke="#aeaeae" rx="7" ry="7"></rect>',e.templates.tommy_female=Object.assign({},e.templates.tommy),e.templates.tommy_female.node='<rect x="0" y="0" height="{h}" width="{w}" stroke-width="1" fill="#F57C00" stroke="#aeaeae" rx="7" ry="7"></rect>',e.templates.hugo=Object.assign({},e.templates.base),e.templates.hugo.up='<use x="200" y="10" xlink:href="#hugo_up"/>',e.templates.hugo.nodeMenuButton=`<use x="225" y="10" ${e.attr.control_node_menu_id}="{id}" xlink:href="#hugo_node_menu"/>`,e.templates.hugo.defs=`<clipPath id="hugo_img_0"><rect id="hugo_img_0_stroke" stroke-width="2" stroke="#fff" x="90" y="-5" rx="25" ry="25" width="70" height="70"></rect></clipPath>
                                    <linearGradient id="hugo_grad_female" x1="0%" y1="0%" x2="100%" y2="0%">
                                        <stop offset="0%" style="stop-color:#FF8024;stop-opacity:1" />
                                        <stop offset="100%" style="stop-color:#FF46A3;stop-opacity:1" />
                                    </linearGradient>
                                    <linearGradient id="hugo_grad_male" x1="0%" y1="0%" x2="100%" y2="0%">
                                        <stop offset="0%" style="stop-color:#00D3A5;stop-opacity:1" />
                                        <stop offset="100%" style="stop-color:#00A7D4;stop-opacity:1" />
                                    </linearGradient>
                                    <linearGradient id="hugo_grad" x1="0%" y1="0%" x2="100%" y2="0%">
                                        <stop offset="0%" style="stop-color:#D0D0D0;stop-opacity:1" />
                                        <stop offset="100%" style="stop-color:#909090;stop-opacity:1" />
                                    </linearGradient>
                                    <g id="hugo_up">
                                        <circle cx="12" cy="12" r="15" fill="transparent" ></circle>
                                        ${e.icon.ft(24,24,"#fff",0,0)}
                                    </g>
                                    <g id="hugo_node_menu" style="cursor:pointer;"><rect x="0" y="0" fill="transparent" width="22" height="22"></rect><circle cx="11" cy="4" r="2" fill="#ffffff"></circle><circle cx="11" cy="11" r="2" fill="#ffffff"></circle><circle cx="11" cy="18" r="2" fill="#ffffff"></circle></g>
                                    <style>
                                        .{randId} .bft-edit-form-header{
                                            background: linear-gradient(90deg, #D0D0D0 0%, #909090 100%);
                                        }
                                        .{randId}.male .bft-edit-form-header{
                                            background: linear-gradient(90deg, #00D3A5 0%, #00A7D4 100%);
                                        }
                                        .{randId}.female .bft-edit-form-header{
                                            background: linear-gradient(90deg, #FF8024 0%, #FF46A3 100%);
                                        }  
                                        .{randId} .bft-img-button{
                                            background-color: #909090;
                                        }      
                                        .{randId} .bft-img-button:hover{
                                            background-color: #D0D0D0;
                                        }
                                        .{randId}.male .bft-img-button{
                                            background-color: #00A7D4;
                                        }      
                                        .{randId}.male .bft-img-button:hover{
                                            background-color: #00D3A5;
                                        }
                                        .{randId}.female .bft-img-button{
                                            background-color: #FF46A3;
                                        }      
                                        .{randId}.female .bft-img-button:hover{
                                            background-color: #FF8024;
                                        }
                                        
                                    </style>`,e.templates.hugo.img_0='<use xlink:href="#hugo_img_0_stroke" /><image preserveAspectRatio="xMidYMid slice" clip-path="url(#hugo_img_0)" xlink:href="{val}"  x="90" y="-5"  width="70" height="70"></image>',e.templates.hugo.field_0="<text "+e.attr.width+'="230" style="font-size: 18px;font-weight:bold;" fill="#ffffff" x="125" y="85" text-anchor="middle">{val}</text>',e.templates.hugo.field_1="<text "+e.attr.width+'="230" style="font-size: 14px;" fill="#ffffff" x="125" y="105" text-anchor="middle">{val}</text>',e.templates.hugo.node='<rect x="0" y="0" height="{h}" width="{w}" stroke-width="1" fill=url(#hugo_grad) stroke="#aeaeae" rx="7" ry="7"></rect>',e.templates.hugo_male=Object.assign({},e.templates.hugo),e.templates.hugo_male.node='<rect x="0" y="0" height="{h}" width="{w}" stroke-width="1" fill=url(#hugo_grad_male) stroke="#aeaeae" rx="7" ry="7"></rect>',e.templates.hugo_female=Object.assign({},e.templates.hugo),e.templates.hugo_female.node='<rect x="0" y="0" height="{h}" width="{w}" stroke-width="1" fill=url(#hugo_grad_female) stroke="#aeaeae" rx="7" ry="7"></rect>',e.templates.mother=Object.assign({},e.templates.base),e.templates.mother.up="",e.templates.mother.node='<rect x="0" y="0" height="{h}" width="{w}" style="fill:transparent;"  stroke-width="1" stroke="#F57C00" rx="5" ry="5"></rect><text style="font-size: 18px;" fill="#F57C00" x="240" y="30" text-anchor="end">Add mother</text>'+e.icon.mother(70,70,"#F57C00",10,40),e.templates.mother.field_0="",e.templates.mother.field_1="",e.templates.father=Object.assign({},e.templates.mother),e.templates.father.node='<rect x="0" y="0" height="{h}" width="{w}" style="fill:transparent;height:{h}; width:{w};stroke-width:1;stroke:#039BE5;rx:5;ry:5;"></rect><text style="font-size: 18px;" fill="#039BE5" x="240" y="30" text-anchor="end">Add father</text>'+e.icon.father(70,70,"#039BE5",10,40),e.templates.partner=Object.assign({},e.templates.mother),e.templates.partner.node='<rect x="0" y="0" height="{h}" width="{w}" style="fill:transparent;height:{h}; width:{w};stroke-width:1;stroke:#aeaeae;rx:5;ry:5;"></rect><text style="font-size: 18px;" fill="#aeaeae" x="240" y="30" text-anchor="end">Add partner</text>',e.templates.son=Object.assign({},e.templates.mother),e.templates.son.node='<rect x="0" y="0" height="{h}" width="{w}" style="fill:transparent;height:{h}; width:{w};stroke-width:1;stroke:#039BE5;rx:5;ry:5;"></rect><text style="font-size: 18px;" fill="#039BE5" x="240" y="30" text-anchor="end">Add son</text>'+e.icon.son(70,70,"#039BE5",10,40),e.templates.daughter=Object.assign({},e.templates.mother),e.templates.daughter.node='<rect x="0" y="0" height="{h}" width="{w}" style="fill:transparent;height:{h}; width:{w};stroke-width:1;stroke:#F57C00;rx:5;ry:5;"></rect><text style="font-size: 18px;" fill="#F57C00" x="240" y="30" text-anchor="end">Add daughter</text>'+e.icon.daughter(70,70,"#F57C00",10,40),e.templates.husband=Object.assign({},e.templates.mother),e.templates.husband.node='<rect x="0" y="0" height="{h}" width="{w}" style="fill:transparent;height:{h}; width:{w};stroke-width:1;stroke:#039BE5;rx:5;ry:5;"></rect><text style="font-size: 18px;" fill="#039BE5" x="240" y="30" text-anchor="end">Add husband</text>'+e.icon.husband(70,70,"#039BE5",10,40),e.templates.wife=Object.assign({},e.templates.mother),e.templates.wife.node='<rect x="0" y="0" height="{h}" width="{w}" style="fill:transparent;height:{h}; width:{w};stroke-width:1;stroke:#F57C00;rx:5;ry:5;"></rect><text style="font-size: 18px;" fill="#F57C00" x="240" y="30" text-anchor="end">Add wife</text>'+e.icon.wife(70,70,"#F57C00",10,40),e.templates.pet=Object.assign({},e.templates.mother),e.templates.pet.node='<rect x="0" y="0" style="fill:transparent;height:{h}; width:{w};stroke-width:1;stroke:#F57C00;rx:5;ry:5;"></rect><text style="font-size: 18px;" fill="#F57C00" x="240" y="30" text-anchor="end">Add pet</text>'+e.icon.teddy(70,70,"#F57C00",10,40),e.templates.cgroup=Object.assign({},e.templates.base),e.templates.cgroup.defs="",e.templates.cgroup.size=[250,120],e.templates.cgroup.padding=[0,0,0,0],e.templates.cgroup.node="",e.templates.split=Object.assign({},e.templates.base),e.templates.split.size=[10,10],e.templates.split.node='<circle cx="5" cy="5" r="5" fill="none" stroke-width="1" stroke="#aeaeae"></circle>',e.templates.mirror={linkAdjuster:{},link:"",node:"",nodeMenuButton:"",size:[0,0]},e.ui={_defsIds:{},defs:function(t){var n="";for(var i in e.templates){var o=e.templates[i];o.defs&&(e.ui._defsIds[i]=e.randomId(),n+=o.defs.replaceAll("{randId}",e.ui._defsIds[i]))}return"<defs>"+n+t+"</defs>"},lonely:function(t){return t.nodes&&t.nodes.length?"":e.IT_IS_LONELY_HERE.replace("{link}",e.RES.IT_IS_LONELY_HERE_LINK)},pointer:function(t,n,i){return n===e.action.exporting?"":e.t(t.template,!1,i).pointer},node:function(t,n,i,o,l,a,s,c,d,f){var u=e.t(t.templateName,t.min,d),p=u.node.replaceAll("{w}",t.w).replaceAll("{h}",t.h);u.defs&&(p=p.replaceAll("{randId}",e.ui._defsIds[t.templateName])),s==null&&(s=o.nodeBinding);var m={node:t,data:n};for(var g in s){var x,y=s[g];n&&(x=n[y]);var v=e._lblIsImg(o,g);if(m.value=x,m.element=u[g],m.name=y,m.field=g,e.events.publish("field",[f,m])!==!1&&m.value!=null&&m.value!=null&&m.element!=null&&(!v||v&&!e.isNEU(m.value))){if(!v&&typeof m.value=="string"){var h=m.element;h&&(h=h.replaceAll("{ew}",t.w-(t.padding?t.padding[1]:0)).replaceAll("{cw}",t.w/2)),m.value=e.wrapText(m.value,h)}var w=m.element.replace("{val}",m.value);p+=w=w.replaceAll("{ew}",t.w-(t.padding?t.padding[1]:0)).replaceAll("{cw}",t.w/2).replaceAll("{randId}",e.randomId()).replaceAll("{randId2}",e.randomId())}}var _=e._getPosition(i,t,l,a),b="node";Array.isArray(t.tags)&&t.tags.length&&(b+=" "+t.tags.join(" ")),t.layout&&(b+=" tree-layout");var S="";t.lcn&&(S='lcn="'+t.lcn+'"');var k=e.nodeOpenTag.replace("{lcn}",S).replace("{id}",t.id).replace("{class}",b).replace("{sl}",t.sl).replace("{level}",t.level).replace("{x}",_.x).replace("{y}",_.y),C=e._getOpacity(i,t);return p=(k=k.replace("{opacity}",C))+(p+=e.ui.nodeBtns(o,t,c,u,f))+e.grCloseTag},nodeBtns:function(t,n,i,o,l){var a="";return t.nodeMenu==null||n.isSplit||i===e.action.exporting||(a+=o.nodeMenuButton.replace("{id}",n.id).replace("{cw}",n.w/2).replace("{ch}",n.h/2).replace("{ew}",n.w-(n.padding?n.padding[1]:0)).replace("{eh}",n.h-(n.padding?n.padding[2]:0))),t.nodeCircleMenu==null||n.isSplit||i===e.action.exporting||e.isNEU(o.nodeCircleMenuButton)||(a+='<g style="cursor:pointer;" transform="matrix(1,0,0,1,'+o.nodeCircleMenuButton.x+","+o.nodeCircleMenuButton.y+')" '+e.attr.control_node_circle_menu_id+'="'+n.id+'"><circle cx="0" cy="0" fill="'+o.nodeCircleMenuButton.color+'" r="'+o.nodeCircleMenuButton.radius+'" stroke-width="1" stroke="'+o.nodeCircleMenuButton.stroke+'"></circle><line x1="-'+o.nodeCircleMenuButton.radius/2+'" y1="-6" x2="'+o.nodeCircleMenuButton.radius/2+'" y2="-6" stroke-width="2" stroke="'+o.nodeCircleMenuButton.stroke+'"></line><line x1="-'+o.nodeCircleMenuButton.radius/2+'" y1="0" x2="'+o.nodeCircleMenuButton.radius/2+'" y2="0" stroke-width="2" stroke="'+o.nodeCircleMenuButton.stroke+'"></line><line x1="-'+o.nodeCircleMenuButton.radius/2+'" y1="6" x2="'+o.nodeCircleMenuButton.radius/2+'" y2="6" stroke-width="2" stroke="'+o.nodeCircleMenuButton.stroke+'"></line></g>'),a},expandCollapseBtn:function(t,n,i,o,l){var a="";if(o!==e.action.exporting&&!n.isSplit){var s=i[n.lcn?n.lcn:"base"],c=0,d=0,f=e.t(n.templateName,n.min,l);if(n.childrenIds.length>0){if(n.hasPartners){for(var u=!1,p=0;p<n.childrenIds.length;p++){var m=t.getNode(n.childrenIds[p]);!m||m.parentPartner||m.isPartner||(u=!0)}if(!u)return""}switch(s.orientation){case e.orientation.top:case e.orientation.top_left:c=n.x+n.w/2,d=n.y+n.h;break;case e.orientation.bottom:case e.orientation.bottom_left:c=n.x+n.w/2,d=n.y;break;case e.orientation.right:case e.orientation.right_top:c=n.x,d=n.y+n.h/2;break;case e.orientation.left:case e.orientation.left_top:c=n.x+n.w,d=n.y+n.h/2}if(c-=f.expandCollapseSize/2,d-=f.expandCollapseSize/2,t.getCollapsedIds(n).length?(a+=e.expcollOpenTag.replace("{id}",n.id).replace("{x}",c).replace("{y}",d),a+=f.plus,a+=e.grCloseTag):(a+=e.expcollOpenTag.replace("{id}",n.id).replace("{x}",c).replace("{y}",d),a+=f.minus,a+=e.grCloseTag),a.indexOf("{collapsed-children-count}")!=-1){var g=e.collapsedChildrenCount(t,n);a=a.replace("{collapsed-children-count}",g)}if(a.indexOf("{collapsed-children-total-count}")!=-1){var x=e.collapsedChildrenTotalCount(t,n);a=a.replace("{collapsed-children-total-count}",x)}if(a.indexOf("{children-count}")!=-1){var y=e.childrenCount(t,n);a=a.replace("{children-count}",y)}if(a.indexOf("{children-total-count}")!=-1){var v=e.childrenTotalCount(t,n);a=a.replace("{children-total-count}",v)}}t._nodeHasHiddenParent(n)&&(a+=e.upOpenTag.replace("{id}",n.id).replace("{x}",n.x).replace("{y}",n.y),a+=f.up,a+=e.grCloseTag)}var h={html:a,node:n};return e.events.publish("renderbuttons",[t,h]),h.html},link:function(t,n,i,o,l,a,s){var c=t.lcn?t.lcn:"base",d=n._layoutConfigs[c],f=e.t(t.templateName,t.min,i),u=[],p=[],m=d.levelSeparation/2;t.layout>0&&(m=d.mixedHierarchyNodesSeparation/2);var g=0,x=e.getRootOf(t).id,y=o[x][t.sl],v=void 0;if(t.hasPartners){v={ids:[],indexes:{},ppnodes:{},lastLeft:null,firstRight:null,maxSidePartnersWithChildren:0,rightIds:[],leftIds:[],partnerChildrenSplitSeparation:n.config.partnerChildrenSplitSeparation};for(var h=0;h<t.children.length;h++)(_=t.children[h]).parentPartner?(v.ppnodes[_.id]=_.parentPartner,v.ids.push(_.id),_.parentPartner.isPartner==1?(v.rightIds.indexOf(_.parentPartner.id)==-1&&v.rightIds.push(_.parentPartner.id),v.indexes[_.id]=v.rightIds.indexOf(_.parentPartner.id),v.firstRight||(v.firstRight=_)):_.parentPartner.isPartner==2&&(v.leftIds.indexOf(_.parentPartner.id)==-1&&v.leftIds.push(_.parentPartner.id),v.indexes[_.id]=v.leftIds.indexOf(_.parentPartner.id),v.lastLeft=_)):_.isPartner||(v.lastLeft=_,v.firstRight||(v.firstRight=_));v.maxSidePartnersWithChildren=Math.max(v.leftIds.length,v.rightIds.length),g=v.maxSidePartnersWithChildren==0?n.config.minPartnerSeparation/2:n.config.minPartnerSeparation/2+v.partnerChildrenSplitSeparation*v.maxSidePartnersWithChildren+v.partnerChildrenSplitSeparation/2}for(h=0;h<t.children.length;h++){var w,_=t.children[h],b=o[x][_.sl],S={xa:0,ya:0,xb:0,yb:0,xc:0,yc:0,xd:0,yd:0,x:0,y:0,rotate:0},k=(f=e.t(_.templateName,_.min,i)).link;if(_.isChildOfPartner)switch(d.orientation){case e.orientation.top:case e.orientation.top_left:var C=_.layout==1?void 0:b.minY-(b.minY-y.maxY)/2;S=e.ui._linkTopToBottom(_.parentPartner,_,f,m,C);break;case e.orientation.bottom:case e.orientation.bottom_left:C=_.layout==1?void 0:b.maxY-(b.maxY-y.minY)/2,S=e.ui._linkBottomToTop(_.parentPartner,_,f,m,C);break;case e.orientation.right:case e.orientation.right_top:C=_.layout==1?void 0:b.maxX-(b.maxX-y.minX)/2,S=e.ui._linkRightToLeft(_.parentPartner,_,f,m,C);break;case e.orientation.left:case e.orientation.left_top:C=_.layout==1?void 0:b.minX-(b.minX-y.maxX)/2,S=e.ui._linkLeftToRight(_.parentPartner,_,f,m,C)}else if(v&&v.ids.indexOf(_.id)!=-1)switch(d.orientation){case e.orientation.top:case e.orientation.top_left:S=e.ui._linkPpTop(v,t,_,b,y,f);break;case e.orientation.bottom:case e.orientation.bottom_left:S=e.ui._linkPpBottom(v,t,_,b,y,f);break;case e.orientation.right:case e.orientation.right_top:S=e.ui._linkPpRight(v,t,_,b,y,f);break;case e.orientation.left:case e.orientation.left_top:S=e.ui._linkPpLeft(v,t,_,b,y,f)}else{var E=_.isAssistant&&_.rightNeighbor&&_.rightNeighbor.isAssistant&&_.parent==_.rightNeighbor.parent,L=_.isAssistant&&_.leftNeighbor&&_.leftNeighbor.isAssistant&&_.parent==_.leftNeighbor.parent;if((E||_.layout>1)&&_.rightNeighbor&&_.rightNeighbor.isSplit)switch(d.orientation){case e.orientation.top:case e.orientation.top_left:case e.orientation.bottom:case e.orientation.bottom_left:S=e.ui._linkRightToLeft(_.rightNeighbor,_,f,m);break;case e.orientation.right:case e.orientation.right_top:case e.orientation.left:case e.orientation.left_top:S=e.ui._linkBottomToTop(_.rightNeighbor,_,f,m)}else if((L||_.layout>1)&&_.leftNeighbor&&_.leftNeighbor.isSplit)switch(d.orientation){case e.orientation.top:case e.orientation.top_left:case e.orientation.bottom:case e.orientation.bottom_left:S=e.ui._linkLeftToRight(_.leftNeighbor,_,f,m);break;case e.orientation.right:case e.orientation.right_top:case e.orientation.left:case e.orientation.left_top:S=e.ui._linkTopToBottom(_.leftNeighbor,_,f,m)}else switch(d.orientation){case e.orientation.top:case e.orientation.top_left:_.isPartner==1?S=e.ui._linkLeftToRight(t,_,f,g):_.isPartner==2?S=e.ui._linkRightToLeft(t,_,f,g):(C=_.layout==1?void 0:b.minY-(b.minY-y.maxY)/2,S=e.ui._linkTopToBottom(t,_,f,m,C));break;case e.orientation.bottom:case e.orientation.bottom_left:_.isPartner==1?S=e.ui._linkLeftToRight(t,_,f,g):_.isPartner==2?S=e.ui._linkRightToLeft(t,_,f,g):(C=_.layout==1?void 0:b.maxY-(b.maxY-y.minY)/2,S=e.ui._linkBottomToTop(t,_,f,m,C));break;case e.orientation.right:case e.orientation.right_top:_.isPartner==1?S=e.ui._linkTopToBottom(t,_,f,g):_.isPartner==2?S=e.ui._linkBottomToTop(t,_,f,g):(C=_.layout==1?void 0:b.maxX-(b.maxX-y.minX)/2,S=e.ui._linkRightToLeft(t,_,f,m,C));break;case e.orientation.left:case e.orientation.left_top:_.isPartner==1?S=e.ui._linkTopToBottom(t,_,f,g):_.isPartner==2?S=e.ui._linkBottomToTop(t,_,f,g):(C=_.layout==1?void 0:b.minX-(b.minX-y.maxX)/2,S=e.ui._linkLeftToRight(t,_,f,m,C))}}var B=e.ui._draggableLinkPath(n,t,_,S,m,d.orientation);if(B)w=B,k=k.replaceAll("{rounded}",B).replaceAll("{edge}",B).replaceAll("{curve}",w);else if(k.indexOf("{rounded}")!=-1)if(S.xa==S.xb&&S.xa==S.xc&&S.xa==S.xd||S.ya==S.yb&&S.ya==S.yc&&S.ya==S.yd)w="M"+S.xa+","+S.ya+" L"+S.xd+","+S.yd,k=k.replaceAll("{rounded}",w);else if(Math.abs(S.xa-S.xd)<=e.LINK_ROUNDED_CORNERS&&Math.abs(S.xa-S.xc)<=e.LINK_ROUNDED_CORNERS&&Math.abs(S.xa-S.xb)<=e.LINK_ROUNDED_CORNERS)w="M"+S.xa+","+S.ya+" L"+S.xa+","+S.yd,k=k.replaceAll("{rounded}",w);else if(Math.abs(S.ya-S.yd)<=e.LINK_ROUNDED_CORNERS&&Math.abs(S.ya-S.yc)<=e.LINK_ROUNDED_CORNERS&&Math.abs(S.ya-S.yb)<=e.LINK_ROUNDED_CORNERS)w="M"+S.xa+","+S.ya+" L"+S.xd+","+S.ya,k=k.replaceAll("{rounded}",w);else{var R=e.ui._roundedEdge(S.xa,S.ya,S.xb,S.yb,S.xc,S.yc),U=e.ui._roundedEdge(S.xb,S.yb,S.xc,S.yc,S.xd,S.yd);w="M"+R.x1+","+R.y1+" "+R.x2+","+R.y2+" Q"+R.qx1+","+R.qy1+" "+R.qx2+","+R.qy2+" L"+U.x2+","+U.y2+" Q"+U.qx1+","+U.qy1+" "+U.qx2+","+U.qy2+" L"+U.x3+","+U.y3,k=k.replaceAll("{rounded}",w)}else k.indexOf("{edge}")!=-1?(w="M"+S.xa+","+S.ya+" "+S.xb+","+S.yb+" "+S.xc+","+S.yc+" L"+S.xd+","+S.yd,k=k.replaceAll("{edge}",w)):k.indexOf("{curve}")!=-1?(w="M"+S.xa+","+S.ya+" C"+S.xb+","+S.yb+" "+S.xc+","+S.yc+" "+S.xd+","+S.yd,k=k.replaceAll("{curve}",w)):(w=k.replaceAll("{xa}",S.xa).replaceAll("{ya}",S.ya).replaceAll("{xb}",S.xb).replaceAll("{yb}",S.yb).replaceAll("{xc}",S.xc).replaceAll("{yc}",S.yc).replaceAll("{xd}",S.xd).replaceAll("{yd}",S.yd),k=w);u.push(e.linkOpenTag.replaceAll("{id}",t.id).replaceAll("{class}","link "+_.tags.join(" ")).replaceAll("{child-id}",_.id));var z={node:t,cnode:_,p:S,html:k,action:a};e.events.publish("render-link",[n,z]),u.push(z.html),s&&p.push({id:t.id,childId:_.id,html:z.html});var j="";for(var V in n.config.linkBinding){var I=n.config.linkBinding[V],A=n._get(_.id);if(A){var M=A[I];z.value=M,z.element=f[V],z.name=I,e.events.publish("label",[n,z])!==!1&&(e.isNEU(z.value)||e.isNEU(z.element)||(j+=z.element.replace("{val}",z.value)))}}if(j!=""){var H=S.x,D=S.y;_.movey!=null&&(D+=_.movey),j=e.linkFieldsOpenTag.replace("{x}",H).replace("{y}",D).replace("{rotate}",0)+j+e.grCloseTag,u.push(j)}u.push(e.grCloseTag)}return s?p:u.join("")},svg:function(t,n,i,o,l,a){return e.t(o.template,!1,a).svg.replace("{w}",t).replace("{h}",n).replace("{viewBox}",i).replace("{randId}",e.ui._defsIds[o.template]).replace("{mode}",o.mode).replace("{template}",o.template).replace("{content}",function(){return l})},menuButton:function(t){return t.menu==null?"":e.t(t.template,!1).menuButton.replaceAll("{p}",t.padding)},_roundedEdge:function(t,n,i,o,l,a){var s,c,d,f=e.LINK_ROUNDED_CORNERS,u=0;return t==i&&t==l||n==o&&n==a?(s=d=i,c=u=o):(t!=l&&i==l&&(s=d=i,c=o,n<a?u=o+f:n>a&&(u=o-f)),t<l&&i==l?i-=f:t>l&&i==l&&(i+=f),n!=a&&o==a&&(s=i,c=u=o,t<l?d=i+f:t>l&&(d=i-f)),n<a&&o==a?o-=f:n>a&&o==a&&(o+=f)),{x1:t,y1:n,x2:i,y2:o,x3:l,y3:a,qx1:s,qy1:c,qx2:d,qy2:u}},_linkTopToBottom:function(t,n,i,o,l){var a,s,c,d,f,u=0;return a=t.x+t.w/2+i.linkAdjuster.toX,s=t.y+t.h+i.linkAdjuster.toY,d=c=n.x+n.w/2+i.linkAdjuster.fromX,f=n.y+i.linkAdjuster.fromY,{xa:a,ya:s,xb:a,yb:u=t.rightNeighbor&&t.rightNeighbor.isAssistant&&n.templateName=="split"?t.rightNeighbor.y+t.rightNeighbor.h+o:t.templateName=="split"&&(n.isAssistant||n.layout>1)?f:n.templateName=="split"?s+o:l??f-o,xc:c,yc:u,xd:d,yd:f,x:c,y:e.isNEU(n.parentPartner)?u+16:u,rotate:0}},_linkBottomToTop:function(t,n,i,o,l){var a,s,c,d,f,u=0;return a=t.x+t.w/2+i.linkAdjuster.toX,s=t.y+i.linkAdjuster.toY,d=c=n.x+n.w/2+i.linkAdjuster.fromX,f=n.y+n.h+i.linkAdjuster.fromY,{xa:a,ya:s,xb:a,yb:u=t.rightNeighbor&&t.rightNeighbor.isAssistant&&n.templateName=="split"?t.rightNeighbor.y-o:t.templateName=="split"&&(n.isAssistant||n.layout>1)?f:n.templateName=="split"?s-o:l??f+o,xc:c,yc:u,xd:d,yd:f,x:c,y:u-14,rotate:0}},_linkRightToLeft:function(t,n,i,o,l){var a,s,c,d,f,u,p=0;return a=t.x+i.linkAdjuster.toX,s=t.y+t.h/2+i.linkAdjuster.toY,f=n.x+n.w+i.linkAdjuster.fromX,u=d=n.y+n.h/2+i.linkAdjuster.fromY,c=s,{xa:a,ya:s,xb:p=t.rightNeighbor&&t.rightNeighbor.isAssistant&&n.templateName=="split"?t.rightNeighbor.x-o:t.templateName=="split"&&(n.isAssistant||n.layout>1)?f:n.templateName=="split"?a-o:l??f+o,yb:c,xc:p,yc:d,xd:f,yd:u,x:p-16,y:d,rotate:90}},_linkLeftToRight:function(t,n,i,o,l){var a,s,c,d,f,u,p=0;return a=t.x+t.w+i.linkAdjuster.toX,s=t.y+t.h/2+i.linkAdjuster.toY,f=n.x+i.linkAdjuster.fromX,u=d=n.y+n.h/2+i.linkAdjuster.fromY,c=s,{xa:a,ya:s,xb:p=t.rightNeighbor&&t.rightNeighbor.isAssistant&&n.templateName=="split"?t.rightNeighbor.x+t.rightNeighbor.w+o:t.templateName=="split"&&(n.isAssistant||n.layout>1)?f:n.templateName=="split"?a+o:l??f-o,yb:c,xc:p,yc:d,xd:f,yd:u,x:p+14,y:d,rotate:270}},_linkPpTop:function(t,n,i,o,l,a){var s=t.ppnodes[i.id],c=s.y+s.h/2,d=o.minY-(o.minY-l.maxY)/2,f=(o.minY-l.maxY)/t.maxSidePartnersWithChildren/4,u=e.ui.__linkPpBottomTop(t,n,i,d,f,s),p=u.x;return d=u.mid,e.ui._linkTopToBottom({x:p,y:c,w:0,h:0},i,a,0,d)},_linkPpBottom:function(t,n,i,o,l,a){var s=t.ppnodes[i.id],c=s.y+s.h/2,d=o.maxY-(o.maxY-l.minY)/2,f=(o.maxY-l.minY)/t.maxSidePartnersWithChildren/4,u=e.ui.__linkPpBottomTop(t,n,i,d,f,s),p=u.x;return d=u.mid,e.ui._linkBottomToTop({x:p,y:c,w:0,h:0},i,a,0,d)},_linkPpLeft:function(t,n,i,o,l,a){var s=t.ppnodes[i.id],c=o.minX-(o.minX-l.maxX)/2,d=(o.minX-l.maxX)/t.maxSidePartnersWithChildren/4,f=s.x+s.w/2,u=e.ui.__linkPpLeftRight(t,n,i,c,d,s),p=u.y;return c=u.mid,e.ui._linkLeftToRight({x:f,y:p,w:0,h:0},i,a,0,c)},_linkPpRight:function(t,n,i,o,l,a){var s=t.ppnodes[i.id],c=o.maxX-(o.maxX-l.minX)/2,d=(o.maxX-l.minX)/t.maxSidePartnersWithChildren/4,f=s.x+s.w/2,u=e.ui.__linkPpLeftRight(t,n,i,c,d,s),p=u.y;return c=u.mid,e.ui._linkRightToLeft({x:f,y:p,w:0,h:0},i,a,0,c)},__linkPpBottomTop:function(t,n,i,o,l,a){var s=0;return a.isPartner==1?(s=a.x-n.partnerSeparation/2+t.indexes[i.id]*t.partnerChildrenSplitSeparation-(t.rightIds.length-1)*t.partnerChildrenSplitSeparation/2,t.lastLeft&&s<t.lastLeft.x+t.lastLeft.w/2?s<i.x+i.w/2?o-=(t.indexes[i.id]+1)*l:o-=(t.rightIds.length-t.indexes[i.id])*l:s<i.x+i.w/2?o+=(t.rightIds.length-t.indexes[i.id])*l:o+=(t.indexes[i.id]+1)*l):a.isPartner==2&&(s=a.x+a.w+n.partnerSeparation/2+t.indexes[i.id]*t.partnerChildrenSplitSeparation-(t.leftIds.length-1)*t.partnerChildrenSplitSeparation/2,t.firstRight&&s>t.firstRight.x+t.firstRight.w/2?s<i.x+i.w/2?o-=(t.indexes[i.id]+1)*l:o-=(t.leftIds.length-t.indexes[i.id])*l:s<i.x+i.w/2?o+=(t.leftIds.length-t.indexes[i.id])*l:o+=(t.indexes[i.id]+1)*l),{x:s,mid:o}},__linkPpLeftRight:function(t,n,i,o,l,a){var s=0;return a.isPartner==1?(s=a.y-n.partnerSeparation/2+t.indexes[i.id]*t.partnerChildrenSplitSeparation-(t.rightIds.length-1)*t.partnerChildrenSplitSeparation/2,t.lastLeft&&s<t.lastLeft.y+t.lastLeft.h/2?s<i.y+i.h/2?o-=(t.indexes[i.id]+1)*l:o-=(t.rightIds.length-t.indexes[i.id])*l:s<i.y+i.h/2?o+=(t.rightIds.length-t.indexes[i.id])*l:o+=(t.indexes[i.id]+1)*l):a.isPartner==2&&(s=a.y+a.h+n.partnerSeparation/2+t.indexes[i.id]*t.partnerChildrenSplitSeparation-(t.leftIds.length-1)*t.partnerChildrenSplitSeparation/2,t.firstRight&&s>t.firstRight.y+t.firstRight.h/2?s<i.y+i.h/2?o-=(t.indexes[i.id]+1)*l:o-=(t.leftIds.length-t.indexes[i.id])*l:s<i.y+i.h/2?o+=(t.leftIds.length-t.indexes[i.id])*l:o+=(t.indexes[i.id]+1)*l),{y:s,mid:o}},_draggableLinkPath:function(t,n,i,o,l,a){if(i.isPartner||i.isAssistant)return null;if(e._isMoved(i)&&!e._isMoved(n)){var s=[];switch(a){case e.orientation.top:case e.orientation.top_left:if(o.yb+l/2<o.yd)return null;d=o.xa<o.xd?i.x-l/2:i.x+i.w+l/2,f=i.y-l/2;break;case e.orientation.bottom:case e.orientation.bottom_left:if(o.yb-l/2>o.yd)return null;d=o.xa<o.xd?i.x-l/2:i.x+i.w+l/2,f=i.y+i.h+l/2;break;case e.orientation.right:case e.orientation.right_top:if(o.xb-l/2>o.xd)return null;f=o.ya<o.yd?i.y-l/2:i.y+i.h+l/2,d=i.x+i.w+l/2;break;case e.orientation.left:case e.orientation.left_top:if(o.xb+l/2<o.xd)return null;f=o.ya<o.yd?i.y-l/2:i.y+i.h+l/2,d=i.x-l/2}switch(a){case e.orientation.top:case e.orientation.top_left:case e.orientation.bottom:case e.orientation.bottom_left:s.push(["M",o.xa,o.ya]),s.push(["L",o.xb,o.yb]),s.push(["L",d,o.yb]),s.push(["L",d,f]),s.push(["L",o.xd,f]),s.push(["L",o.xd,o.yd]);break;case e.orientation.right:case e.orientation.right_top:case e.orientation.left:case e.orientation.left_top:(s=[]).push(["M",o.xa,o.ya]),s.push(["L",o.xb,o.yb]),s.push(["L",o.xb,f]),s.push(["L",d,f]),s.push(["L",d,o.yd]),s.push(["L",o.xd,o.yd])}return e.roundPathCorners(s,e.LINK_ROUNDED_CORNERS,!1)}if(!e._isMoved(i)&&e._isMoved(n)){var c=!1;switch(s=[],a){case e.orientation.top:case e.orientation.top_left:if(o.ya+l/2>o.yb)c=!0,d=o.xa<o.xd?n.x+n.w+l/2:n.x-l/2,f=n.y+n.h+l;else{if(o.yb+l/2<o.yd)return null;d=o.xa<o.xd?i.x-l/2:i.x+i.w+l/2,f=i.y-l/2}break;case e.orientation.bottom:case e.orientation.bottom_left:if(o.ya-l/2<o.yb)c=!0,d=o.xa<o.xd?n.x+n.w+l/2:n.x-l/2,f=n.y-l;else{if(o.yb-l/2>o.yd)return null;d=o.xa<o.xd?i.x-l/2:i.x+i.w+l/2,f=i.y+i.h+l/2}break;case e.orientation.right:case e.orientation.right_top:if(o.xa-l/2<o.xb)c=!0,f=o.ya<o.yd?n.y+n.h+l/2:n.y-l/2,d=n.x-l;else{if(o.xb-l/2>o.xd)return null;f=o.ya<o.yd?i.y-l/2:i.y+i.h+l/2,d=i.x+i.w+l/2}break;case e.orientation.left:case e.orientation.left_top:if(o.xa+l/2>o.xb)c=!0,f=o.ya<o.yd?n.y+n.h+l/2:n.y-l/2,d=n.x+n.w+l;else{if(o.xb+l/2<o.xd)return null;f=o.ya<o.yd?i.y-l/2:i.y+i.h+l/2,d=i.x-l/2}}if(c)switch(a){case e.orientation.top:case e.orientation.top_left:case e.orientation.bottom:case e.orientation.bottom_left:s.push(["M",o.xa,o.ya]),s.push(["L",o.xa,f]),s.push(["L",d,f]),s.push(["L",d,o.yc]),s.push(["L",o.xc,o.yc]),s.push(["L",o.xd,o.yd]);break;case e.orientation.right:case e.orientation.right_top:case e.orientation.left:case e.orientation.left_top:s.push(["M",o.xa,o.ya]),s.push(["L",d,o.ya]),s.push(["L",d,f]),s.push(["L",o.xc,f]),s.push(["L",o.xc,o.yc]),s.push(["L",o.xd,o.yd])}else switch(a){case e.orientation.top:case e.orientation.top_left:case e.orientation.bottom:case e.orientation.bottom_left:s.push(["M",o.xa,o.ya]),s.push(["L",o.xb,o.yb]),s.push(["L",d,o.yb]),s.push(["L",d,f]),s.push(["L",o.xd,f]),s.push(["L",o.xd,o.yd]);break;case e.orientation.right:case e.orientation.right_top:case e.orientation.left:case e.orientation.left_top:s.push(["M",o.xa,o.ya]),s.push(["L",o.xb,o.yb]),s.push(["L",o.xb,f]),s.push(["L",d,f]),s.push(["L",d,o.yd]),s.push(["L",o.xd,o.yd])}return e.roundPathCorners(s,e.LINK_ROUNDED_CORNERS,!1)}if(e._isMoved(i)&&e._isMoved(n)){switch(s=[],a){case e.orientation.top:case e.orientation.top_left:if(o.ya+l>o.yd){var d=o.xa<o.xd?n.x+n.w+l/2:n.x-l/2,f=n.y+n.h+l,u=i.y-l;s.push(["M",o.xa,o.ya]),s.push(["L",o.xa,f]),s.push(["L",d,f]),s.push(["L",d,u]),s.push(["L",o.xc,u]),s.push(["L",o.xd,o.yd])}else s.push(["M",o.xa,o.ya]),s.push(["L",o.xa,n.y+n.h+l]),s.push(["L",o.xc,n.y+n.h+l]),s.push(["L",o.xd,o.yd]);break;case e.orientation.bottom:case e.orientation.bottom_left:o.ya-l<o.yd?(d=o.xa<o.xd?n.x+n.w+l/2:n.x-l/2,f=n.y-l,u=i.y+i.h+l,s.push(["M",o.xa,o.ya]),s.push(["L",o.xa,f]),s.push(["L",d,f]),s.push(["L",d,u]),s.push(["L",o.xc,u]),s.push(["L",o.xd,o.yd])):(s.push(["M",o.xa,o.ya]),s.push(["L",o.xa,n.y-l]),s.push(["L",o.xc,n.y-l]),s.push(["L",o.xd,o.yd]));break;case e.orientation.right:case e.orientation.right_top:if(o.xa-l<o.xd){f=o.ya<o.yd?n.y+n.h+l/2:n.y-l/2,d=n.x-l;var p=i.x+i.w+l;s.push(["M",o.xa,o.ya]),s.push(["L",d,o.ya]),s.push(["L",d,f]),s.push(["L",p,f]),s.push(["L",p,o.yc]),s.push(["L",o.xd,o.yd])}else s.push(["M",o.xa,o.ya]),s.push(["L",n.x-l,o.ya]),s.push(["L",n.x-l,o.yc]),s.push(["L",o.xd,o.yd]);break;case e.orientation.left:case e.orientation.left_top:o.xa+l>o.xd?(f=o.ya<o.yd?n.y+n.h+l/2:n.y-l/2,d=n.x+n.w+l,p=i.x-l,s.push(["M",o.xa,o.ya]),s.push(["L",d,o.ya]),s.push(["L",d,f]),s.push(["L",p,f]),s.push(["L",p,o.yc]),s.push(["L",o.xd,o.yd])):(s.push(["M",o.xa,o.ya]),s.push(["L",n.x+n.w+l,o.ya]),s.push(["L",n.x+n.w+l,o.yc]),s.push(["L",o.xd,o.yd]))}return e.roundPathCorners(s,e.LINK_ROUNDED_CORNERS,!1)}return null}},e.ui._base_nodeBtns=e.ui.nodeBtns,e.ui.nodeBtns=function(t,n,i,o,l){var a="";return l._tree_menu_temp?!n.isSplit&&i!==e.action.exporting&&o.nodeTreeMenuCloseButton&&l._tree_menu_temp.id==n.id&&(a+=o.nodeTreeMenuCloseButton):(a=e.ui._base_nodeBtns(t,n,i,o,l),t.nodeTreeMenu!=null&&!n.isSplit&&i!==e.action.exporting&&o.nodeTreeMenuButton&&(a+=o.nodeTreeMenuButton.replace("{id}",n.id))),a},e.ui._base_expandCollapseBtn=e.ui.expandCollapseBtn,e.ui.expandCollapseBtn=function(t,n,i,o,l){return t._tree_menu_temp?"":e.ui._base_expandCollapseBtn(t,n,i,o,l)},e.xScrollUI=function(t,n,i,o,l){this.element=t,this.requestParams=i,this.config=n,this.onSetViewBoxCallback=o,this.onDrawCallback=l,this.position=0,this.bar=null,this._event_id=e._guid()},e.xScrollUI.prototype.addListener=function(t){var n=this;if((this.config.mouseScrool==e.action.xScroll||this.config.mouseScrool==e.action.scroll)&&this.bar){var i=navigator.userAgent.indexOf("Mac OS")!==-1,o=e._getScrollSensitivity();(function(l,a,s){var c=!1;function d(){c=!0;var u=(n.position-n.bar.scrollLeft)/s;if(u>0)u++;else{if(u==0)return void(c=!1);u--}Math.ceil(n.bar.scrollLeft)==Math.ceil(n.position)?c=!1:(n.bar.scrollLeft+=u,f(d))}l.addEventListener("wheel",function(u){if(!u.ctrlKey){var p=0;if(n.config.mouseScrool==e.action.xScroll)(p=u.deltaX||u.wheelDeltaX)||(p=u.deltaY||u.wheelDeltaY);else if(n.config.mouseScrool==e.action.scroll&&!(p=i||!u.shiftKey?u.deltaX||u.wheelDeltaX:u.deltaY||u.wheelDeltaY))return;p=-p,p=Math.max(-1,Math.min(1,p)),n.position+=-p*a;var m=parseFloat(n.innerBar.clientWidth)-parseFloat(n.bar.clientWidth);n.position<0&&(n.position=0),n.position>m&&(n.position=m),c||d()}},{passive:!0});var f=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(u){setTimeout(u,20)}})(t,o.speed,o.smooth)}},e.xScrollUI.prototype.create=function(t){if(this.config.showXScroll===e.scroll.visible||this.config.mouseScrool===e.action.scroll||this.config.mouseScrool===e.action.xScroll){var n=this;this.bar&&this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.bar=document.createElement("div"),this.innerBar=document.createElement("div"),this.requestParams(),this.innerBar.innerHTML="&nbsp",Object.assign(this.bar.style,{position:"absolute",left:0,bottom:0,width:t+"px","overflow-x":"scroll",height:"20px"}),this.element.appendChild(this.bar),this.bar.appendChild(this.innerBar),this.bar.addEventListener("scroll",function(){if(this.ignore)this.ignore=!1;else{var i=n.requestParams(),o=(parseFloat(n.innerBar.clientWidth)-parseFloat(n.bar.clientWidth))/100,l=this.scrollLeft/o,a=(i.boundary.right-i.boundary.left)/100;i.viewBox[0]=l*a+i.boundary.left,n.onSetViewBoxCallback(i.viewBox),clearTimeout(this._timeout),this._timeout=setTimeout(function(){n.onDrawCallback()},500)}})}},e.xScrollUI.prototype.setPosition=function(){if(this.bar){var t=this.requestParams(),n=(Math.abs(t.boundary.maxX-t.boundary.minX)+2*this.config.padding)*t.scale;switch(this.config.orientation){case e.orientation.right:case e.orientation.right_top:n=Math.abs(t.boundary.minX*t.scale)}this.innerBar.style.width=n+"px";var i=(t.boundary.right-t.boundary.left)/100,o=(t.viewBox[0]-t.boundary.left)/i;o<0?o=0:o>100&&(o=100);var l=(parseFloat(this.innerBar.clientWidth)-parseFloat(this.bar.clientWidth))/100,a=o*l;this.bar.ignore=!0,this.bar.scrollLeft=a,this.position=this.bar.scrollLeft,this.bar.style.visibility=l<=0?"hidden":"",this.config.showXScroll!==e.scroll.visible&&(this.bar.style.visibility="hidden"),e.events.publish("change",[this,{isScrollBarVisible:this.bar.style.visibility!="hidden"}])}},e.xScrollUI.prototype.on=function(t,n){return e.events.on(t,n,this._event_id),this},e.yScrollUI=function(t,n,i,o,l){this.element=t,this.requestParams=i,this.config=n,this.onSetViewBoxCallback=o,this.onDrawCallback=l,this.position=0,this.bar=null,this._event_id=e._guid()},e.yScrollUI.prototype.addListener=function(t){var n=this;if((this.config.mouseScrool==e.action.yScroll||this.config.mouseScrool==e.action.scroll)&&this.bar){var i=navigator.userAgent.indexOf("Mac OS")!==-1,o=e._getScrollSensitivity();(function(l,a,s){var c=!1;function d(){c=!0;var u=(n.position-n.bar.scrollTop)/s;if(u>0)u++;else{if(u==0)return void(c=!1);u--}Math.ceil(n.bar.scrollTop)==Math.ceil(n.position)?c=!1:(n.bar.scrollTop+=u,f(d))}l.addEventListener("wheel",function(u){if(!u.ctrlKey){var p=0;if(n.config.mouseScrool==e.action.yScroll)(p=u.deltaY||u.wheelDeltaY)||(p=u.deltaX||u.wheelDeltaX);else if(n.config.mouseScrool==e.action.scroll&&!(p=i||!u.shiftKey?u.deltaY||u.wheelDeltaY:u.deltaX||u.wheelDeltaX))return;p=-p,p=Math.max(-1,Math.min(1,p)),n.position+=-p*a;var m=parseFloat(n.innerBar.clientHeight)-parseFloat(n.bar.clientHeight);n.position<0&&(n.position=0),n.position>m&&(n.position=m),c||d()}},{passive:!0});var f=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(u){setTimeout(u,20)}})(t,o.speed,o.smooth)}},e.yScrollUI.prototype.create=function(t){if(this.config.showYScroll===e.scroll.visible||this.config.mouseScrool===e.action.scroll||this.config.mouseScrool===e.action.yScroll){var n=this;this.bar&&this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.bar=document.createElement("div"),this.innerBar=document.createElement("div"),this.innerBar.innerHTML="&nbsp",Object.assign(this.bar.style,{position:"absolute",right:0,bottom:0,height:t+"px","overflow-y":"scroll",width:"20px"}),this.element.appendChild(this.bar),this.bar.appendChild(this.innerBar),this.bar.addEventListener("scroll",function(){if(this.ignore)this.ignore=!1;else{var i=n.requestParams(),o=(parseFloat(n.innerBar.clientHeight)-parseFloat(n.bar.clientHeight))/100,l=this.scrollTop/o,a=(i.boundary.bottom-i.boundary.top)/100;i.viewBox[1]=l*a+i.boundary.top,n.onSetViewBoxCallback(i.viewBox),clearTimeout(this._timeout),this._timeout=setTimeout(function(){n.onDrawCallback()},500)}})}},e.yScrollUI.prototype.setPosition=function(){if(this.bar){var t=this.requestParams(),n=(Math.abs(t.boundary.maxY-t.boundary.minY)+2*this.config.padding)*t.scale;switch(this.config.orientation){case e.orientation.bottom:case e.orientation.bottom_left:n=Math.abs(t.boundary.minY*t.scale)}this.innerBar.style.height=n+"px";var i=(t.boundary.bottom-t.boundary.top)/100,o=(t.viewBox[1]-t.boundary.top)/Math.abs(i);o<0?o=0:o>100&&(o=100);var l=(parseFloat(this.innerBar.clientHeight)-parseFloat(this.bar.clientHeight))/100,a=o*l;this.bar.ignore=!0,this.bar.scrollTop=a,this.position=this.bar.scrollTop,this.bar.style.visibility=l<=0?"hidden":"",this.config.showYScroll!==e.scroll.visible&&(this.bar.style.visibility="hidden"),e.events.publish("change",[this,{isScrollBarVisible:this.bar.style.visibility!="hidden"}])}},e.yScrollUI.prototype.on=function(t,n){return e.events.on(t,n,this._event_id),this},e.prototype.zoom=function(t,n,i,o){var l=this.getViewBox().slice(0),a=l,s=l[2],c=l[3];t===!0?(l[2]=l[2]/e.SCALE_FACTOR,l[3]=l[3]/e.SCALE_FACTOR):t===!1?(l[2]=l[2]*e.SCALE_FACTOR,l[3]=l[3]*e.SCALE_FACTOR):(l[2]=l[2]/t,l[3]=l[3]/t),n||(n=[50,50]),l[0]=a[0]-(l[2]-s)/(100/n[0]),l[1]=a[1]-(l[3]-c)/(100/n[1]);var d=this.getScale(l);if(l[2]=this.width()/d,l[3]=this.height()/d,t===!0&&d<this.config.scaleMax||t===!1&&d>this.config.scaleMin||t!=0&&t!=1&&d<this.config.scaleMax&&d>this.config.scaleMin){this._hideBeforeAnimation();var f=this;i?(clearTimeout(f._timeout),e.animate(this.getSvg(),{viewbox:this.getViewBox()},{viewbox:l},this.config.anim.duration,this.config.anim.func,function(){clearTimeout(f._timeout),f._timeout=setTimeout(function(){f._draw(!0,e.action.zoom,null,o)},500)})):(this.setViewBox(l),clearTimeout(f._timeout),f._timeout=setTimeout(function(){f._draw(!0,e.action.zoom,null,o)},500))}},e.loading={},e.loading.show=function(t){var n=document.createElement("div");n.id="bft-loading",n.innerHTML='<style>@-webkit-keyframes dot-keyframes {0% { opacity: .4; -webkit-transform: scale(1, 1);transform: scale(1, 1);}50% {opacity: 1;-webkit-transform: scale(1.2, 1.2);transform: scale(1.2, 1.2);}100% {opacity: .4;-webkit-transform: scale(1, 1);transform: scale(1, 1);}}@keyframes dot-keyframes {0% {opacity: .4;-webkit-transform: scale(1, 1);transform: scale(1, 1);}50% {opacity: 1;-webkit-transform: scale(1.2, 1.2);transform: scale(1.2, 1.2);}100% {opacity: .4;-webkit-transform: scale(1, 1);transform: scale(1, 1);}}.bft-loading-dots div {margin: 10px;}      .bft-dot-1 {background-color: #039BE5;}.bft-dot-2 {background-color: #F57C00;}.bft-dot-3 {background-color: #FFCA28;}      .bft-loading-dots {text-align: center;width: 100%; position: absolute; top: 0;}.bft-loading-dots--dot {-webkit-animation: dot-keyframes 1.5s infinite ease-in-out;animation: dot-keyframes 1.5s infinite ease-in-out;        border-radius: 10px;display: inline-block;height: 10px;width: 10px;}.bft-loading-dots--dot:nth-child(2) {-webkit-animation-delay: .5s;animation-delay: .5s;}.bft-loading-dots--dot:nth-child(3) {-webkit-animation-delay: 1s;animation-delay: 1s;}</style><div class="bft-loading-dots"><div class="bft-loading-dots--dot bft-dot-1"></div><div class="bft-loading-dots--dot bft-dot-2"></div><div class="bft-loading-dots--dot bft-dot-3"></div></div>',t.element.appendChild(n)},e.loading.hide=function(t){var n=t.element.querySelector("#bft-loading");n&&n.parentNode.removeChild(n)},e.pdfPrevUI={},e.loc||(e.loc={}),e.loc.ppdfCmdTitle="PDF Preview",e.loc.ppdfSave="Save",e.loc.ppdfCancel="Cancel",e.loc.ppdfFormat="Format",e.loc.ppdfFitToDrwaing="Fit",e.loc.ppdfA4="A4",e.loc.ppdfA3="A3",e.loc.ppdfA2="A2",e.loc.ppdfA1="A1",e.loc.ppdfLetter="Letter",e.loc.ppdfLegal="Legal",e.loc.ppdfLayout="Layout",e.loc.ppdfPortrait="Portrait",e.loc.ppdfLandscape="Landscape",e.loc.ppdfFittopagewidth="Fit to page width",e.loc.ppdfMargin="Margin",e.loc.ppdfHeader="Header",e.loc.ppdfFooter="Footer",e.loc.ppdfScale="Scale",e.pdfPrevUI.show=function(t,n){e.pdfPrevUI.hide(t),n=t._defaultExportOptions(n,"pdf");var i=document.createElement("div");i.classList.add(t.config.mode),i.id="bft-ppdf-btns",Object.assign(i.style,{position:"absolute",top:0,left:0,"background-color":"#fff","z-index":5,margin:"0 0 0 -265px","box-shadow":"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",width:"265px",height:"100%","font-family":"Roboto,Helvetica",color:"#757575","text-align":"right",padding:"10px"}),t.element.appendChild(i),i.innerHTML="<h1>"+e.loc.ppdfCmdTitle+'</h1><div><button type="button" id="bft-prev-save" style="font-size: 14px; width: 90px;">'+e.loc.ppdfSave+'</button>&nbsp;<button type="button" id="bft-prev-cancel" style="width: 90px;font-size: 14px;">'+e.loc.ppdfCancel+'</button></div><div style="margin-top:30px; height:10px;border-bottom:1px solid #eeeeee;"></div><div style="padding-top:30px;"><label for="bft-size">'+e.loc.ppdfFormat+': </label><select id="bft-ppdf-size" style="color: #757575; width: 150px; font-size: 14px;" id="bft-size"><option value="fit">'+e.loc.ppdfFitToDrwaing+'</option><option value="A4">'+e.loc.ppdfA4+'</option><option value="A3">'+e.loc.ppdfA3+'</option><option value="A2">'+e.loc.ppdfA2+'</option><option value="A1">'+e.loc.ppdfA1+'</option><option value="Letter">'+e.loc.ppdfLetter+'</option><option value="Legal">'+e.loc.ppdfLegal+'</option></select></div><div style="padding-top:10px;"><label for="bft-ppdf-layout">'+e.loc.ppdfLayout+': </label><select id="bft-ppdf-layout" style="color: #757575; width: 150px;font-size: 14px;" ><option value="false">'+e.loc.ppdfPortrait+'</option><option value="true">'+e.loc.ppdfLandscape+'</option></select></div><div style="padding-top:10px;"><label for="bft-scale">'+e.loc.ppdfScale+': </label><select id="bft-ppdf-scale" style="color: #757575; width: 150px;font-size: 14px;" id="bft-scale"><option value="fit">'+e.loc.ppdfFittopagewidth+'</option><option value="10">10%</option><option value="20">20%</option><option value="30">30%</option><option value="40">40%</option><option value="50">50%</option><option value="60">60%</option><option value="70">70%</option><option value="80">80%</option><option value="90">90%</option><option value="100">100%</option><option value="110">110%</option><option value="120">120%</option><option value="130">130%</option><option value="140">140%</option><option value="150">150%</option><option value="160">160%</option><option value="170">170%</option><option value="180">180%</option><option value="190">190%</option><option value="200">200%</option></select></div><div style="margin-top:10px;margin-bottom:10px; height:10px;border-bottom:1px solid #eeeeee;"></div><div style="padding-top:10px;"><label for="bft-ppdf-header">'+e.loc.ppdfHeader+': </label><input id="bft-ppdf-header" type="text" style="color: #757575; width: 100px;font-size: 14px;" ></div><div style="padding-top:10px;"><label for="bft-ppdf-footer">'+e.loc.ppdfFooter+': </label><input id="bft-ppdf-footer" type="text" style="color: #757575; width: 100px;font-size: 14px;" ></div><div style="padding-top:10px;"><label for="bft-ppdf-margin">'+e.loc.ppdfMargin+': </label><input id="bft-ppdf-margin" type="text" style="color: #757575; width: 100px;font-size: 14px;" ></div>';var o=document.createElement("div");o.id="bft-ppdf-wrapper",Object.assign(o.style,{"overflow-y":"scroll","z-index":11,position:"absolute",top:0,left:"285px","background-color":"#eee",width:t.width()-270+"px",height:"100%"}),t.element.appendChild(o),o.innerHTML='<div id="bft-ppdf-content" style="width: 100%;margin-top:10px;margin-bottom:10px;opacity:0;"></div>';var l,a,s,c=t.element.querySelector("#bft-ppdf-size"),d=t.element.querySelector("#bft-ppdf-layout"),f=t.element.querySelector("#bft-ppdf-scale"),u=t.element.querySelector("#bft-ppdf-margin"),p=t.element.querySelector("#bft-ppdf-header"),m=t.element.querySelector("#bft-ppdf-footer");c.value=n.format,d.value=n.landscape,f.value=n.scale,u.value=n.margin,p.value=n.header,m.value=n.footer,e.animate(t.element.querySelector("#bft-ppdf-btns"),{margin:[0,0,0,-250]},{margin:[0,0,0,0]},300,e.anim.outSin,function(){t.exportPDF(n,e.pdfPrevUI._handler)}),t.element.querySelector("#bft-prev-cancel").addEventListener("click",function(){e.pdfPrevUI.hide(t)}),t.element.querySelector("#bft-prev-save").addEventListener("click",function(){t.exportPDF(n),e.pdfPrevUI.hide(t)}),e.pdfPrevUI._showHide(c,d,f),c.addEventListener("change",function(){e.animate(t.element.querySelector("#bft-ppdf-content"),{opacity:1},{opacity:0},300,e.anim.inSin,function(){t.element.querySelector("#bft-ppdf-content").innerHTML="",n.format=c.value,t.exportPDF(n,e.pdfPrevUI._handler),e.pdfPrevUI._showHide(c,d,f)})}),d.addEventListener("change",function(){e.animate(t.element.querySelector("#bft-ppdf-content"),{opacity:1},{opacity:0},300,e.anim.inSin,function(){t.element.querySelector("#bft-ppdf-content").innerHTML="",n.landscape=d.value=="true",t.exportPDF(n,e.pdfPrevUI._handler),e.pdfPrevUI._showHide(c,d,f)})}),f.addEventListener("change",function(){e.animate(t.element.querySelector("#bft-ppdf-content"),{opacity:1},{opacity:0},300,e.anim.inSin,function(){t.element.querySelector("#bft-ppdf-content").innerHTML="",n.scale=f.value,t.exportPDF(n,e.pdfPrevUI._handler),e.pdfPrevUI._showHide(c,d,f)})}),u.addEventListener("keyup",function(){clearTimeout(l),l=setTimeout(function(){e.animate(t.element.querySelector("#bft-ppdf-content"),{opacity:1},{opacity:0},300,e.anim.inSin,function(){t.element.querySelector("#bft-ppdf-content").innerHTML="";var g=u.value.split(",");if(g.length==4){for(var x=0;x<g.length;x++)g[x]=parseInt(g[x]);n.margin=g,t.exportPDF(n,e.pdfPrevUI._handler)}})},1e3)}),p.addEventListener("keyup",function(){clearTimeout(a),a=setTimeout(function(){e.animate(t.element.querySelector("#bft-ppdf-content"),{opacity:1},{opacity:0},300,e.anim.inSin,function(){t.element.querySelector("#bft-ppdf-content").innerHTML="",n.header=p.value,t.exportPDF(n,e.pdfPrevUI._handler)})},1e3)}),m.addEventListener("keyup",function(){clearTimeout(s),s=setTimeout(function(){e.animate(t.element.querySelector("#bft-ppdf-content"),{opacity:1},{opacity:0},300,e.anim.inSin,function(){t.element.querySelector("#bft-ppdf-content").innerHTML="",n.footer=m.value,t.exportPDF(n,e.pdfPrevUI._handler)})},1e3)})},e.pdfPrevUI._showHide=function(t,n,i){t.value=="A4"||t.value=="A3"||t.value=="A2"||t.value=="A1"||t.value=="Letter"||t.value=="Legal"?(n.parentNode.style.display="block",i.parentNode.style.display="block"):(n.parentNode.style.display="none",i.parentNode.style.display="none")},e.pdfPrevUI._handler=function(t,n,i){var o=n.options,l=n.pages,a=o.margin[0],s=o.margin[2],c=document.createElement("div");c.classList.add(t.config.mode),c.innerHTML=i.outerHTML,e._browser().msie&&(c.innerHTML=new XMLSerializer().serializeToString(i));for(var d=c.querySelector("svg"),f=t.element.querySelector("#bft-ppdf-content"),u=0;u<l.length;u++){var p=document.createElement("iframe");Object.assign(p.style,{display:"block",margin:"10px auto",border:"1px solid #eeeeee","box-shadow":"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"}),f.appendChild(p),d&&d.style.backgroundColor?p.style.backgroundColor=d.style.backgroundColor:p.style.backgroundColor="#fff";var m=p.contentWindow.document;m.open(),p.style.width=l[u].size.w+"px",p.style.height=l[u].size.h+"px",p.style.margin="10 auto",l[u].backgroundColor&&(p.style.backgroundColor=l[u].backgroundColor);var g=o.header;l[u].header&&(g=l[u].header),g&&(g=g.replace("{current-page}",u+1).replace("{total-pages}",l.length));var x=o.footer;l[u].footer&&(x=l[u].footer),x&&(x=x.replace("{current-page}",u+1).replace("{total-pages}",l.length)),l[u].html?m.write(e._exportHtml(l[u].html,n.styles,o,l[u].innerSize.w,l[u].innerSize.h,g,x,t.config.mode)):(d.setAttribute("viewBox",l[u].vb),m.write(e._exportHtml(c.innerHTML,n.styles,o,l[u].innerSize.w,l[u].innerSize.h,g,x,t.config.mode)));var y=m.getElementById("bft-header"),v=m.getElementById("bft-footer");if(y){var h=a-y.offsetHeight-7;y.style.top=h+"px"}if(v){var w=s-v.offsetHeight-7;v.style.bottom=w+"px"}m.close()}var _=t.element.querySelector("#bft-ppdf-content");e.animate(_,{opacity:0},{opacity:1},300,e.anim.outSin)},e.pdfPrevUI._getViewBox=function(t){var n=null;return t?(n=(n="["+(n=t.getAttribute("viewBox"))+"]").replace(/\ /g,","),n=JSON.parse(n)):null},e._exportHtml=function(t,n,i,o,l,a,s,c){for(var d="",f=0;f<i.margin.length;f++)d+=i.margin[f]+"px ";var u='<!DOCTYPE html><html style="margin:0;padding:0;"><head></head>'+n+'<body class="bft-'+c+'" style="margin:0; padding:0;"><div style="margin: '+d+";overflow:hidden;width:"+o+"px;height:"+l+'px">';return a&&(u+='<div id="bft-header" style="width:'+o+"px;color:#757575;position:absolute;left:"+i.margin[3]+'px;top:0;">'+a+"</div>"),u+=t,s&&(u+='<div id="bft-footer" style="width:'+o+"px;color:#757575;position:absolute;left:"+i.margin[3]+'px;bottom:0;">'+s+"</div>"),u+="</div>",u+="</body></html>"},e.pdfPrevUI.hide=function(t){var n=t.element.querySelector("#bft-ppdf-wrapper");if(n){n.parentNode.removeChild(n),n.style.opacity=0;var i=t.element.querySelector("#bft-ppdf-btns");i.parentNode.removeChild(i)}},e===void 0&&(e={}),e.events.on("renderdefs",function(t,n){for(var i=0;i<t.config.clinks.length;i++){var o=t.config.clinks[i].template;o||(o="orange");var l=e.clinkTemplates[o];n.defs+=l.defs}}),e.events.on("prerender",function(t,n){e.RENDER_CLINKS_BEFORE_NODES&&t._clink(t,n)}),e.events.on("render",function(t,n){e.RENDER_CLINKS_BEFORE_NODES||t._clink(t,n)}),e.events.on("drag",function(t,n,i,o){if(t instanceof e&&t.config.movable&&o)for(var l=0;l<o.length;l++){for(var a=o[l],s=t.element.querySelectorAll(`[data-c-l-from="${a}"]`),c=t.element.querySelectorAll(`[data-c-l-to="${a}"]`),d=0;d<s.length;d++)s[d].parentNode.removeChild(s[d]);for(d=0;d<c.length;d++)c[d].parentNode.removeChild(c[d])}}),e.prototype._clink=function(t,n){for(var i="",o=0;o<this.config.clinks.length;o++){let E=function(L,B,R){R==null&&(R=1);var U=B.x-L.x,z=B.y-L.y,j=Math.sqrt(Math.pow(B.x-L.x,2)+Math.pow(B.y-L.y,2))/3;return j=j/(Math.sqrt(U*U+z*z)*R)*e.clinkCurve(l),{x:L.x+U/2-z*j,y:L.y+z/2+U*j}};var C=E,l=this.config.clinks[o],a=t.getNode(l.from),s=t.getNode(l.to);if(a&&n.res.visibleNodeIds.indexOf(a.id)!=-1&&s&&n.res.visibleNodeIds.indexOf(s.id)!=-1){var c=a.x,d=a.y,f=s.x,u=s.y,p={},m={},g=c+a.w/2,x=f+s.w/2,y=d+a.h/2,v=u+s.h/2,h=1;switch(this.config.orientation){case e.orientation.top:case e.orientation.top_left:g<=x?(h=1,p.x=g+a.w/10,m.x=x-s.w/10):(h=-1,p.x=g-a.w/10,m.x=x+s.w/10),d==u?(h=1,p.y=d,m.y=u):d>u?(p.y=d,m.y=u+s.h):(p.y=d+a.h,m.y=u);break;case e.orientation.bottom:case e.orientation.bottom_left:g<=x?(h=-1,p.x=g+a.w/10,m.x=x+s.w/10):(h=1,p.x=g-a.w/10,m.x=x+s.w/10),d==u?(h=-1,p.y=d+a.h,m.y=u+s.h):d>u?(p.y=d,m.y=u+s.h):(p.y=d+a.h,m.y=u);break;case e.orientation.left:case e.orientation.left_top:y<=v?(h=-1,p.y=y+a.h/5,m.y=v+s.h/5):(h=1,p.y=y-a.h/5,m.y=v+s.h/5),c==f?(h=-1,p.x=c,m.x=f):c>f?(p.x=c,m.x=f+s.w):(p.x=c+a.w,m.x=f);break;case e.orientation.right:case e.orientation.right_top:y<=v?(h=1,p.y=y+a.h/5,m.y=v+s.h/5):(h=-1,p.y=y-a.h/5,m.y=v+s.h/5),c==f?(h=1,p.x=c+a.w,m.x=f+s.w):c>f?(p.x=c,m.x=f+s.w):(p.x=c+a.w,m.x=f)}var w=E(p,m,h),_=l.template;_||(_="orange");var b=e.clinkTemplates[_];if(l.label){var S=e.clinkLabelPosition(l,p,m,w);i+=b.label.replace("{x}",S.x).replace("{y}",S.y).replace("{val}",l.label)}var k="M"+p.x+","+p.y+"C"+p.x+","+p.y+" "+w.x+","+w.y+" "+m.x+","+m.y;i+=("<g "+e.attr.c_link_from+'="{from}" '+e.attr.c_link_to+'="{to}">').replace("{from}",a.id).replace("{to}",s.id)+b.link.replaceAll("{d}",k)+'<path stroke="transparent" stroke-width="15" fill="none" d="'+k+'" />',i+=e.grCloseTag}}n.content+=i},e.clinkLabelPosition=function(t,n,i,o){var l=(i.x-n.x)/2+n.x,a=(i.y-n.y)/2+n.y;return{x:(l-o.x)/2+o.x,y:(a-o.y)/2+o.y}},e.clinkCurve=function(t){return e.CLINK_CURVE},e.prototype.addClink=function(t,n,i,o){this._putInUndoStack(),this.clearRedo();for(var l=this.config.clinks.length-1;l>=0;l--){var a=this.config.clinks[l];a.from==t&&a.to==n&&this.config.clinks.splice(l,1)}return this.config.clinks.push({from:t,to:n,label:i,template:o}),e.events.publish("updated",[this]),this},e.prototype.removeClink=function(t,n){this._putInUndoStack(),this.clearRedo();for(var i=this.config.clinks.length-1;i>=0;i--){var o=this.config.clinks[i];o.from==t&&o.to==n&&this.config.clinks.splice(i,1)}return e.events.publish("updated",[this]),this},e.clinkTemplates={},e.clinkTemplates.orange={defs:'<marker id="arrowOrange" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#F57C00" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotOrange" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#F57C00" /></marker>',link:'<path marker-start="url(#dotOrange)" marker-end="url(#arrowOrange)" stroke="#F57C00" stroke-width="2" fill="none" d="{d}" />',label:'<text fill="#F57C00" text-anchor="middle" x="{x}" y="{y}">{val}</text>'},e.clinkTemplates.blue={defs:'<marker id="arrowBlue" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#039BE5" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotBlue" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#039BE5" /></marker>',link:'<path marker-start="url(#dotBlue)" marker-end="url(#arrowBlue)" stroke="#039BE5" stroke-width="2" fill="none" d="{d}" />',label:'<text fill="#039BE5"  text-anchor="middle" x="{x}" y="{y}">{val}</text>'},e.clinkTemplates.yellow={defs:'<marker id="arrowYellow" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#FFCA28" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotYellow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#FFCA28" /></marker>',link:'<path marker-start="url(#dotYellow)" marker-end="url(#arrowYellow)" stroke="#FFCA28" stroke-width="2" fill="none" d="{d}" />',label:'<text fill="#FFCA28"  text-anchor="middle" x="{x}" y="{y}">{val}</text>'},e===void 0&&(e={}),e.events.on("renderdefs",function(t,n){for(var i=0;i<t.config.slinks.length;i++){var o=t.config.slinks[i].template;o||(o="orange");var l=e.slinkTemplates[o];n.defs+=l.defs}}),e.events.on("render",function(t,n){t._slinks(t,n)}),e.events.on("drag",function(t,n,i,o){if(t instanceof e&&t.config.movable&&o)for(var l=0;l<o.length;l++){for(var a=o[l],s=t.element.querySelectorAll(`[data-s-l-from="${a}"]`),c=t.element.querySelectorAll(`[data-s-l-to="${a}"]`),d=0;d<s.length;d++)s[d].parentNode.removeChild(s[d]);for(d=0;d<c.length;d++)c[d].parentNode.removeChild(c[d])}}),e.prototype._slinks=function(t,n){var i="",o=this.getScale(),l=n.res.boundary;function a(u,p,m){var g=[],x=null,y="left",v=u.lcn?u.lcn:"base",h=t._layoutConfigs[v];switch(h.orientation){case e.orientation.top:case e.orientation.top_left:case e.orientation.bottom:case e.orientation.bottom_left:p.x>u.x&&(y="right");break;case e.orientation.left:case e.orientation.left_top:case e.orientation.right:case e.orientation.right_top:y="top",p.y>u.y&&(y="bottom")}var w=e.t(u.templateName,u.min,o),_=h.levelSeparation;u.parent&&u.parent.layout&&(_=h.mixedHierarchyNodesSeparation);var b={p:u.x+u.w/2+w.expandCollapseSize,q:u.y,r:u.x+u.w/2+w.expandCollapseSize,s:l.minY+_};if(u.sl==p.sl)switch(x=p,h.orientation){case e.orientation.top:case e.orientation.top_left:g.push([b.p,b.q]),g.push([b.p,b.q-_/3]),w=e.t(x.templateName,x.min,o),g.push([x.x+x.w/2+w.expandCollapseSize,g[g.length-1][1]]),g.push([g[g.length-1][0],x.y]);break;case e.orientation.bottom:case e.orientation.bottom_left:b.q=u.y+u.h,b.s=l.maxY-_,g.push([b.p,b.q]),g.push([b.r,u.y+u.h+_/3]),w=e.t(x.templateName,x.min,o),g.push([x.x+x.w/2+w.expandCollapseSize,g[g.length-1][1]]),g.push([g[g.length-1][0],x.y+x.h]);break;case e.orientation.left:case e.orientation.left_top:b.p=u.x,b.q=u.y+u.h/2+w.expandCollapseSize,b.r=l.minX-_,b.s=u.y+u.h/2+w.expandCollapseSize,g.push([b.p,b.q]),g.push([u.x-_/3,b.q]),w=e.t(x.templateName,x.min,o),g.push([g[g.length-1][0],x.y+x.h/2+w.expandCollapseSize]),g.push([x.x,g[g.length-1][1]]);break;case e.orientation.right:case e.orientation.right_top:b.p=u.x+u.w,b.q=u.y+u.h/2+w.expandCollapseSize,b.r=l.maxX+_,b.s=u.y+u.h/2+w.expandCollapseSize,g.push([b.p,b.q]),g.push([u.x+u.w+_/3,b.q]),w=e.t(x.templateName,x.min,o),g.push([g[g.length-1][0],x.y+x.h/2+w.expandCollapseSize]),g.push([x.x+x.w,g[g.length-1][1]])}else{switch(h.orientation){case e.orientation.top:case e.orientation.top_left:g.push([b.p,b.q]),g.push([b.r,u.y-_/3]);break;case e.orientation.bottom:case e.orientation.bottom_left:b.q=u.y+u.h,b.s=l.maxY-_,g.push([b.p,b.q]),g.push([b.r,u.y+u.h+_/3]);break;case e.orientation.left:case e.orientation.left_top:b.p=u.x,b.q=u.y+u.h/2+w.expandCollapseSize,b.r=l.minX-_,b.s=u.y+u.h/2+w.expandCollapseSize,g.push([b.p,b.q]),g.push([u.x-_/3,b.q]);break;case e.orientation.right:case e.orientation.right_top:b.p=u.x+u.w,b.q=u.y+u.h/2+w.expandCollapseSize,b.r=l.maxX+_,b.s=u.y+u.h/2+w.expandCollapseSize,g.push([b.p,b.q]),g.push([u.x+u.w+_/3,b.q])}for(var S=u,k=u;k.parent;)k=k.parent;for(;x==null;){var C=!1,E=S.parent,L=E.leftNeighbor,B=E.rightNeighbor;if(E.id==p.id?x=E:e._intersects(E,b,h)&&(b=e._addPoint(E,g,h,b,y),C=!0),E.id!=p.id){for(;L;){if(L.id==p.id){x=L;break}e._intersects(L,b,h)&&(b=e._addPoint(L,g,h,b,y),C=!0),L=L.leftNeighbor}for(;B;){if(B.id==p.id){x=B;break}e._intersects(B,b,h)&&(b=e._addPoint(B,g,h,b,y),C=!0),B=B.rightNeighbor}}if(!C){var R=g[g.length-1][0],U=0;if(E.parent){_=h.levelSeparation,E.parent.layout&&(_=h.mixedHierarchyNodesSeparation);var z=t.manager.bordersByRootIdAndLevel[k.id][E.parent.sl];switch(h.orientation){case e.orientation.top:case e.orientation.top_left:U=z.maxY+_*(2/3);break;case e.orientation.bottom:case e.orientation.bottom_left:U=z.minY-_*(2/3);break;case e.orientation.left:case e.orientation.left_top:R=z.maxX+_*(2/3),U=g[g.length-1][1];break;case e.orientation.right:case e.orientation.right_top:R=z.minX-_*(2/3),U=g[g.length-1][1]}}g.push([R,U])}S=E}switch(w=e.t(x.templateName,x.min,o),g.splice(g.length-1,1),h.orientation){case e.orientation.top:case e.orientation.top_left:g.push([x.x+x.w/2+w.expandCollapseSize,g[g.length-1][1]]),g.push([g[g.length-1][0],x.y+x.h]);break;case e.orientation.bottom:case e.orientation.bottom_left:g.push([x.x+x.w/2+w.expandCollapseSize,g[g.length-1][1]]),g.push([g[g.length-1][0],x.y]);break;case e.orientation.left:case e.orientation.left_top:g.push([g[g.length-1][0],x.y+x.h/2+w.expandCollapseSize]),g.push([x.x+x.w,g[g.length-1][1]]);break;case e.orientation.right:case e.orientation.right_top:g.push([g[g.length-1][0],x.y+x.h/2+w.expandCollapseSize]),g.push([x.x,g[g.length-1][1]])}}var j=c.template;j||(j="orange");var V,I,A=null;switch((w=e.slinkTemplates[j]).labelPosition){case"start":A={x:g[1][0],y:g[1][1]};break;case"middle":var M=Math.ceil(g.length/2);V=g[M],I=g[M-1],A={x:(V[0]+I[0])/2,y:(V[1]+I[1])/2};break;case"end":A={x:g[g.length-2][0],y:g[g.length-2][1]}}m&&(g=g.reverse()),g[0].unshift("M");for(var H=1;H<g.length;H++)g[H].unshift("L");var D=e.roundPathCorners(g,e.LINK_ROUNDED_CORNERS,!1);if(c.label){var $=w.label.replace("{x}",A.x).replace("{y}",A.y).replace("{val}",c.label),K=e._getLabelSize($),O=-K.height/2;switch(h.orientation){case e.orientation.bottom:case e.orientation.bottom_left:O=K.height}i+=w.label.replace("{x}",A.x).replace("{y}",A.y+O).replace("{val}",c.label)}var X=u.id,T=p.id;m&&(X=p.id,T=u.id),i+=("<g "+e.attr.s_link_from+'="{from}" '+e.attr.s_link_to+'="{to}">').replace("{from}",X).replace("{to}",T)+w.link.replaceAll("{d}",D)+'<path stroke="transparent" stroke-width="15" fill="none" d="'+D+'" />',i+=e.grCloseTag}for(var s=0;s<this.config.slinks.length;s++){var c=this.config.slinks[s],d=t.getNode(c.from),f=t.getNode(c.to);d&&f&&n.res.visibleNodeIds.indexOf(f.id)!=-1&&n.res.visibleNodeIds.indexOf(d.id)!=-1&&(d.sl>=f.sl?a(d,f,!1):a(f,d,!0))}n.content+=i},e.prototype.addSlink=function(t,n,i,o){this._putInUndoStack(),this.clearRedo();for(var l=this.config.slinks.length-1;l>=0;l--){var a=this.config.slinks[l];a.from==t&&a.to==n&&this.config.slinks.splice(l,1)}return this.config.slinks.push({from:t,to:n,label:i,template:o}),e.events.publish("updated",[this]),this},e.prototype.removeSlink=function(t,n){this._putInUndoStack(),this.clearRedo();for(var i=this.config.slinks.length-1;i>=0;i--){var o=this.config.slinks[i];o.from==t&&o.to==n&&this.config.slinks.splice(i,1)}return e.events.publish("updated",[this]),this},e.slinkTemplates={},e.slinkTemplates.orange={defs:'<marker id="arrowSlinkOrange" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#F57C00" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotSlinkOrange" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#F57C00" /></marker>',link:'<path stroke-dasharray="4, 2" marker-start="url(#dotSlinkOrange)" marker-end="url(#arrowSlinkOrange)" stroke-linejoin="round" stroke="#F57C00" stroke-width="2" fill="none" d="{d}" />',label:'<text dominant-baseline="middle" fill="#F57C00" alignment-baseline="middle" text-anchor="middle" x="{x}" y="{y}">{val}</text>',labelPosition:"middle"},e.slinkTemplates.blue={defs:'<marker id="arrowSlinkBlue" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#039BE5" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotSlinkBlue" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#039BE5" /></marker>',link:'<path stroke-dasharray="4, 2" marker-start="url(#dotSlinkBlue)" marker-end="url(#arrowSlinkBlue)" stroke-linejoin="round" stroke="#039BE5" stroke-width="2" fill="none" d="{d}" />',label:'<text fill="#039BE5" text-anchor="middle" x="{x}" y="{y}">{val}</text>',labelPosition:"middle"},e.slinkTemplates.yellow={defs:'<marker id="arrowSlinkYellow" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#FFCA28" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotSlinkYellow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#FFCA28" /></marker>',link:'<path stroke-dasharray="4, 2" marker-start="url(#dotSlinkYellow)" marker-end="url(#arrowSlinkYellow)" stroke-linejoin="round" stroke="#FFCA28" stroke-width="2" fill="none" d="{d}" />',label:'<text  fill="#FFCA28" text-anchor="middle" x="{x}" y="{y}">{val}</text>',labelPosition:"middle"},e.events.on("renderbuttons",function(t,n){if(n.node&&n.node.tags&&n.node.tags.has("group-dotted-lines")){var i=t.getScale(),o=e.t(n.node.templateName,n.node.min,i),l="";n.node.min?(o.nodeGroupDottedOpenButton||console.error(`[${n.node.templateName}].nodeGroupDottedOpenButton is not defined`),l+=`<g style="cursor:pointer;"  data-ctrl-n-dotted-open="${n.node.id}" transform="matrix(1,0,0,1,${n.node.x},${n.node.y})">`,l+=o.nodeGroupDottedOpenButton):(o.nodeGroupDottedCloseButton||console.error(`[${n.node.templateName}].nodeGroupDottedCloseButton is not defined`),l+=`<g style="cursor:pointer;" transform="matrix(1,0,0,1,${n.node.x},${n.node.y})" data-ctrl-n-dotted-close="${n.node.id}">`,l+=o.nodeGroupDottedCloseButton),l=(l+="</g>").replaceAll("{cw}",n.node.w/2).replaceAll("{ch}",n.node.h/2).replaceAll("{ew}",n.node.w-(n.node.padding?n.node.padding[1]:0)).replaceAll("{eh}",n.node.h-(n.node.padding?n.node.padding[2]:0));var a=t.getNode(n.node.stChildrenIds[0]);if(l.indexOf("{collapsed-children-count}")!=-1){var s=e.collapsedChildrenCount(t,a);l=l.replace("{collapsed-children-count}",s)}if(l.indexOf("{collapsed-children-total-count}")!=-1){var c=e.collapsedChildrenTotalCount(t,a);l=l.replace("{collapsed-children-total-count}",c)}if(l.indexOf("{children-count}")!=-1){var d=e.childrenCount(t,a);l=l.replace("{children-count}",d)}if(l.indexOf("{children-total-count}")!=-1){var f=e.childrenTotalCount(t,a);l=l.replace("{children-total-count}",f)}n.html+=l}}),e.events.on("redraw",function(t,n){if(t.config.groupDottedLines.length){for(var i=t.element.querySelectorAll("[data-ctrl-n-dotted-close]"),o=0;o<i.length;o++)i[o].addEventListener("click",function(){var a=this.getAttribute("data-ctrl-n-dotted-close");t.minimize(a)});var l=t.element.querySelectorAll("[data-ctrl-n-dotted-open]");for(o=0;o<l.length;o++)l[o].addEventListener("click",function(){var a=this.getAttribute("data-ctrl-n-dotted-open");t.maximize(a)})}}),e===void 0&&(e={}),e.prototype.undo=function(t){if(this.config.undoRedoStorageName){var n=this.undoStepsCount();if(n!=0){this._putInRedoStack();var i=`${this.config.undoRedoStorageName}_undo_`+(n-1),o=sessionStorage.getItem(i);sessionStorage.removeItem(i);var l=JSON.parse(o);this.config.nodes=l.nodes,this.config.clinks=l.clinks,this.config.slinks=l.slinks,this.config.groupDottedLines=l.groupDottedLines,this.config.dottedLines=l.dottedLines,e.events.publish("updated",[this]),this.filterUI.update(),this.draw(e.action.update,void 0,t),this.undoRedoUI.refresh()}}},e.prototype.redo=function(t){if(this.config.undoRedoStorageName){var n=this.redoStepsCount();if(n!=0){this._putInUndoStack();var i=`${this.config.undoRedoStorageName}_redo_`+(n-1),o=sessionStorage.getItem(i);sessionStorage.removeItem(i);var l=JSON.parse(o);this.config.nodes=l.nodes,this.config.clinks=l.clinks,this.config.slinks=l.slinks,this.config.groupDottedLines=l.groupDottedLines,this.config.dottedLines=l.dottedLines,e.events.publish("updated",[this]),this.filterUI.update(),this.draw(e.action.update,void 0,t),this.undoRedoUI.refresh()}}},e.prototype.clearRedo=function(){if(this.config.undoRedoStorageName){for(var t=`${this.config.undoRedoStorageName}_redo_`,n=Object.keys(sessionStorage),i=0;n.indexOf(t+i)!=-1;)sessionStorage.removeItem(t+i),i++;this.undoRedoUI.refresh()}},e.prototype.clearUndo=function(){if(this.config.undoRedoStorageName){for(var t=`${this.config.undoRedoStorageName}_undo_`,n=Object.keys(sessionStorage),i=0;n.indexOf(t+i)!=-1;)sessionStorage.removeItem(t+i),i++;this.undoRedoUI.refresh()}},e.prototype.undoStepsCount=function(){for(var t=`${this.config.undoRedoStorageName}_undo_`,n=Object.keys(sessionStorage),i=0;n.indexOf(t+i)!=-1;)i++;return i},e.prototype.redoStepsCount=function(){for(var t=`${this.config.undoRedoStorageName}_redo_`,n=Object.keys(sessionStorage),i=0;n.indexOf(t+i)!=-1;)i++;return i},e.prototype._putInUndoStack=function(){if(this.config.undoRedoStorageName){var t=`${this.config.undoRedoStorageName}_undo_`+this.undoStepsCount();sessionStorage.setItem(t,JSON.stringify({nodes:this.config.nodes,clinks:this.config.clinks,slinks:this.config.slinks,groupDottedLines:this.config.groupDottedLines,dottedLines:this.config.dottedLines}))}},e.prototype._putInRedoStack=function(){if(this.config.undoRedoStorageName){var t=`${this.config.undoRedoStorageName}_redo_`+this.redoStepsCount();sessionStorage.setItem(t,JSON.stringify({nodes:this.config.nodes,clinks:this.config.clinks,slinks:this.config.slinks,groupDottedLines:this.config.groupDottedLines,dottedLines:this.config.dottedLines}))}},e===void 0&&(e={}),e.undoRedoUI=function(){this.instance=null,this._event_id=e._guid()},e.undoRedoUI.prototype.init=function(t){t.config.undoRedoStorageName&&(this.instance=t,this.refresh())},e.undoRedoUI.prototype.refresh=function(){var t=this;if(this.instance.config.undoRedoStorageName){var n={undoStepsCount:this.instance.undoStepsCount(),redoStepsCount:this.instance.redoStepsCount()};if(e.events.publish("change",[this,n])!==!1){var i=this.instance.element.querySelector("[data-undo]"),o=this.instance.element.querySelector("[data-redo]");if(!i||!o){var l=document.createElement("div");l.classList.add("bft-undo-redo"),l.innerHTML=`<span data-undo>${e.icon.undo(50,50,"")}<span class="bft-undo-i"></span></span>
                            <span data-redo>${e.icon.redo(50,50,"")}<span class="bft-redo-i"></span></span>`,this.instance.element.appendChild(l),i=this.instance.element.querySelector("[data-undo]"),o=this.instance.element.querySelector("[data-redo]"),i.addEventListener("click",function(){t.instance.undo()}),o.addEventListener("click",function(){t.instance.redo()})}n.undoStepsCount>0?(i.classList.add("bft-ur-clickable"),i.querySelector(".bft-undo-i").innerHTML=n.undoStepsCount,i.querySelector(".bft-undo-i").style.display="inline-block"):(i.classList.remove("bft-ur-clickable"),i.querySelector(".bft-undo-i").style.display="none"),n.redoStepsCount>0?(o.classList.add("bft-ur-clickable"),o.querySelector(".bft-redo-i").innerHTML=n.redoStepsCount,o.querySelector(".bft-redo-i").style.display="inline-block"):(o.classList.remove("bft-ur-clickable"),o.querySelector(".bft-redo-i").style.display="none")}}},e.undoRedoUI.prototype.on=function(t,n){return e.events.on(t,n,this._event_id),this},e.undoRedoUI.prototype.onChange=function(t){return this.on("change",function(n,i){return t.call(n,i)})},e.events.on("redraw",function(t,n){if(t.config.miniMap){if(t.manager.action!=e.action.move){e.miniMap._settings._scale=Math.min(e.miniMap.width/(t.response.boundary.maxX-t.response.boundary.minX),e.miniMap.height/(t.response.boundary.maxY-t.response.boundary.minY)),e.miniMap._settings._translateX=-t.response.boundary.minX*e.miniMap._settings._scale+(e.miniMap.width-(t.response.boundary.maxX-t.response.boundary.minX)*e.miniMap._settings._scale)/2,e.miniMap._settings._translateY=-t.response.boundary.minY*e.miniMap._settings._scale+(e.miniMap.height-(t.response.boundary.maxY-t.response.boundary.minY)*e.miniMap._settings._scale)/2;var i=t.getViewBox();e.miniMap._init(t),e.miniMap._drawMainCanvas(t),e.miniMap._drawRectSelectorCanvas(t,i);var o,l,a,s,c=t.element.querySelector('[data-id="mini-map-focus"]'),d=!1,f=null;c.onmousedown=function(p){var m,g,x,y=c.getBoundingClientRect(),v=y.left,h=y.top;if(o=parseInt(p.clientX-v),l=parseInt(p.clientY-h),m=l,g=(o-e.miniMap._settings._translateX)/e.miniMap._settings._scale,x=(m-e.miniMap._settings._translateY)/e.miniMap._settings._scale,g>i[0]&&g<i[0]+i[2]&&x>i[1]&&x<i[1]+i[3])return p.preventDefault(),p.stopPropagation(),void(d=!0)},c.onmousemove=function(p){if(d){p.preventDefault(),p.stopPropagation(),e.miniMap._mouseMove=!0;var m=c.getBoundingClientRect(),g=m.left,x=m.top;a=parseInt(p.clientX-g),s=parseInt(p.clientY-x);var y=(a-o)/e.miniMap._settings._scale,v=(s-l)/e.miniMap._settings._scale;i[0]=y+i[0],i[1]=v+i[1],t.setViewBox(i),f&&(clearTimeout(f),f=null),f=setTimeout(function(){t._draw(!0,e.action.move)},300),e.miniMap._drawRectSelectorCanvas(t,i),o=a,l=s}},c.onmouseup=function(p){d&&(p.preventDefault(),p.stopPropagation(),d=!1)},c.onmouseout=function(p){d&&(p.preventDefault(),p.stopPropagation(),d=!1,e.miniMap._mouseMove=!1)},c.onclick=function(p){if(p.preventDefault(),p.stopPropagation(),e.miniMap._mouseMove)e.miniMap._mouseMove=!1;else{var m=c.getBoundingClientRect(),g=m.left,x=m.top;a=parseInt(p.clientX-g),s=parseInt(p.clientY-x);var y=a/e.miniMap._settings._scale,v=s/e.miniMap._settings._scale;i[0]=y-(i[0]+i[2]-i[0])/2-e.miniMap._settings._translateX/e.miniMap._settings._scale,i[1]=v-(i[1]+i[3]-i[1])/2-e.miniMap._settings._translateY/e.miniMap._settings._scale,t.setViewBox(i),f&&(clearTimeout(f),f=null),f=setTimeout(function(){t._draw(!0,e.action.move)},300),e.miniMap._drawRectSelectorCanvas(t,i)}}}}else{var u=t.element.querySelector('[data-id="mini-map"]');u&&u.parentNode.removeChild(u)}}),e.miniMap={},e.miniMap._settings={_translateX:0,_translateY:0,_scale:1},e.miniMap._drawMainCanvas=function(t){var n=t.element.querySelector('[data-id="mini-map-main"]'),i=n.getContext("2d");e.miniMap._initCtx(t,n,1);var o=0,l=[];(function a(s,c){if(Array.isArray(c))for(var d=0;d<c.length;d++)a(s,c[d]);else{for(i.fillStyle=e.miniMap.colors[3],i.beginPath(),i.lineWidth="0.5",i.fillRect(c.x,c.y,c.w,c.h),i.strokeRect(c.x,c.y,c.w,c.h),d=0;d<c.stChildrenIds.length;d++)o++,l.includes(c.id)||(o==1?i.fillStyle=e.miniMap.colors[0]:o==2?i.fillStyle=e.miniMap.colors[1]:o==3&&(i.fillStyle=e.miniMap.colors[2]),i.beginPath(),i.fillRect(c.x,c.y,c.w,c.h),i.strokeRect(c.x,c.y,c.w,c.h),l.push(c.id)),a(s,s.getNode(c.stChildrenIds[d])),o--;for(d=0;d<c.childrenIds.length;d++)a(s,s.getNode(c.childrenIds[d]))}})(t,t.roots)},e.miniMap._drawRectSelectorCanvas=function(t,n){var i=t.element.querySelector('[data-id="mini-map-focus"]'),o=i.getContext("2d");e.miniMap._initCtx(t,i,e.miniMap.opacity);var l=n[0],a=n[1],s=n[2],c=n[3];o.lineWidth=.5/e.miniMap._settings._scale,o.strokeStyle=e.miniMap.focusStroke,o.globalAlpha=1,o.clearRect(l,a,s,c),o.strokeRect(l,a,s,c)},e.miniMap._initCtx=function(t,n,i){var o=n.getContext("2d");n.width=n.width,n.height=n.height,o.clearRect(0,0,e.miniMap.width,e.miniMap.height),o.globalAlpha=i,i!=1&&(o.fillStyle=e.miniMap.selectorBackgroundColor,o.fillRect(0,0,e.miniMap.width,e.miniMap.height)),o.translate(e.miniMap._settings._translateX,e.miniMap._settings._translateY),o.scale(e.miniMap._settings._scale,e.miniMap._settings._scale)},e.miniMap._init=function(t){if(!t.element.querySelector('[data-id="mini-map"]')){var n=document.createElement("canvas");n.width=e.miniMap.width,n.height=e.miniMap.height,n.setAttribute("data-id","mini-map-main"),n.style.display="inline-block",n.style.backgroundColor=e.miniMap.backgroundColor,n.style.position="absolute",n.style.top=0,n.style.left=0;var i=document.createElement("canvas");i.width=e.miniMap.width,i.height=e.miniMap.height,i.setAttribute("data-id","mini-map-focus"),i.style.display="inline-block",i.style.position="absolute",i.style.top=0,i.style.left=0;var o=document.createElement("div");o.setAttribute("data-id","mini-map"),o.style.position="absolute";for(var l=["top","right","left","bottom"],a=0;a<l.length;a++){var s=l[a];e.isNEU(e.miniMap.position[s])||(e.miniMap.position[s]=="padding"?o.style[s]=t.config.padding+"px":o.style[s]=e.miniMap.position[s]+"px")}o.style.border=e.miniMap.border,o.style.padding=e.miniMap.padding+"px",o.style.backgroundColor=e.miniMap.backgroundColor;var c=document.createElement("div");c.style.position="relative",c.style.width=e.miniMap.width+"px",c.style.height=e.miniMap.height+"px",c.appendChild(n),c.appendChild(i),o.appendChild(c),t.element.appendChild(o);var d=function(g,x){t.__mouseScrollHandler(o,x)};t._addEvent(o,"DOMMouseScroll",d),t._addEvent(o,"mousewheel",d);var f=0,u=0,p=function(g){e.miniMap._mouseMove=!0;var x=g.clientX-f,y=g.clientY-u;if(!e.isNEU(o.style.left)){var v=parseFloat(o.style.left)+x;o.style.left=`${v}px`}if(!e.isNEU(o.style.right)){var h=parseFloat(o.style.right)-x;o.style.right=`${h}px`}if(!e.isNEU(o.style.bottom)){var w=parseFloat(o.style.bottom)-y;o.style.bottom=`${w}px`}if(!e.isNEU(o.style.top)){var _=parseFloat(o.style.top)+y;o.style.top=`${_}px`}f=g.clientX,u=g.clientY},m=function(){document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",m)};e.miniMap.draggable&&o.addEventListener("mousedown",function(g){f=g.clientX,u=g.clientY,document.addEventListener("mousemove",p),document.addEventListener("mouseup",m)})}},e.miniMap.colors=["#E0E0E0","#BDBDBD","#9E9E9E","#757575"],e.miniMap.selectorBackgroundColor="white",e.miniMap.backgroundColor="white",e.miniMap.focusStroke="#f57c00",e.miniMap.opacity=.4,e.miniMap.border="1px solid #aeaeae",e.miniMap.width=250,e.miniMap.height=140,e.miniMap.padding=5,e.miniMap.position={top:void 0,left:"padding",right:void 0,bottom:"padding"},e.miniMap.draggable=!0,e._search={},e._search.search=function(t,n,i,o,l,a,s){var c=[],d=n.toLowerCase(),f=d.split(" ");if(s&&f.length>1){var u=f[0];s[u]&&(i=[s[u]],f=(d=d.replace(u,"").trim()).split(" "))}f=f.filter(function(_,b,S){return S.indexOf(_)===b});for(var p={},m=0;m<t.length;m++)for(var g=t[m],x=0;x<i.length;x++){var y=i[x];if(!e.isNEU(g[y])){var v=g[y];if((n=e._search.searchAndComputeScore(f,v,y,a))!=null){var h=g.id;if(p[h]){if(p[h]&&p[h]<n.__score){p[h]=n.__score;for(var w=c.length-1;w>=0;w--)c[w].id==h&&c.splice(w,1);e._search.addNodeToResult(c,o,g,n,y,l)}}else p[h]=n.__score,e._search.addNodeToResult(c,o,g,n,y,l)}}}return c.sort(function(_,b){return _.__score<b.__score?1:_.__score>b.__score?-1:0}),c},e._search.addNodeToResult=function(t,n,i,o,l,a){var s={};s.id=i.id,e.isNEU(i[a])||(s[a]=i[a]);for(var c=0;c<n.length;c++){var d=n[c];e.isNEU(i[d])||e.isNEU(s[d])&&(s[d]=i[d])}o!=null&&(e.isNEU(s.__score)&&(s.__score=o.__score),e.isNEU(s.__searchField)&&(s.__searchField=l),e.isNEU(s.__searchMarks)&&(s.__searchMarks=o.__searchMarks)),t.push(s)},e._search.searchAndComputeScore=function(t,n,i,o){if(e.isNEU(n)||e.isNEU(t)||!t.length)return null;typeof n!="string"&&(n=n.toString());var l=n.toLowerCase(),a=e._search.searchIndexesOf(l,t);if(!a.length)return null;for(var s=l.length/100,c=0,d=0,f=c>0?100:0,u=0,p=0;p<t.length;p++)for(var m=t[p],g=0;g<a.length;g++)if(m.indexOf(a[g].searchPhrase)!=-1){u++;break}var x=100/(t.length/u);if(a.length){for(d=a[0].start,g=0;g<a.length;g++)if(c+=a[g].length,a[g].start<d&&(d=a[g].start),g>=1&&a[g-1].start>a[g].start){f=0;break}}var y=0;c!=0&&(y=c/s);var v=c>0?100:0;d!=0&&(v=100-d/s);var h=0;o&&o[i]&&(h=o[i]),x&&(x=x/100*50),y>0&&(y=y/100*10),v>0&&(v=v/100*10),f>0&&(f=f/100*10),h>0&&(h=h/100*20);var w=Math.round(1e4*(x+y+v+f+h));for(a.sort(function(b,S){return b.start<S.start?-1:b.start>S.start?1:0}),g=a.length-1;g>=0;g--)for(p=0;p<a.length;p++)p<g&&a[p].start+a[p].length>a[g].start&&a.splice(g,1);var _=n;for(g=a.length-1;g>=0;g--)_=(_=_.insert(a[g].start+a[g].length,"</mark>")).insert(a[g].start,"<mark>");return{__searchMarks:_,__score:w}},e._search.searchIndexesOf=function(t,n){var i=[];if(!e.isNEU(t))for(var o=0;o<n.length;o++){var l=n[o];if(!e.isNEU(l))for(var a=0;(a=t.indexOf(l,a))>-1;)i.push({length:l.length,start:a,searchPhrase:l}),a+=l.length}return i.sort(function(s,c){return s.length<c.length?1:s.length>c.length||s.start<c.start?-1:s.start>c.start?1:0}),i=i.filter(function(s){for(var c=!1,d=0;d<i.length;d++){var f=i[d].start,u=i[d].start+i[d].length-1,p=s.start,m=s.start+s.length-1;if(f==p&&u==m){c=!1;break}if(f>=p&&u<=m){c=!0;break}if(f<=p&&u>=m){c=!0;break}}return!c})},e.events.on("redraw",function(t,n){if(t.config.state){var i=[],o=[];(function l(a){if(Array.isArray(a))for(var s=0;s<a.length;s++)l(a[s]);else{for((typeof a.id!="string"||typeof a.id=="string"&&a.id.indexOf("split")==-1&&a.id.indexOf("mirror")==-1)&&(i.push(a.id),a.min==1&&o.push(a.id)),s=0;s<a.stChildren.length;s++)l(a.stChildren[s]);for(s=0;s<a.children.length;s++)l(a.children[s])}})(t.roots),e.state._put(t.config.roots,t.width(),t.height(),t.response.viewBox,i,o,t.response.adjustify,t.config.state)}}),e.state={},e.state._buildStateNames=function(t){return{paramScale:t+"-scale",paramX:t+"-x",paramY:t+"-y",paramExp:t+"-exp",paramMin:t+"-min",paramRoots:t+"-roots",paramAdjustify:t+"-adjustify"}},e.state._put=function(t,n,i,o,l,a,s,c){if(c&&!e.isNEU(l)&&l.length!=0){var d=e.state._buildStateNames(c.name),f={roots:t,scale:Math.min(n/o[2],i/o[3]),x:o[0],y:o[1],exp:l,min:a,adjustify:s};if(c.writeToUrlParams){var u=new URLSearchParams(window.location.search);u.has(d.paramScale)?u.set(d.paramScale,f.scale):u.append(d.paramScale,f.scale),u.has(d.paramX)?u.set(d.paramX,f.x):u.append(d.paramX,f.x),u.has(d.paramY)?u.set(d.paramY,f.y):u.append(d.paramY,f.y),u.has(d.paramExp)?u.set(d.paramExp,f.exp.join("*")):u.append(d.paramExp,f.exp.join("*")),u.has(d.paramRoots)&&Array.isArray(f.roots)?u.set(d.paramRoots,f.roots.join("*")):Array.isArray(f.roots)&&u.append(d.paramRoots,f.roots.join("*")),u.has(d.paramMin)?u.set(d.paramMin,f.min.join("*")):u.append(d.paramMin,f.min.join("*")),u.has(d.paramAdjustify)?u.set(d.paramAdjustify,f.adjustify.x+"*"+f.adjustify.y):u.append(d.paramAdjustify,f.adjustify.x+"*"+f.adjustify.y),window.history.replaceState(null,null,"?"+u)}c.writeToIndexedDB&&(f.id=c.name,e.idb.put(f,function(p){p==0&&console.error("Cannot write row - "+c.name)})),c.writeToLocalStorage&&e.localStorage.setItem(c.name,JSON.stringify(f))}},e.state._get=function(t,n,i,o){if(t){var l=e.state._buildStateNames(t.name);if(t.readFromUrlParams){var a=new URLSearchParams(window.location.search);if(a.has(l.paramScale)&&a.has(l.paramX)&&a.has(l.paramY)&&a.has(l.paramExp)&&a.has(l.paramMin)&&a.has(l.paramAdjustify)){var s={},c=parseFloat(a.get(l.paramScale)),d=parseFloat(a.get(l.paramX)),f=parseFloat(a.get(l.paramY));(p=[])[0]=d,p[1]=f,p[2]=n/c,p[3]=i/c,s.vb=p,s.scale=c,s.x=d,s.y=f,s.roots=null,a.has(l.paramRoots)&&(s.roots=a.get(l.paramRoots).split("*")),s.exp=a.get(l.paramExp).split("*"),s.min=a.get(l.paramMin).split("*");var u=a.get(l.paramAdjustify).split("*");return s.adjustify={x:parseFloat(u[0]),y:parseFloat(u[1])},void o(s)}if(!t.readFromIndexedDB&&!t.readFromLocalStorage)return void o(null)}if(t.readFromLocalStorage){var p;if((s=e.localStorage.getItem(t.name))!=null)return s=JSON.parse(s),(p=[])[0]=s.x,p[1]=s.y,p[2]=n/s.scale,p[3]=i/s.scale,s.vb=p,void o(s);if(!t.readFromIndexedDB)return void o(null)}t.readFromIndexedDB&&e.idb.read(t.name,function(m,g){if(m==0)console.error("Cannot read from - "+t.name),o(null);else if(m==null)o(null);else{var x=[];x[0]=g.x,x[1]=g.y,x[2]=n/g.scale,x[3]=i/g.scale,g.vb=x,o(g)}})}else o(null)},e.state.clear=function(t){if(!t)return!1;try{localStorage.removeItem(t);var n=e.state._buildStateNames(t),i=new URLSearchParams(window.location.search);i.has(n.paramScale)&&i.delete(n.paramScale),i.has(n.paramX)&&i.delete(n.paramX),i.has(n.paramY)&&i.delete(n.paramY),i.has(n.paramExp)&&i.delete(n.paramExp),i.has(n.paramRoots)&&i.delete(n.paramRoots),i.has(n.paramMin)&&i.delete(n.paramMin),i.has(n.paramAdjustify)&&i.delete(n.paramAdjustify),window.history.replaceState(null,null,"?"+i),e.idb.delete(t,function(o){o==0&&console.error("Cannot delete row - "+t)})}catch{}},e._magnify={},e.prototype.magnify=function(t,n,i,o,l){o||(o=this.config.anim);var a=this.getNode(t),s=this.getNodeElement(t);if(a||s){var c=e._magnify[t];c&&(c.timer!=null&&clearInterval(c.timer),c.timerBack!=null&&clearInterval(c.timerBack),s.setAttribute("transform","matrix("+c.transformStart.toString()+")"),e._magnify[t]=null),i&&(s=s.cloneNode(!0),this.getSvg().appendChild(s));var d=e._getTransform(s),f=JSON.parse(JSON.stringify(d));f[0]=n,f[3]=n;var u=a.w+a.w*(n-1),p=a.h+a.h*(n-1);f[4]+=(a.w-u)/2,f[5]+=(a.h-p)/2;var m=e.animate(s,{transform:d},{transform:f},o.duration,o.func);e._magnify[t]={timer:m,transformStart:d,nodeElement:s,front:i},l&&l(s)}},e.prototype.magnifyBack=function(t,n,i){n||(n=this.config.anim);var o=e._magnify[t];if(o){o.timer!=null&&clearInterval(o.timer),o.timerBack!=null&&clearInterval(o.timerBack);var l=e._getTransform(o.nodeElement);o.timerBack=e.animate(o.nodeElement,{transform:l},{transform:o.transformStart},n.duration,n.func,function(a){var s=a[0].getAttribute(e.attr.node_id);e._magnify[s]&&e._magnify[s].front&&(a[0].parentNode.removeChild(a[0]),e._magnify[s]=null),i&&i(a[0])})}},e===void 0&&(e={}),e.events.on("init",function(t,n){if(t.config.keyNavigation&&(t._addEvent(window,"keydown",t._windowKeyDownHandler),e.isNEU(t._keyNavigationActiveNodeId)&&t.roots&&t.roots.length)){var i=t.roots[0].id;e.isNEU(t.config.keyNavigation.focusId)||(i=t.config.keyNavigation.focusId),t._keyNavigationActiveNodeId=i,t.center(t._keyNavigationActiveNodeId)}}),e.prototype._windowKeyDownHandler=function(t,n){for(var i=n.target,o=null;i&&i!=this.element;){if(i.hasAttribute&&i.hasAttribute(e.attr.node_id)){o=i.getAttribute(e.attr.node_id);break}i=i.parentNode}if(i){var l=o?this.getNode(o):null,a={node:l,data:o?this.get(o):null,event:n};if(e.events.publish("key-down",[this,a])!==!1&&l){if(n.code=="KeyF")this.searchUI.find("");else if(n.code=="ArrowRight"||l.isAssistant&&n.code=="ArrowDown"||l.isPartner&&n.code=="ArrowDown"){if(d=this.getNode(l.pid)){var s=d.childrenIds.indexOf(l.id);if(++s<d.childrenIds.length){var c=d.childrenIds[s];this._keyNavigationActiveNodeId=c,this.center(c)}}}else if(n.code=="ArrowLeft")(d=this.getNode(l.pid))&&(s=d.childrenIds.indexOf(l.id),--s>=0&&(c=d.childrenIds[s],this._keyNavigationActiveNodeId=c,this.center(c)));else if(n.code=="ArrowUp"){var d;(d=this.getNode(l.pid))&&(c=d.id,(l.isAssistant||d.hasAssistants||l.isPartner||d.hasPartners)&&(s=d.childrenIds.indexOf(l.id),--s>=0&&(c=d.childrenIds[s])),this._keyNavigationActiveNodeId=c,this.center(c))}else if(n.code=="ArrowDown")l.childrenIds.length&&(this._keyNavigationActiveNodeId=l.childrenIds[0],this.center(l.childrenIds[0]));else if(n.code=="Space"){var f=i.getAttribute(e.attr.node_id);return void this.toggleExpandCollapse(f,n)}}}},e.events.on("redraw",function(t,n){t.config.keyNavigation&&e._keyNavigation(t)}),e.events.on("click",function(t,n){t.config&&t.config.keyNavigation&&(t._keyNavigationActiveNodeId=n.node.id,t.center(n.node.id))}),e._keyNavigation=function(t){var n=t.element.querySelector(":focus");if(n&&n.parentElement&&n.parentElement.hasAttribute(e.attr.node_id)){var i=n.parentElement;(l=(o=n).querySelector("title"))&&l.parentNode.removeChild(l),o.removeAttribute("tabindex")}if(!e.isNEU(t._keyNavigationActiveNodeId)&&(i=t.getNodeElement(t._keyNavigationActiveNodeId))&&i.children.length){var o;(o=i.children[0]).setAttribute("tabindex",2);var l,a={text:"",id:t._keyNavigationActiveNodeId};e.events.publish("screen-reader-text",[t,a]),!e.isNEU(a.text)&&((l=document.createElementNS("http://www.w3.org/2000/svg","title")).innerHTML=a.text,o.appendChild(l)),e.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE&&t.searchUI.hide(),o.focus()}},e.elements={},e.elements.textbox=function(t,n,i,o){var l=e.elements._vidrf(t,n,o);if(l.doNotRender)return{html:""};var a="";return n.btn&&(a=`<a href="#" data-input-btn="" class="bft-link bft-link-bft-button">${n.btn}</a>`),{html:`<div class="bft-form-field" style="min-width: ${i};">
                    <div class="bft-input" data-bft-input="" ${l.disabledAttribute} ${l.vlidators}>
                        <label for="${l.id}">${e._escapeGreaterLessSign(l.label)}</label>
                        <input ${l.readOnlyAttribute} data-binding="${e._escapeDoubleQuotes(l.binding)}" maxlength="256" id="${l.id}" name="${l.id}" type="text" value="${e._escapeDoubleQuotes(l.value)}" autocomplete="off">
                        ${a}
                    </div>
                </div>`,id:l.id,value:l.value}},e.elements.checkbox=function(t,n,i,o){var l=e.elements._vidrf(t,n,o);if(l.doNotRender)return{html:""};var a=l.value?"checked":"",s=o?'onclick="return false;"':"";return{html:`<div class="bft-form-field"  style="min-width: ${i};" >
                        <label class="bft-checkbox" data-bft-input="" ${l.disabledAttribute}>
                            <input ${a} ${s} data-binding="${e._escapeDoubleQuotes(l.binding)}" type="checkbox"><span class="bft-checkbox-checkmark" type="checkbox"></span>${e._escapeGreaterLessSign(l.label)}
                        </label>
                    </div>`,id:l.id,value:a}},e.elements.select=function(t,n,i,o){if(o)return e.elements.textbox(t,n,i,o);var l=e.elements._vidrf(t,n,o);return l.doNotRender?{html:""}:{html:`<div class="bft-form-field" style="min-width: ${i};">
                    <div class="bft-input" data-bft-input="" ${l.disabledAttribute} ${l.vlidators}>
                        <label for="${l.id}">${e._escapeGreaterLessSign(l.label)}</label>
                        <select data-binding="${e._escapeDoubleQuotes(l.binding)}" ${l.readOnlyAttribute} id="${l.id}" name="${l.id}">
                            ${function(){for(var a="",s=0;s<l.options.length;s++){var c=l.options[s];a+=`<option ${c.value==l.value?"selected":""} value="${e._escapeDoubleQuotes(c.value)}">${e._escapeGreaterLessSign(c.text)}</option>`}return a}()}                           
                        </select>
                    </div>
                </div>`,id:l.id,value:l.value}},e.elements.multiSelect=function(t,n,i,o){if(o)return e.elements.textbox(t,n,i,o);var l=e.elements._vidrf(t,n,o);return l.doNotRender?{html:""}:{html:`<div class="bft-form-field" style="min-width: ${i};">
                    <div class="bft-input" data-bft-input="" ${l.disabledAttribute} ${l.vlidators}>
                        <label for="${l.id}">${e._escapeGreaterLessSign(l.label)}</label>
                        <select class="multiple" data-binding="${e._escapeDoubleQuotes(l.binding)}" ${l.readOnlyAttribute} id="${l.id}" name="${l.id}" multiple>
                            ${function(){for(var a="",s=0;s<l.options.length;s++){var c=l.options[s];a+=`<option ${l.value.includes(c.value)?"selected":""} value="${e._escapeDoubleQuotes(c.value)}">${e._escapeGreaterLessSign(c.text)}</option>`}return a}()}                           
                        </select>
                    </div>
                </div>`,id:l.id,value:l.value}},e.elements.date=function(t,n,i,o){var l=e.elements._vidrf(t,n,o);return l.doNotRender?{html:""}:{html:`<div class="bft-form-field" style="min-width: ${i};">
                    <div class="bft-input" data-bft-input="" ${l.disabledAttribute} ${l.vlidators}>
                        <label for="${l.id}" class="hasval">${e._escapeGreaterLessSign(l.label)}</label>
                        <input data-binding="${e._escapeDoubleQuotes(l.binding)}" ${l.readOnlyAttribute} maxlength="256" id="${l.id}" name="${l.id}" type="date" value="${e._escapeDoubleQuotes(l.value)}" autocomplete="off">
                    </div>
                </div>`,id:l.id,value:l.value}},e.elements._vidrf=function(t,n,i){var o={};if(n.binding||(n.binding=""),n.label||(n.label=""),n.type!="select"||Array.isArray(n.options)?o.options=n.options:o.options=[],o.value=t&&!e.isNEU(t[n.binding])?t[n.binding]:"",i&&o.options){for(var l=0;l<o.options.length;l++)if(o.options[l].value==o.value){o.value=o.options[l].text;break}}if(o.id=e.elements.generateId(),o.disabledAttribute=i?"data-bft-input-disabled":"",o.readOnlyAttribute=i?"readonly":"",o.id=o.id,i&&e.isNEU(o.value)&&(o.doNotRender=!0),i&&n.binding=="photo"&&(o.id=null,o.doNotRender=!0),o.binding=n.binding,o.label=n.label,o.vlidators="",n.vlidators)for(var a in n.vlidators)o.vlidators+=`data-v-${a}="${n.vlidators[a]}" `;return o},e.elements.ids=[],e.elements.generateId=function(){for(;;){var t="_"+("0000"+(Math.random()*Math.pow(36,4)|0).toString(36)).slice(-4);if(!e.elements.ids.has(t))return e.elements.ids.push(t),t}},e.input={},e.input._timeout=null,e.input.initWithTimeout=function(){e.input._timeout&&(clearTimeout(e.input._timeout),e.input._timeout=null),e.input._timeout=setTimeout(e.input.init,200)},e.input.init=function(t){var n;n=t?t.querySelectorAll("[data-bft-input]"):document.querySelectorAll("[data-bft-input]");for(var i=0;i<n.length;i++){var o=n[i],l=null;o.type&&o.type.toLowerCase()=="hidden"&&(l=o),l||(l=o.querySelector("input")),l||(l=o.querySelector("select"));var a=o.querySelector("label");a&&(l.value||l.type=="select-one"&&l.selectedOptions&&l.selectedOptions.length&&l.selectedOptions[0].value==""&&l.selectedOptions[0].innerHTML)&&a.classList.add("hasval"),l.type.toLowerCase()!="checkbox"&&l.addEventListener("focus",function(){this.classList.remove("bft-validation-error");var s=this.parentNode.querySelector("label");s.classList.add("focused");var c=s.querySelector(".bft-validation-error-message");c&&c.parentNode.removeChild(c)}),l.type.toLowerCase()!="checkbox"&&l.addEventListener("blur",function(){e.input.blurHandler(this)})}},e.input.blurHandler=function(t){var n=t.parentNode.querySelector("label");n.classList.remove("focused"),t.value||t.type=="date"?n.classList.add("hasval"):n.classList.remove("hasval")},e.input.validate=function(t){var n=null;t.type&&t.type.toLowerCase()=="hidden"&&(n=t),n||(n=t.querySelector("input")),n||(n=t.querySelector("select"));var i=t.querySelector("label");if(n.classList.remove("bft-validation-error"),i){var o=i.querySelector(".bft-validation-error-message");o&&o.parentNode.removeChild(o)}!n.selectedOptions&&n.value&&(n.value=n.value.trim());var l=t.getAttribute("data-v-required"),a=t.getAttribute("data-v-password"),s=t.getAttribute("data-v-email"),c=t.getAttribute("data-v-emails");return l&&n.value==""?(i.innerHTML+='<span class="bft-validation-error-message">&nbsp;'+l+"</span>",n.classList.add("bft-validation-error"),!1):a&&!e.input.validatePassword(n.value)?(i.innerHTML+='<span class="bft-validation-error-message">&nbsp;'+a+"</span>",n.classList.add("bft-validation-error"),!1):s&&!e.input.isValidEmail(n.value)?(i.innerHTML+='<span class="bft-validation-error-message">&nbsp;'+s+"</span>",n.classList.add("bft-validation-error"),!1):!(c&&!e.input.isValidEmails(n.value))||(i.innerHTML+='<span class="bft-validation-error-message">&nbsp;'+c+"</span>",n.classList.add("bft-validation-error"),!1)},e.input.validateAndGetData=function(t){for(var n=t.querySelectorAll("[data-bft-input]"),i=!0,o=0;o<n.length;o++){var l=n[o];e.input.validate(l)||(i=!1)}if(!i)return!1;var a=t.querySelectorAll("[data-binding]"),s={};for(o=0;o<a.length;o++){var c=a[o],d=c.getAttribute("data-binding");if(c.type.toLowerCase()=="checkbox")s[d]=c.checked;else if(c.selectedOptions&&c.hasAttribute("multiple")){var f=c.selectedOptions;s[d]=Array.from(f).map(({value:u})=>u)}else s[d]=c.value}return s},e.input.validatePassword=function(t){return t&&(t=t.trim()),!(t.length<5)&&!(t.length>18)&&t.indexOf(" ")==-1},e.input.isValidEmails=function(t){if(t)for(var n=t.split(","),i=0;i<n.length;i++){var o=n[i].trim();if(!e.input.isValidEmail(o))return!1}return!0},e.input.isValidEmail=function(t){return t&&(t=t.trim()),/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())},e.prototype.hideTreeMenu=function(t,n){if(this._tree_menu_temp){var i=this._tree_menu_temp;if(this.manager.oldNodes=this.nodes,this.nodes=i.nodes,this.manager.maxX=i.maxX,this.manager.maxY=i.maxY,this.manager.minX=i.minX,this.manager.minY=i.minY,this.manager.roots=i.roots,this.manager.nodes=i.nodes,this.manager.rootList=i.rootList,this.manager.visibleNodeIds=i.visibleNodeIds,this.manager.bordersByRootIdAndLevel=i.bordersByRootIdAndLevel,this.config.roots=i.config.roots,this.config.nodes=i.config.nodes,this._tree_menu_temp=null,t){var o={id:i.id,animFromClickedNode:!1};this._draw(!0,e.action.update,o,function(){n&&n()})}}},e.prototype.showTreeMenu=function(t){this.editUI.hide(),t==null&&console.error("Call addNode without id");var n=this.getNode(t);n||console.error("Cannot get node id: "+t);var i=this.getNode(n.fid),o=this.getNode(n.mid),l=null,a=null,s=[],c=[];i&&(l=this.get(i.id)),o&&(a=this.get(o.id));for(var d=0;d<n.pids.length;d++){var f=this.get(n.pids[d]);f&&s.push(f)}for(d=0;d<n.ftChildrenIds.length;d++)c.push(this.get(n.ftChildrenIds[d]));var u=this.get(t);this._tree_menu_temp={maxX:this.manager.maxX,maxY:this.manager.maxY,minX:this.manager.minX,minY:this.manager.minY,roots:this.manager.roots,nodes:this.manager.nodes,rootList:this.manager.rootList,visibleNodeIds:this.manager.visibleNodeIds,bordersByRootIdAndLevel:this.manager.bordersByRootIdAndLevel,id:t,config:{roots:this.config.roots,nodes:this.config.nodes}},this.config.nodes=[];var p=[];if(a)p.push(a);else{var m={id:"_ft_mother",templateName:"mother",_ft_method:"addParentNode",_ft_childId:t,_ft_type:"mid",_ft_data:{gender:"female"}};u.mid=m.id,l?(l.pids=[m.id],m.pids=[l.id],m._ft_data.pids=[l.id]):m.pids=["_ft_father"],p.push(m)}if(l)p.push(l);else{var g={id:"_ft_father",templateName:"father",_ft_method:"addParentNode",_ft_childId:t,_ft_type:"fid",_ft_data:{gender:"male"}};u.fid=g.id,a?(a.pids=[g.id],g.pids=[a.id],g._ft_data.pids=[a.id]):g.pids=["_ft_mother"],p.push(g)}for(d=0;d<s.length;d++)p.push(s[d]);u.pids||(u.pids=[]);var x={id:"_ft_partner",pids:[t],templateName:"partner",_ft_method:"addPartnerNode",_ft_data:{pids:[t]}};if(u.gender=="male"?(x.templateName="wife",x._ft_data.gender="female"):u.gender=="female"&&(x.templateName="husband",x._ft_data.gender="male"),u.pids.push(x.id),p.push(x),u.pids)for(d=0;d<u.pids.length;d++){if(p.push({id:"_ft_child_group_"+d,mid:t,fid:u.pids[d],tags:["children-group"]}),u.pids[d]=="_ft_partner"){var y={id:"_ft_son_"+d,stpid:"_ft_child_group_"+d,templateName:"son",_ft_method:"addChildAndPartnerNodes",_ft_childData:{mid:n.id,fid:x.id,gender:"male"},_ft_partnerData:{pids:[t]},_ft_id:t},v={id:"_ft_daughter_"+d,stpid:"_ft_child_group_"+d,templateName:"daughter",_ft_method:"addChildAndPartnerNodes",_ft_childData:{mid:n.id,fid:x.id,gender:"female"},_ft_partnerData:{pids:[t]},_ft_id:t};u.gender=="male"&&x._ft_data.gender=="female"?(y._ft_childData.mid=x.id,y._ft_childData.fid=u.id,y._ft_partnerData.gender=x._ft_data.gender,v._ft_childData.mid=x.id,v._ft_childData.fid=u.id,v._ft_partnerData.gender=x._ft_data.gender):u.gender=="female"&&x._ft_data.gender=="male"&&(y._ft_childData.mid=u.id,y._ft_childData.fid=x.id,y._ft_partnerData.gender=x._ft_data.gender,v._ft_childData.mid=u.id,v._ft_childData.fid=x.id,v._ft_partnerData.gender=x._ft_data.gender),p.push(y),p.push(v)}else p.push({id:"_ft_son_"+d,stpid:"_ft_child_group_"+d,templateName:"son",_ft_method:"addChildNode",_ft_data:{mid:t,fid:u.pids[d],gender:"male"}}),p.push({id:"_ft_daughter_"+d,stpid:"_ft_child_group_"+d,templateName:"daughter",_ft_method:"addChildNode",_ft_data:{mid:t,fid:u.pids[d],gender:"female"}});for(var h=0;h<c.length;h++)c[h].mid!=u.pids[d]&&c[h].fid!=u.pids[d]||(c[h].mid=void 0,c[h].fid=void 0,c[h].stpid="_ft_child_group_"+d,p.push(c[h]))}var w=[];for(h=0;h<c.length;h++)(c[h].fid==u.id&&e.isNEU(c[h].mid)||c[h].mid==u.id&&e.isNEU(c[h].fid))&&(c[h].fid==u.id?c[h].mid="_ft_partner_for_single_child":c[h].mid==u.id&&(c[h].fid="_ft_partner_for_single_child"),p.push(c[h]),w.push(c[h].id));if(w.length){var _={id:"_ft_partner_for_single_child",pids:[t],templateName:"partner",_ft_method:"addPartnerAndParentNodes",_ft_childIds:w,_ft_partnerData:{pids:[t]},_ft_id:t};u.gender=="male"?(_.templateName="wife",_._ft_partnerData.gender="female"):u.gender=="female"&&(_.templateName="husband",_._ft_partnerData.gender="male"),u.pids.push(_.id),p.push(_)}var b={nodes:p,node:u};e.events.publish("node-tree-menu-show",[this,b]),b.nodes.push(b.node),this.config.nodes=b.nodes,u=this.get(t);var S=this;e.isNEU(u.mid)?e.isNEU(u.fid)||(this.config.roots=[u.fid]):this.config.roots=[u.mid];var k={id:t,treeMenuMode:!0};this._draw(!1,e.action.update,k,function(){e._moveToBoundaryArea(S.getSvg(),S.getViewBox(),S.response.boundary)})},e.ui.css=function(){return'<style data-bft-styles>.bft-button{background-color:#039be5;cursor:pointer;width:calc(100%);height:50px;color:#fff;padding-top:5px;padding-left:7px;padding-right:7px;text-align:center;text-transform:uppercase;border:1px solid #3fc0ff;display:inline-block;border-radius:5px}.bft-button.orange{background-color:#f57c00;border:1px solid #ffa03e}.bft-button.yellow{background-color:#ffca28;border:1px solid #ffdf7c}.bft-button.lower{text-transform:unset}.bft-button.transparent{background-color:transparent}.bft-button:hover{background-color:#35afea}.bft-button.orange:hover{background-color:#f79632}.bft-button.yellow:hover{background-color:#ffd452}.bft-button:active{transform:matrix(.98,0,0,.98,0,0)}.bft-button-icon{text-align:initial;cursor:pointer;margin-bottom:15px;color:#039be5}.bft-dark .bft-button-icon:hover{background-color:#2d2d2d}.bft-light .bft-button-icon:hover{background-color:#ececec}.bft-button-icon>img{height:24px;width:24px;vertical-align:middle;padding:7px}.bft-button:focus{outline:0}.bft-button-icon>img{filter:invert(46%) sepia(66%) saturate(2530%) hue-rotate(171deg) brightness(95%) contrast(98%)}.bft-light .bft-button.transparent{color:#039be5}.bft-light .bft-button.transparent:hover{color:#fff}.bft-button-loading{background-color:transparent;cursor:pointer;width:calc(100% - 2px);height:50px;color:#fff;text-align:center;text-transform:uppercase;border:1px solid #027cb7;display:inline-block;display:flex;justify-content:center;align-items:center;display:none}.bft-button-loading .bft-loading-dots div{margin:0 10px}.bft-link-bft-button{position:absolute;right:10px;top:-1px}@media screen and (max-width:1000px){.bft-link-bft-button{right:50px}}[data-bft-input-disabled] .bft-link-bft-button{display:none}[dir=rtl] .bft-link-bft-button{left:10px;right:unset}.bft-img-button{width:48px;height:48px;cursor:pointer;border-radius:50%;background-color:#039be5;background-repeat:no-repeat;background-size:24px 24px;background-position:center center;margin:3px;display:inline-block}.bft-img-button:hover{background-color:#f57c00}.bft-checkbox{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}.bft-checkbox input{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.bft-checkbox-checkmark{position:absolute;top:0;left:0;height:25px;width:25px;border-radius:5px}.bft-dark [data-bft-input-disabled] .bft-checkbox-checkmark,.bft-dark [data-bft-input-disabled].bft-checkbox input:checked~.bft-checkbox-checkmark,.bft-light [data-bft-input-disabled] .bft-checkbox-checkmark,.bft-light [data-bft-input-disabled].bft-checkbox input:checked~.bft-checkbox-checkmark{background-color:#aeaeae!important}[data-bft-input-disabled].bft-checkbox{cursor:default}[dir=rtl] .bft-checkbox-checkmark{right:0}[dir=rtl] .bft-checkbox{padding-left:unset;padding-right:35px}.bft-dark .bft-checkbox-checkmark{background-color:#333;border:1px solid #5b5b5b}.bft-light .bft-checkbox-checkmark{background-color:#fff;border:1px solid #c7c7c7}.bft-dark .bft-checkbox:hover input~.bft-checkbox-checkmark{background-color:#3c3c3c}.bft-light .bft-checkbox:hover input~.bft-checkbox-checkmark{background-color:#f8f9f9}.bft-dark .bft-checkbox input:checked~.bft-checkbox-checkmark{background-color:#039be5}.bft-light .bft-checkbox input:checked~.bft-checkbox-checkmark{background-color:#039be5}.bft-checkbox-checkmark:after{content:"";position:absolute;display:none}.bft-checkbox input:checked~.bft-checkbox-checkmark:after{display:block}.bft-checkbox .bft-checkbox-checkmark:after{left:9px;top:5px;width:5px;height:10px;border:solid #fff;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.bft-filter{user-select:none}.bft-light .bft-filter{color:#757575}.bft-dark .bft-filter{color:#ccc}.bft-filter>div>div{display:inline-block;padding:3px 10px;cursor:pointer}.bft-filter-menu fieldset,.bft-filter>div,.filter-field-selected{border-radius:5px}.bft-filter-menu fieldset{overflow-y:auto;max-height:300px}.bft-filter>div.bft-filter-menu{padding:10px}.bft-light .bft-filter>div.bft-filter-menu,.bft-light .filter-field-selected{background-color:#f8f9f9}.bft-dark .bft-filter>div.bft-filter-menu,.bft-dark .filter-field-selected{background-color:#3c3c3c}.bft-light .bft-filter>div{background-color:#eee}.bft-dark .bft-filter>div{background-color:#333}.bft-form-perspective{transform-style:preserve-3d;perspective:500px;position:absolute;top:32px}.bft-form{box-shadow:rgba(0,0,0,.2) 0 6px 6px 0,rgba(0,0,0,.19) 0 13px 20px 0;padding:14px;transform-origin:top center;user-select:none;display:none;position:relative;max-height:calc(100vh - 100px);overflow-y:auto;border-bottom-left-radius:5px;border-bottom-right-radius:5px}.bft-form-bottom{border-bottom-left-radius:unset;border-bottom-right-radius:unset;border-top-left-radius:5px;border-top-right-radius:5px}.bft-form .separator{margin:0 10px}@media screen and (max-width:1000px){.bft-form-perspective{min-width:100%;max-height:calc(100% - 32px);left:unset!important;right:unset!important;transform:none!important}.bft-form .set{max-height:calc(100vh - 74px)}.bft-form-fieldset{max-width:unset!important}}.bft-light .bft-form .separator{border-bottom:1px solid #c7c7c7}.bft-dark .bft-form .separator{border-bottom:1px solid #5b5b5b}.bft-light .bft-form{background-color:#fff}.bft-dark .bft-form{background-color:#252526}.bft-item{padding:6px 12px 6px 12px;display:flex;flex-direction:row}.bft-light .bft-form .bft-item.selected,.bft-light .bft-form .bft-item:hover{background-color:#0074e8;color:#fff}.bft-dark .bft-form .bft-item.selected,.bft-dark .bft-form .bft-item:hover{background-color:#094771;color:#fff}.bft-item.selected img,.bft-item:hover img{filter:invert(100%)}.bft-item.selected img{visibility:visible!important}.bft-form-fieldset{display:flex;flex-wrap:wrap;margin:0!important}.bft-form-field{flex:1 0 21%;margin:3px;min-width:200px}.bft-form-field-100{flex:1 0 96%;margin:3px;min-width:200px}.bft-input{position:relative}.bft-input>input,.bft-input>select{height:50px;padding:18px 10px 2px 9px;width:100%;box-sizing:border-box;border-style:solid;border-width:1px}.bft-input select{height:50px;padding:20px 5px 4px 5px}[data-bft-input-disabled].bft-input>input,[data-bft-input-disabled].bft-input>select{border-color:transparent!important}.bft-light [data-bft-input-disabled]>input,.bft-light [data-bft-input-disabled]>select{background-color:#fff!important}.bft-dark [data-bft-input-disabled]>input,.bft-dark [data-bft-input-disabled]>select{background-color:#252526!important}[data-bft-input-disabled]>select{appearance:none;padding-left:8px}.bft-input>label{display:inline-block;position:absolute;padding-left:10px;padding-right:10px;color:#acacac;cursor:text;-webkit-transition:all .1s ease-out;-moz-transition:all .1s ease-out;-ms-transition:all .1s ease-out;-o-transition:all .1s ease-out;transition:all .1 ease-out;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:initial;text-align:initial;white-space:nowrap}.bft-input>label{top:12px;overflow:hidden;text-overflow:ellipsis;max-width:calc(100% - 14px)}.bft-input>label.focused,.bft-input>label.hasval{top:-1px}.bft-input>input,.bft-input>select{outline:0;border-radius:5px}.bft-dark .bft-input>label.focused,.bft-light .bft-input>label.focused{color:#039be5}.bft-dark .bft-input>input,.bft-dark .bft-input>select{color:#ccc;background-color:#333;border-color:#5b5b5b}.bft-light .bft-input>input,.bft-light .bft-input>select{color:#757575;background-color:#fff;border-color:#c7c7c7}.bft-light .bft-input>input:focus,.bft-light .bft-input>select:focus{border-color:#039be5;background-color:#f8f9f9}.bft-dark .bft-input>input:focus,.bft-dark .bft-input>select:focus{border-color:#039be5;background-color:#3c3c3c}.bft-dark .bft-input>input.bft-validation-error,.bft-dark .bft-input>select.bft-validation-error,.bft-light .bft-input>input.bft-validation-error,.bft-light .bft-input>select.bft-validation-error{border-color:#ca2a2a}.bft-dark .bft-validation-error-message,.bft-light .bft-validation-error-message{color:#ca2a2a}.bft-input select.multiple{height:initial}.bft-link{color:#039be5;cursor:pointer;text-decoration:underline}.bft-link:hover{color:#f57c00}.bft-dark ::-webkit-scrollbar,.bft-light ::-webkit-scrollbar{width:15px;height:15px}.bft-dark ::-webkit-scrollbar-corner{background:#1e1e1e}.bft-dark ::-webkit-scrollbar-track{background:#1e1e1e;border-left:1px solid #333;border-top:1px solid #333}.bft-dark ::-webkit-scrollbar-thumb{background:#424242}.bft-dark ::-webkit-scrollbar-thumb:hover{background:#4f4f4f}.bft-dark ::-webkit-scrollbar-thumb:active{background:#5e5e5e}.bft-light ::-webkit-scrollbar-corner{background:#fff}.bft-light ::-webkit-scrollbar-track{background:#fff;border-left:1px solid #ddd;border-top:1px solid #ddd}.bft-light ::-webkit-scrollbar-thumb{background:#c1c1c1}.bft-light ::-webkit-scrollbar-thumb:hover{background:#929292}.bft-light ::-webkit-scrollbar-thumb:active{background:#666}.bft-edit-form{position:fixed;top:0;right:0;height:100%;width:100%;box-shadow:rgba(0,0,0,.2) 0 6px 6px 0,rgba(0,0,0,.19) 0 13px 20px 0;display:flex;flex-direction:column;height:100%;width:400px}@media screen and (max-width:1000px){.bft-edit-form{width:100%}}.bft-dark .bft-edit-form{background-color:#252526}.bft-light .bft-edit-form{background-color:#fff}.bft-edit-form-header{height:200px;text-align:center;border-radius:10px}.export-service .bft-edit-form-header{border-radius:unset}.bft-edit-form-title{color:#fff;margin:0;padding:14px 17px 7px 17px}.bft-edit-form-avatar{border-radius:50%;width:150px;height:150px;position:absolute;top:75px;border:5px solid #fff;left:50%;transform:translateX(-50%);background-color:#cacaca;box-shadow:rgba(0,0,0,.2) 0 6px 6px 0,rgba(0,0,0,.19) 0 13px 20px 0}.bft-edit-form-close{position:absolute;right:14px;top:14px;width:34px;height:34px;cursor:pointer}.bft-edit-form-fields{flex-grow:1;overflow-y:auto;overflow-x:hidden}.bft-edit-form-fields-inner{margin:0 7px 20px 7px}.bft-family-menu{opacity:0;display:inline-block;position:absolute;text-align:left;user-select:none;min-width:270px;box-shadow:rgba(0,0,0,.2) 0 4px 8px 0,rgba(0,0,0,.19) 0 6px 20px 0;font:13px/28px Helvetica,"Segoe UI",Arial,sans-serif;border-radius:10px}.bft-family-menu>div:hover img{filter:invert(100%)}.bft-family-menu [data-item]{text-align:start;padding:7px 10px}.bft-dark .bft-family-menu [data-item]{background-color:#252526;color:#acacac;border-bottom:1px solid #333}.bft-dark .bft-family-menu [data-item]:hover{background-color:#094771!important;color:#fff!important}.bft-dark .bft-family-menu [data-item]:hover svg{filter:brightness(0) invert(1)}.bft-light .bft-family-menu [data-item]{background-color:#fff;color:#333;border-bottom:1px solid #c7c7c7}.bft-light .bft-family-menu [data-item]:hover{background-color:#0074e8!important;color:#fff!important}.bft-light .bft-family-menu [data-item]:hover svg{filter:brightness(0) invert(1)}.bft-family-menu [data-item] svg{vertical-align:middle}.bft-family-menu [data-item]:first-child{border-top-left-radius:7px;border-top-right-radius:7px}.bft-family-menu [data-item]:last-child{border-bottom-width:0;border-bottom-style:none;border-bottom-left-radius:7px;border-bottom-right-radius:7px}.bft-search{position:absolute}@media screen and (max-width:500px){.bft-search{width:calc(100% - 30px);left:15px}}.bft-search .bft-input{margin-bottom:0}.bft-search-input{color:#7a7a7a;width:100%;border:none;outline:0;padding-top:10px;padding-right:47px}.bft-search-image-td{width:43px}.bft-search-text-td{padding-inline-end:7px;line-height:15px;text-align:start}.bft-search table{box-shadow:rgba(0,0,0,.2) 0 4px 8px 0,rgba(0,0,0,.19) 0 6px 20px 0;margin:0 3.5px 0 3.5px;width:calc(100% - 7px);border-radius:7px}.bft-search table tr:first-child td:first-child{border-top-left-radius:7px}.bft-search table tr:first-child td:last-child{border-top-right-radius:7px}[dir=rtl] .bft-search table tr:first-child td:first-child{border-top-left-radius:unset;border-top-right-radius:7px}[dir=rtl] .bft-search table tr:first-child td:last-child{border-top-right-radius:unset;border-top-left-radius:7px}.bft-search table tr:last-child td:first-child{border-bottom-left-radius:7px}.bft-search table tr:last-child td:last-child{border-bottom-right-radius:7px}[dir=rtl] .bft-search table tr:last-child td:first-child{border-bottom-left-radius:unset;border-bottom-right-radius:7px}[dir=rtl] .bft-search table tr:last-child td:last-child{border-bottom-right-radius:unset;border-bottom-left-radius:7px}.bft-dark .bft-search table{background-color:#252526;color:#acacac}.bft-search [data-search-item-id]{cursor:pointer}.bft-search-photo{margin:7px 7px 0 7px;width:32px;height:32px;background-size:cover;background-position:top center;border-radius:50%;display:inline-block;border:1px solid #8c8c8c}.bft-search [data-search-item-id]:hover .bft-link{color:#ffca28}.bft-search [data-search-item-id]:hover .bft-link:hover{color:#f57c00}.bft-dark .bft-search [data-search-item-id] td{border-top:1px solid #333}.bft-dark .bft-search [data-search-item-id]:hover,.bft-dark .bft-search [data-selected=yes]{background-color:#094771;color:#fff}.bft-light .bft-search table{background-color:#fff;color:#333}.bft-light .bft-search [data-search-item-id] td{border-top:1px solid #c7c7c7}.bft-light .bft-search [data-search-item-id]:hover,.bft-light .bft-search [data-selected=yes]{background-color:#0074e8;color:#fff}.bft-search [data-search-item-id]:first-child td{border-top:unset}.bft-ripple-container{position:absolute;top:0;right:0;bottom:0;left:0}.bft-drag-over rect{opacity:.5}.bft-ripple-container span{transform:scale(0);border-radius:100%;position:absolute;opacity:.75;background-color:#fff;animation:bft-ripple 1s}@-moz-keyframes bft-ripple{to{opacity:0;transform:scale(2)}}@-webkit-keyframes bft-ripple{to{opacity:0;transform:scale(2)}}@-o-keyframes bft-ripple{to{opacity:0;transform:scale(2)}}@keyframes bft-ripple{to{opacity:0;transform:scale(2)}}.bft-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;-webkit-transition:.4s;transition:.4s}.bft-slider:before{position:absolute;content:"";height:16px;width:16px;left:4px;bottom:4px;background-color:#fff;-webkit-transition:.4s;transition:.4s}.bft-slider.round{border-radius:24px}.bft-slider.round:before{border-radius:50%}svg text:hover{cursor:default}svg.bft-cursor-grab,svg.bft-cursor-grab text:hover{cursor:grab}svg.bft-cursor-nodrop,svg.bft-cursor-nodrop text:hover{cursor:no-drop}svg.bft-cursor-copy,svg.bft-cursor-copy text:hover{cursor:copy}svg.bft-cursor-move,svg.bft-cursor-move text:hover{cursor:move}#bft-close-btn:focus,#bft-close-btn:hover{color:#000;text-decoration:none;cursor:pointer}#bft-id-select:focus{outline:.5px solid #aeaeae}#bft-sampleDialog #title:hover{cursor:default;background:gray}.bft-light{background-color:#fff;font:13px/28px Helvetica,"Segoe UI",Arial,sans-serif}.bft-dark{background-color:#1e1e1e;font:13px/28px Helvetica,"Segoe UI",Arial,sans-serif}.bft-light .bft-fill{fill:#fff}.bft-dark .bft-fill{fill:#1e1e1e}.bft-dark input,.bft-dark select,.bft-light input,.bft-light select{font:16px Helvetica,"Segoe UI",Arial,sans-serif}.bft-dark h1,.bft-light h1{font-size:30px;line-height:1}.bft-edit-form{position:absolute;border-radius:10px}.export-service .bft-edit-form{border-radius:unset}.bft-dark .bft-edit-form{color:#acacac}.bft-light .bft-edit-form{color:#333}.bft-dark ::-webkit-calendar-picker-indicator{filter:invert(70%)}.bft-light ::-webkit-calendar-picker-indicator{filter:invert(50%)}.bft-edit-form-instruments{margin:42px 10px 0 10px;text-align:center;min-height:70px}.bft-img-button svg{position:relative;top:12px}.bft-light .bft-toolbar-container svg circle,.bft-light .bft-toolbar-container svg line,.bft-light .bft-toolbar-container svg path{stroke:#8c8c8c!important}.bft-dark .bft-toolbar-container svg circle,.bft-dark .bft-toolbar-container svg line,.bft-dark .bft-toolbar-container svg path{stroke:#8c8c8c!important}.bft-dark .bft-toolbar-container svg rect{fill:#252526!important}.bft-dark .bft-toolbar-container [data-tlbr=minus] svg{border-left:1px solid #5b5b5b!important;border-right:1px solid #5b5b5b!important;border-bottom:1px solid #5b5b5b!important}.bft-dark .bft-toolbar-container [data-tlbr=plus] svg{border-left:1px solid #5b5b5b!important;border-right:1px solid #5b5b5b!important;border-top:1px solid #5b5b5b!important}.bft-dark .bft-toolbar-container [data-tlbr]>svg{border:1px solid #5b5b5b!important;background-color:#252526!important}.bft-toolbar-layout{height:123px;padding-top:20px;position:absolute;width:100%;left:"0";bottom:"-145px"}.bft-light .bft-toolbar-layout{border-top:1px solid #c7c7c7;background-color:#f9f9f9}.bft-dark .bft-toolbar-layout{border-top:1px solid #5b5b5b;background-color:#2b2b2b}.bft-dotted-connector path{stroke-dasharray:7}.bft-undo-redo{position:absolute;top:23px;left:23px}@media screen and (max-width:500px){.bft-undo-redo{position:absolute;top:83px;left:23px}}.bft-light .bft-undo-redo path{fill:#cacaca}.bft-dark .bft-undo-redo path{fill:#5b5b5b}.bft-light .bft-undo-redo .bft-ur-clickable path{fill:#9c9c9c}.bft-dark .bft-undo-redo .bft-ur-clickable path{fill:#8c8c8c}.bft-undo-redo .bft-ur-clickable rect{cursor:pointer}.bft-undo-redo>span{position:relative;display:inline-block;user-select:none}.bft-undo-redo .bft-undo-i{left:-6px;top:-6px}.bft-undo-redo .bft-redo-i{right:-6px;bottom:6px}.bft-undo-redo>span>span{color:#fff;position:absolute;display:inline-block;min-width:20px;min-height:20px;border-radius:50%;line-height:20px;text-align:center;padding:1px;user-select:none;cursor:pointer}.bft-light .bft-undo-redo>span>span{background-color:#9c9c9c}.bft-dark .bft-undo-redo>span>span{background-color:#8c8c8c}</style>'},e.events.on("render",function(t,n){if(t.recentRoots||(t.recentRoots=[]),t.config.roots)for(var i=0;i<t.config.roots.length;i++){var o=t.recentRoots.indexOf(t.config.roots[i]);o!=-1&&t.recentRoots.splice(o,1),t.recentRoots.unshift(t.config.roots[i])}}),e.events.on("show",function(t,n){if(t instanceof e.editUI&&t.obj._tree_menu_temp)return!1}),e.events.on("render-link",function(t,n){n.cnode.ppid!=null&&n.cnode.layout!=e.mixed&&(n.html+='<use xlink:href="#dot" x="'+n.p.xa+'" y="'+n.p.ya+'"/>')}),e.events.on("click",function(t,n){if(t instanceof e){var i=t._get(n.node.id);if(i._ft_method)return i._ft_method=="addParentNode"?t[i._ft_method](i._ft_childId,i._ft_type,i._ft_data,null,!0):i._ft_method=="addChildAndPartnerNodes"?t[i._ft_method](i._ft_id,i._ft_childData,i._ft_partnerData,null,!0):i._ft_method=="addPartnerAndParentNodes"?t[i._ft_method](i._ft_id,i._ft_childIds,i._ft_partnerData,null,!0):t[i._ft_method](i._ft_data,null,!0),!1;for(var o=n.event.target;o;){if(o.getAttribute&&(o.hasAttribute("data-ctrl-n-t-menu-id")||o.hasAttribute("data-ctrl-n-t-menu-c"))){var l=o.getAttribute("data-ctrl-n-t-menu-id");return e.isNEU(l)?t.hideTreeMenu(!0):t.showTreeMenu(l),n.event.stopPropagation(),n.event.preventDefault(),!1}o=o.parentNode}}}),e===void 0&&(e={}),e.prototype.onField=function(t){return this.on("field",function(n,i){return t.call(n,i)})},e.prototype.onInit=function(t){return this.on("init",function(n){return t.call(n)})},e.prototype.onRedraw=function(t){return this.on("redraw",function(n){return t.call(n)})},e.prototype.onUpdateNode=function(t){return this.on("update",function(n,i,o){var l={oldData:i,newData:o};return t.call(n,l)})},e.prototype.onUpdated=function(t){return this.on("updated",function(n){return t.call(n)})},e.prototype.onRemoveNode=function(t){return this.on("remove",function(n,i,o){var l={id:i,newPidsAndStpidsForIds:o};return t.call(n,l)})},e.prototype.onAddNode=function(t){return this.on("add",function(n,i){var o={data:i};return t.call(n,o)})},e.prototype.onDrop=function(t){return this.on("drop",function(n,i,o,l,a){var s={dragId:i,dropId:o,dragNodeElement:l,event:a};return t.call(n,s)})},e.prototype.onDrag=function(t){return this.on("drag",function(n,i,o,l){var a={dragId:i,event:o,nodeIds:l};return t.call(n,a)})},e.prototype.onExpandCollpaseButtonClick=function(t){return this.on("expcollclick",function(n,i,o,l){var a={collapsing:i,id:o,ids:l};return t.call(n,a)})},e.prototype.onExportStart=function(t){return this.on("exportstart",function(n,i){return t.call(n,i)})},e.prototype.onExportEnd=function(t){return this.on("exportend",function(n,i){return t.call(n,i)})},e.prototype.onNodeClick=function(t){return this.on("click",function(n,i){return t.call(n,i)})},e.prototype.onNodeDoubleClick=function(t){return this.on("dbclick",function(n,i){var o={data:i};return t.call(n,o)})},e.prototype.onUpdateNode=function(t){return this.on("update",function(n,i){return t.call(n,i)})},e.prototype.onNodeTreeMenuShow=function(t){return this.on("node-tree-menu-show",function(n,i){return t.call(n,i)})},e.prototype.onRemoveNode=null,e.prototype.onAddNode=null,e.filterUI=function(){},e.filterUI.prototype.init=function(t){this.instance=t,this.element=null,this.filterBy=null,this._event_id=e._guid()},e.filterUI.prototype.addFilterTag=function(t){if(!this.instance.config.filterBy||e.isNEU(t))return!1;if(this.filterBy!==null||typeof this.instance.config.filterBy!="object"||Array.isArray(this.instance.config.filterBy)||(this.filterBy=JSON.parse(JSON.stringify(this.instance.config.filterBy))),this.filterBy!=null)for(var n in this.filterBy){var i=t[n];if(i!=null){var o=this.filterBy[n];if(o!=null){var l=o[i];if(l!=null&&l.checked===!1)return!0}}}return!1},e.filterUI.prototype.show=function(t){var n=this.element.querySelector('[data-filter-field="'+t+'"]');n&&n.click()},e.filterUI.prototype.hide=function(){var t=this.instance.element.querySelector("[data-filter-close]");t&&t.click()},e.filterUI.prototype.update=function(){if(this.instance.config.filterBy){var t={};if(this.instance.config.filterBy=="all")for(var n=e.manager.getAllFields(this.instance.config),i=0;i<n.length;i++){var o=n[i];o!="tags"&&o!="id"&&o!="pid"&&o!="ppid"&&o!="stpid"&&(t[o]={})}else if(Array.isArray(this.instance.config.filterBy))for(i=0;i<this.instance.config.filterBy.length;i++)t[this.instance.config.filterBy[i]]={};else if(typeof this.instance.config.filterBy=="object")for(var l in this.instance.config.filterBy)t[l]={};for(var a in t){var s=t[a];for(i=0;i<this.instance.config.nodes.length;i++){var c=this.instance.config.nodes[i][a];c!=null&&(s[c]||(s[c]={checked:!0,text:c}))}}if(this.filterBy!=null){for(var d in t)if(this.filterBy[d])for(var f in t[d])this.filterBy[d][f]&&(t[d][f]=this.filterBy[d][f])}if(e.FILTER_ALPHABETICALLY){var u=Object.keys(t).sort(),p=t;for(t={},i=0;i<u.length;i++)t[m=u[i]]=p[m];for(var a in t)for(s=t[a],t[a]={},u=Object.keys(s).sort(),i=0;i<u.length;i++){var m=u[i];t[a][m]=s[m]}}this.filterBy=t;var g=this;this.element=this.instance.element.querySelector("[data-filter]"),this.element&&this.element.parentNode.removeChild(this.element),this.element=document.createElement("div"),this.element.setAttribute("data-filter",""),this.element.style.position="absolute",this.element.setAttribute("class","bft-filter"),this.instance.config.undoRedoStorageName?(this.element.style.top=0,this.element.style.left="50%",this.element.style.transform="translate(-50%)"):(this.element.style.top=this.instance.config.padding+"px",this.element.style.left=this.instance.config.padding+"px");var x="";for(var d in this.filterBy){var y={name:d,html:`<div data-filter-field="${d}">${d}</div>`};e.events.publish("add-filter",[g,y]),x+=y.html}this.element.innerHTML=`<div>${x}</div>`,this.element.addEventListener("click",function(v){if(v.target.hasAttribute("data-filter-close")||v.target.hasAttribute("data-filter-field")){for(var h=v.target.getAttribute("data-filter-field"),w=g.instance.element.querySelectorAll("[data-filter-menu]"),_=0;_<w.length;_++)w[_].style.display="none";var b=g.instance.element.querySelectorAll(".filter-field-selected");for(_=0;_<b.length;_++)b[_].classList.remove("filter-field-selected");var S=g.instance.element.querySelector("[data-filter-close]");if(S&&S.parentNode.removeChild(S),v.target.hasAttribute("data-filter-close")||!v.target.hasAttribute("data-filter-field"))return;var k=g.instance.element.querySelector(`[data-filter-menu="${h}"]`);if(!k){var C={name:h,text:e.filterUI.all,value:h,checked:!0,html:`<div>
                        <input data-all type="checkbox" id="${h}" name="${h}" checked>
                        <label for="${h}">${e.filterUI.all}</label>
                    </div>`};e.events.publish("add-item",[g,C]);var E=C.html;for(var L in g.filterBy[h]){var B=g.filterBy[h][L],R=B.text;R==null&&(R=L),C={name:h,text:R,value:L,checked:B.checked,html:`<div>
                            <input  type="checkbox" id="${h}_${L}" name="${L}" ${B.checked?"checked":""}>
                            <label for="${h}_${L}">${R}</label>
                        </div>`},e.events.publish("add-item",[g,C]),E+=C.html}k=document.createElement("div");var U=e.filterUI.textFilterBy;k.innerHTML=`<fieldset>
                                                    <legend>${U} ${h}:</legend>
                                                    ${E}
                                                </fieldset>`,k.setAttribute("data-filter-menu",h),k.classList.add("bft-filter-menu"),v.target.parentNode.parentNode.appendChild(k);var z=k.querySelectorAll("input");for(_=0;_<z.length;_++)z[_].addEventListener("change",function(j){for(var V=j.target;V&&!V.hasAttribute("data-filter-menu");)V=V.parentNode;if(V){var I=V.getAttribute("data-filter-menu");if(j.target.hasAttribute("data-all")){for(var A=j.target.parentNode.parentNode.querySelectorAll("input"),M=0;M<A.length;M++)if(A[M]!=j.target)for(var H in A[M].checked=j.target.checked,g.filterBy[I])g.filterBy[I][H].checked=j.target.checked}else if(g.filterBy[I][this.name]!=null&&(g.filterBy[I][this.name].checked=this.checked),this.checked){for(var D=g.instance.config.nodes,$=0;$<D.length;$++)if(D[$][I]==this.name){for(var K=D[$];K;)if(e.isNEU(K.stpid))K=e.isNEU(K.pid)?null:g.instance._get(K.pid);else if((K=g.instance._get(K.stpid))[I]){var O=j.target.parentNode.parentNode.querySelector('[name="'+K[I]+'"]');O?(O.checked=this.checked,g.filterBy[I][K[I]].checked=this.checked):console.error('Cannot find element with selector: [name="'+K[I]+'"]')}}}g.instance.draw()}})}k.style.display="block",v.target.classList.add("filter-field-selected"),(S=document.createElement("div")).classList.add("close"),S.innerHTML="x",S.setAttribute("data-filter-close",""),v.target.parentNode.appendChild(S),e.events.publish("show-items",[g,{name:h}])}}),this.instance.element.appendChild(this.element),e.events.publish("update",[this,{}])}},e.filterUI.prototype.on=function(t,n){return e.events.on(t,n,this._event_id),this},e.filterUI.textFilterBy="Filter by",e.filterUI.all="[All]",e===void 0&&(e={}),e.remote===void 0&&(e.remote={}),e.LIMIT_NODES=!0,e.remote._fromResDTO=function(t,n,i,o,l){var a=n[t.id];t.x=a.p[0],t.y=a.p[1],t.w=a.p[2],t.h=a.p[3],a.ln!=null&&(t.leftNeighbor=l[a.ln]),a.rn!=null&&(t.rightNeighbor=l[a.rn]);for(var s=0;s<t.stChildren.length;s++)e.remote._fromResDTO(t.stChildren[s],n,i,o,l);for(s=0;s<t.children.length;s++)e.remote._fromResDTO(t.children[s],n,i,o,l)},e.remote._toReqDTO=function(t,n){var i={p:[t.id,t.parent!=null?t.parent.id:null,t.stParent!=null?t.stParent.id:null,t.w,t.h]};t.children.length>0&&(i.c=e.remote._convertToIdArray(t.children)),t.stChildren.length>0&&(i.v=e.remote._convertToIdArray(t.stChildren)),t.layout!=null&&t.layout!=0&&(i.l=t.layout),t.isAssistant&&(i.a=1),t.isSplit&&(i.s=t.isSplit),t.isMirror&&(i.im=t.isMirror),t.padding&&(i.q=t.padding),t.lcn&&(i.k=t.lcn),t.stContainerNodes&&(i.b=e.remote._convertToIdArray(t.stContainerNodes)),t.isPartner&&(i.i=t.isPartner),t.hasPartners&&(i.g=t.hasPartners),t.partnerSeparation&&(i.e=t.partnerSeparation),n.push(i);for(var o=0;o<t.stChildren.length;o++)e.remote._toReqDTO(t.stChildren[o],n);for(o=0;o<t.children.length;o++)e.remote._toReqDTO(t.children[o],n)},e.remote._toReqLayoutConfigsDTO=function(t){var n={};for(var i in t){var o=t[i];n[i]||(n[i]=[]),n[i][0]=o.orientation,n[i][1]=o.levelSeparation,n[i][2]=o.mixedHierarchyNodesSeparation,n[i][3]=o.subtreeSeparation,n[i][4]=o.siblingSeparation,n[i][5]=o.layout,n[i][6]=o.columns,n[i][7]=o.collapse,n[i][8]=o.assistantSeparation,n[i][9]=o.partnerNodeSeparation}return n},e.remote._convertToIdArray=function(t){for(var n=[],i=0;i<t.length;i++)n.push(t[i].id);return n},e.remote._setPositions=function(t,n,i,o){for(var l=[],a=[],s=e.remote._toReqLayoutConfigsDTO(n),c=0;c<t.length;c++)a.push(t[c].id),e.remote._toReqDTO(t[c],l);var d={n:l,c:s,r:a,v:"8.14.00"};if(e.LIMIT_NODES||(d.l=!0),e.remote._fromReqDTO!=null)e.remote._fromReqDTO(d.n,d.r,d.c,function(u){for(var p=0;p<t.length;p++)e.remote._fromResDTO(t[p],u,0,t,o);i()});else{d=JSON.stringify(d);var f=e.localStorage.getItem(d);f&&(f=JSON.parse(f)),f&&!f.limit?e.remote._proceed(t,f,o,i):e.remote._findRegion(function(u){e._ajax(u,"post",d,"json",function(p){p.error?i(2):(e.remote._proceed(t,p,o,i),e.localStorage.setItem(d,JSON.stringify(p)))})})}},e.remote._proceed=function(t,n,i,o){if(typeof n=="string"&&(n=JSON.parse(n)),n.limit&&n.limit==1)o(n.limit);else{for(var l=0;l<t.length;l++)e.remote._fromResDTO(t[l],n,0,t,i);o()}},e.remote._findRegion=function(t){var n=e.localStorage.getItem(e.FUNC_URL_NAME);if(n)t(n);else{for(var i=["defunc2","cusfunc2","bsfunc2","acfunc2","kcfunc2","safunc2","wifunc2"],o=[],l=0;l<i.length;l++)o.push(new XMLHttpRequest);for(l=0;l<i.length;l++)(function(){var a="https://"+i[l]+e.SERVER_PREFIX,s=o[l];s.onreadystatechange=function(){if(this.readyState==4&&this.status==200){e.localStorage.setItem(e.FUNC_URL_NAME,a),t(a);for(var c=0;c<o.length;c++)o[c].abort()}},s.open("GET",a,!0),s.send()})()}}})(Fu);var Hp=Fu.exports;const xi=f1(Hp);function Hu(r,e){return function(){return r.apply(e,arguments)}}const{toString:jp}=Object.prototype,{getPrototypeOf:Qa}=Object,So=(r=>e=>{const t=jp.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ut=r=>(r=r.toLowerCase(),e=>So(e)===r),ko=r=>e=>typeof e===r,{isArray:ir}=Array,qr=ko("undefined");function $p(r){return r!==null&&!qr(r)&&r.constructor!==null&&!qr(r.constructor)&&Ye(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const ju=ut("ArrayBuffer");function Vp(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&ju(r.buffer),e}const Yp=ko("string"),Ye=ko("function"),$u=ko("number"),Co=r=>r!==null&&typeof r=="object",Xp=r=>r===!0||r===!1,Oi=r=>{if(So(r)!=="object")return!1;const e=Qa(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},qp=ut("Date"),Wp=ut("File"),Kp=ut("Blob"),Gp=ut("FileList"),Jp=r=>Co(r)&&Ye(r.pipe),Qp=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||Ye(r.append)&&((e=So(r))==="formdata"||e==="object"&&Ye(r.toString)&&r.toString()==="[object FormData]"))},Zp=ut("URLSearchParams"),[e0,t0,n0,r0]=["ReadableStream","Request","Response","Headers"].map(ut),i0=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Zr(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,i;if(typeof r!="object"&&(r=[r]),ir(r))for(n=0,i=r.length;n<i;n++)e.call(null,r[n],n,r);else{const o=t?Object.getOwnPropertyNames(r):Object.keys(r),l=o.length;let a;for(n=0;n<l;n++)a=o[n],e.call(null,r[a],a,r)}}function Vu(r,e){e=e.toLowerCase();const t=Object.keys(r);let n=t.length,i;for(;n-- >0;)if(i=t[n],e===i.toLowerCase())return i;return null}const mn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Yu=r=>!qr(r)&&r!==mn;function Jl(){const{caseless:r}=Yu(this)&&this||{},e={},t=(n,i)=>{const o=r&&Vu(e,i)||i;Oi(e[o])&&Oi(n)?e[o]=Jl(e[o],n):Oi(n)?e[o]=Jl({},n):ir(n)?e[o]=n.slice():e[o]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Zr(arguments[n],t);return e}const o0=(r,e,t,{allOwnKeys:n}={})=>(Zr(e,(i,o)=>{t&&Ye(i)?r[o]=Hu(i,t):r[o]=i},{allOwnKeys:n}),r),l0=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),a0=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},s0=(r,e,t,n)=>{let i,o,l;const a={};if(e=e||{},r==null)return e;do{for(i=Object.getOwnPropertyNames(r),o=i.length;o-- >0;)l=i[o],(!n||n(l,r,e))&&!a[l]&&(e[l]=r[l],a[l]=!0);r=t!==!1&&Qa(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},d0=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},c0=r=>{if(!r)return null;if(ir(r))return r;let e=r.length;if(!$u(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},u0=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&Qa(Uint8Array)),f0=(r,e)=>{const n=(r&&r[Symbol.iterator]).call(r);let i;for(;(i=n.next())&&!i.done;){const o=i.value;e.call(r,o[0],o[1])}},p0=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},h0=ut("HTMLFormElement"),m0=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,i){return n.toUpperCase()+i}),pd=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),g0=ut("RegExp"),Xu=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};Zr(t,(i,o)=>{let l;(l=e(i,o,r))!==!1&&(n[o]=l||i)}),Object.defineProperties(r,n)},v0=r=>{Xu(r,(e,t)=>{if(Ye(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(Ye(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},y0=(r,e)=>{const t={},n=i=>{i.forEach(o=>{t[o]=!0})};return ir(r)?n(r):n(String(r).split(e)),t},x0=()=>{},b0=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e,tl="abcdefghijklmnopqrstuvwxyz",hd="0123456789",qu={DIGIT:hd,ALPHA:tl,ALPHA_DIGIT:tl+tl.toUpperCase()+hd},_0=(r=16,e=qu.ALPHA_DIGIT)=>{let t="";const{length:n}=e;for(;r--;)t+=e[Math.random()*n|0];return t};function w0(r){return!!(r&&Ye(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const S0=r=>{const e=new Array(10),t=(n,i)=>{if(Co(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const o=ir(n)?[]:{};return Zr(n,(l,a)=>{const s=t(l,i+1);!qr(s)&&(o[a]=s)}),e[i]=void 0,o}}return n};return t(r,0)},k0=ut("AsyncFunction"),C0=r=>r&&(Co(r)||Ye(r))&&Ye(r.then)&&Ye(r.catch),Wu=((r,e)=>r?setImmediate:e?((t,n)=>(mn.addEventListener("message",({source:i,data:o})=>{i===mn&&o===t&&n.length&&n.shift()()},!1),i=>{n.push(i),mn.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Ye(mn.postMessage)),E0=typeof queueMicrotask<"u"?queueMicrotask.bind(mn):typeof process<"u"&&process.nextTick||Wu,N={isArray:ir,isArrayBuffer:ju,isBuffer:$p,isFormData:Qp,isArrayBufferView:Vp,isString:Yp,isNumber:$u,isBoolean:Xp,isObject:Co,isPlainObject:Oi,isReadableStream:e0,isRequest:t0,isResponse:n0,isHeaders:r0,isUndefined:qr,isDate:qp,isFile:Wp,isBlob:Kp,isRegExp:g0,isFunction:Ye,isStream:Jp,isURLSearchParams:Zp,isTypedArray:u0,isFileList:Gp,forEach:Zr,merge:Jl,extend:o0,trim:i0,stripBOM:l0,inherits:a0,toFlatObject:s0,kindOf:So,kindOfTest:ut,endsWith:d0,toArray:c0,forEachEntry:f0,matchAll:p0,isHTMLForm:h0,hasOwnProperty:pd,hasOwnProp:pd,reduceDescriptors:Xu,freezeMethods:v0,toObjectSet:y0,toCamelCase:m0,noop:x0,toFiniteNumber:b0,findKey:Vu,global:mn,isContextDefined:Yu,ALPHABET:qu,generateString:_0,isSpecCompliantForm:w0,toJSONObject:S0,isAsyncFn:k0,isThenable:C0,setImmediate:Wu,asap:E0};function Y(r,e,t,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}N.inherits(Y,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:N.toJSONObject(this.config),code:this.code,status:this.status}}});const Ku=Y.prototype,Gu={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Gu[r]={value:r}});Object.defineProperties(Y,Gu);Object.defineProperty(Ku,"isAxiosError",{value:!0});Y.from=(r,e,t,n,i,o)=>{const l=Object.create(Ku);return N.toFlatObject(r,l,function(s){return s!==Error.prototype},a=>a!=="isAxiosError"),Y.call(l,r.message,e,t,n,i),l.cause=r,l.name=r.name,o&&Object.assign(l,o),l};const N0=null;function Ql(r){return N.isPlainObject(r)||N.isArray(r)}function Ju(r){return N.endsWith(r,"[]")?r.slice(0,-2):r}function md(r,e,t){return r?r.concat(e).map(function(i,o){return i=Ju(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function I0(r){return N.isArray(r)&&!r.some(Ql)}const L0=N.toFlatObject(N,{},null,function(e){return/^is[A-Z]/.test(e)});function Eo(r,e,t){if(!N.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=N.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,x){return!N.isUndefined(x[g])});const n=t.metaTokens,i=t.visitor||d,o=t.dots,l=t.indexes,s=(t.Blob||typeof Blob<"u"&&Blob)&&N.isSpecCompliantForm(e);if(!N.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(N.isDate(m))return m.toISOString();if(!s&&N.isBlob(m))throw new Y("Blob is not supported. Use a Buffer instead.");return N.isArrayBuffer(m)||N.isTypedArray(m)?s&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,g,x){let y=m;if(m&&!x&&typeof m=="object"){if(N.endsWith(g,"{}"))g=n?g:g.slice(0,-2),m=JSON.stringify(m);else if(N.isArray(m)&&I0(m)||(N.isFileList(m)||N.endsWith(g,"[]"))&&(y=N.toArray(m)))return g=Ju(g),y.forEach(function(h,w){!(N.isUndefined(h)||h===null)&&e.append(l===!0?md([g],w,o):l===null?g:g+"[]",c(h))}),!1}return Ql(m)?!0:(e.append(md(x,g,o),c(m)),!1)}const f=[],u=Object.assign(L0,{defaultVisitor:d,convertValue:c,isVisitable:Ql});function p(m,g){if(!N.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(m),N.forEach(m,function(y,v){(!(N.isUndefined(y)||y===null)&&i.call(e,y,N.isString(v)?v.trim():v,g,u))===!0&&p(y,g?g.concat(v):[v])}),f.pop()}}if(!N.isObject(r))throw new TypeError("data must be an object");return p(r),e}function gd(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Za(r,e){this._pairs=[],r&&Eo(r,this,e)}const Qu=Za.prototype;Qu.append=function(e,t){this._pairs.push([e,t])};Qu.toString=function(e){const t=e?function(n){return e.call(this,n,gd)}:gd;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function A0(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Zu(r,e,t){if(!e)return r;const n=t&&t.encode||A0,i=t&&t.serialize;let o;if(i?o=i(e,t):o=N.isURLSearchParams(e)?e.toString():new Za(e,t).toString(n),o){const l=r.indexOf("#");l!==-1&&(r=r.slice(0,l)),r+=(r.indexOf("?")===-1?"?":"&")+o}return r}class vd{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){N.forEach(this.handlers,function(n){n!==null&&e(n)})}}const e1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},M0=typeof URLSearchParams<"u"?URLSearchParams:Za,O0=typeof FormData<"u"?FormData:null,R0=typeof Blob<"u"?Blob:null,P0={isBrowser:!0,classes:{URLSearchParams:M0,FormData:O0,Blob:R0},protocols:["http","https","file","blob","url","data"]},es=typeof window<"u"&&typeof document<"u",Zl=typeof navigator=="object"&&navigator||void 0,U0=es&&(!Zl||["ReactNative","NativeScript","NS"].indexOf(Zl.product)<0),T0=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",B0=es&&window.location.href||"http://localhost",D0=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:es,hasStandardBrowserEnv:U0,hasStandardBrowserWebWorkerEnv:T0,navigator:Zl,origin:B0},Symbol.toStringTag,{value:"Module"})),Fe={...D0,...P0};function z0(r,e){return Eo(r,new Fe.classes.URLSearchParams,Object.assign({visitor:function(t,n,i,o){return Fe.isNode&&N.isBuffer(t)?(this.append(n,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function F0(r){return N.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function H0(r){const e={},t=Object.keys(r);let n;const i=t.length;let o;for(n=0;n<i;n++)o=t[n],e[o]=r[o];return e}function t1(r){function e(t,n,i,o){let l=t[o++];if(l==="__proto__")return!0;const a=Number.isFinite(+l),s=o>=t.length;return l=!l&&N.isArray(i)?i.length:l,s?(N.hasOwnProp(i,l)?i[l]=[i[l],n]:i[l]=n,!a):((!i[l]||!N.isObject(i[l]))&&(i[l]=[]),e(t,n,i[l],o)&&N.isArray(i[l])&&(i[l]=H0(i[l])),!a)}if(N.isFormData(r)&&N.isFunction(r.entries)){const t={};return N.forEachEntry(r,(n,i)=>{e(F0(n),i,t,0)}),t}return null}function j0(r,e,t){if(N.isString(r))try{return(e||JSON.parse)(r),N.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(r)}const ei={transitional:e1,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,o=N.isObject(e);if(o&&N.isHTMLForm(e)&&(e=new FormData(e)),N.isFormData(e))return i?JSON.stringify(t1(e)):e;if(N.isArrayBuffer(e)||N.isBuffer(e)||N.isStream(e)||N.isFile(e)||N.isBlob(e)||N.isReadableStream(e))return e;if(N.isArrayBufferView(e))return e.buffer;if(N.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return z0(e,this.formSerializer).toString();if((a=N.isFileList(e))||n.indexOf("multipart/form-data")>-1){const s=this.env&&this.env.FormData;return Eo(a?{"files[]":e}:e,s&&new s,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),j0(e)):e}],transformResponse:[function(e){const t=this.transitional||ei.transitional,n=t&&t.forcedJSONParsing,i=this.responseType==="json";if(N.isResponse(e)||N.isReadableStream(e))return e;if(e&&N.isString(e)&&(n&&!this.responseType||i)){const l=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(l)throw a.name==="SyntaxError"?Y.from(a,Y.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fe.classes.FormData,Blob:Fe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};N.forEach(["delete","get","head","post","put","patch"],r=>{ei.headers[r]={}});const $0=N.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),V0=r=>{const e={};let t,n,i;return r&&r.split(`
`).forEach(function(l){i=l.indexOf(":"),t=l.substring(0,i).trim().toLowerCase(),n=l.substring(i+1).trim(),!(!t||e[t]&&$0[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},yd=Symbol("internals");function gr(r){return r&&String(r).trim().toLowerCase()}function Ri(r){return r===!1||r==null?r:N.isArray(r)?r.map(Ri):String(r)}function Y0(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const X0=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function nl(r,e,t,n,i){if(N.isFunction(n))return n.call(this,e,t);if(i&&(e=t),!!N.isString(e)){if(N.isString(n))return e.indexOf(n)!==-1;if(N.isRegExp(n))return n.test(e)}}function q0(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function W0(r,e){const t=N.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(i,o,l){return this[n].call(this,e,i,o,l)},configurable:!0})})}class He{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function o(a,s,c){const d=gr(s);if(!d)throw new Error("header name must be a non-empty string");const f=N.findKey(i,d);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||s]=Ri(a))}const l=(a,s)=>N.forEach(a,(c,d)=>o(c,d,s));if(N.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(N.isString(e)&&(e=e.trim())&&!X0(e))l(V0(e),t);else if(N.isHeaders(e))for(const[a,s]of e.entries())o(s,a,n);else e!=null&&o(t,e,n);return this}get(e,t){if(e=gr(e),e){const n=N.findKey(this,e);if(n){const i=this[n];if(!t)return i;if(t===!0)return Y0(i);if(N.isFunction(t))return t.call(this,i,n);if(N.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=gr(e),e){const n=N.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||nl(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let i=!1;function o(l){if(l=gr(l),l){const a=N.findKey(n,l);a&&(!t||nl(n,n[a],a,t))&&(delete n[a],i=!0)}}return N.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const o=t[n];(!e||nl(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,n={};return N.forEach(this,(i,o)=>{const l=N.findKey(n,o);if(l){t[l]=Ri(i),delete t[o];return}const a=e?q0(o):String(o).trim();a!==o&&delete t[o],t[a]=Ri(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return N.forEach(this,(n,i)=>{n!=null&&n!==!1&&(t[i]=e&&N.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[yd]=this[yd]={accessors:{}}).accessors,i=this.prototype;function o(l){const a=gr(l);n[a]||(W0(i,l),n[a]=!0)}return N.isArray(e)?e.forEach(o):o(e),this}}He.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);N.reduceDescriptors(He.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}});N.freezeMethods(He);function rl(r,e){const t=this||ei,n=e||t,i=He.from(n.headers);let o=n.data;return N.forEach(r,function(a){o=a.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function n1(r){return!!(r&&r.__CANCEL__)}function or(r,e,t){Y.call(this,r??"canceled",Y.ERR_CANCELED,e,t),this.name="CanceledError"}N.inherits(or,Y,{__CANCEL__:!0});function r1(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new Y("Request failed with status code "+t.status,[Y.ERR_BAD_REQUEST,Y.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function K0(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function G0(r,e){r=r||10;const t=new Array(r),n=new Array(r);let i=0,o=0,l;return e=e!==void 0?e:1e3,function(s){const c=Date.now(),d=n[o];l||(l=c),t[i]=s,n[i]=c;let f=o,u=0;for(;f!==i;)u+=t[f++],f=f%r;if(i=(i+1)%r,i===o&&(o=(o+1)%r),c-l<e)return;const p=d&&c-d;return p?Math.round(u*1e3/p):void 0}}function J0(r,e){let t=0,n=1e3/e,i,o;const l=(c,d=Date.now())=>{t=d,i=null,o&&(clearTimeout(o),o=null),r.apply(null,c)};return[(...c)=>{const d=Date.now(),f=d-t;f>=n?l(c,d):(i=c,o||(o=setTimeout(()=>{o=null,l(i)},n-f)))},()=>i&&l(i)]}const io=(r,e,t=3)=>{let n=0;const i=G0(50,250);return J0(o=>{const l=o.loaded,a=o.lengthComputable?o.total:void 0,s=l-n,c=i(s),d=l<=a;n=l;const f={loaded:l,total:a,progress:a?l/a:void 0,bytes:s,rate:c||void 0,estimated:c&&a&&d?(a-l)/c:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};r(f)},t)},xd=(r,e)=>{const t=r!=null;return[n=>e[0]({lengthComputable:t,total:r,loaded:n}),e[1]]},bd=r=>(...e)=>N.asap(()=>r(...e)),Q0=Fe.hasStandardBrowserEnv?function(){const e=Fe.navigator&&/(msie|trident)/i.test(Fe.navigator.userAgent),t=document.createElement("a");let n;function i(o){let l=o;return e&&(t.setAttribute("href",l),l=t.href),t.setAttribute("href",l),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return n=i(window.location.href),function(l){const a=N.isString(l)?i(l):l;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}(),Z0=Fe.hasStandardBrowserEnv?{write(r,e,t,n,i,o){const l=[r+"="+encodeURIComponent(e)];N.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),N.isString(n)&&l.push("path="+n),N.isString(i)&&l.push("domain="+i),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function eh(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function th(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function i1(r,e){return r&&!eh(e)?th(r,e):e}const _d=r=>r instanceof He?{...r}:r;function kn(r,e){e=e||{};const t={};function n(c,d,f){return N.isPlainObject(c)&&N.isPlainObject(d)?N.merge.call({caseless:f},c,d):N.isPlainObject(d)?N.merge({},d):N.isArray(d)?d.slice():d}function i(c,d,f){if(N.isUndefined(d)){if(!N.isUndefined(c))return n(void 0,c,f)}else return n(c,d,f)}function o(c,d){if(!N.isUndefined(d))return n(void 0,d)}function l(c,d){if(N.isUndefined(d)){if(!N.isUndefined(c))return n(void 0,c)}else return n(void 0,d)}function a(c,d,f){if(f in e)return n(c,d);if(f in r)return n(void 0,c)}const s={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:a,headers:(c,d)=>i(_d(c),_d(d),!0)};return N.forEach(Object.keys(Object.assign({},r,e)),function(d){const f=s[d]||i,u=f(r[d],e[d],d);N.isUndefined(u)&&f!==a||(t[d]=u)}),t}const o1=r=>{const e=kn({},r);let{data:t,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:o,headers:l,auth:a}=e;e.headers=l=He.from(l),e.url=Zu(i1(e.baseURL,e.url),r.params,r.paramsSerializer),a&&l.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let s;if(N.isFormData(t)){if(Fe.hasStandardBrowserEnv||Fe.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((s=l.getContentType())!==!1){const[c,...d]=s?s.split(";").map(f=>f.trim()).filter(Boolean):[];l.setContentType([c||"multipart/form-data",...d].join("; "))}}if(Fe.hasStandardBrowserEnv&&(n&&N.isFunction(n)&&(n=n(e)),n||n!==!1&&Q0(e.url))){const c=i&&o&&Z0.read(o);c&&l.set(i,c)}return e},nh=typeof XMLHttpRequest<"u",rh=nh&&function(r){return new Promise(function(t,n){const i=o1(r);let o=i.data;const l=He.from(i.headers).normalize();let{responseType:a,onUploadProgress:s,onDownloadProgress:c}=i,d,f,u,p,m;function g(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function y(){if(!x)return;const h=He.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),_={data:!a||a==="text"||a==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:h,config:r,request:x};r1(function(S){t(S),g()},function(S){n(S),g()},_),x=null}"onloadend"in x?x.onloadend=y:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(y)},x.onabort=function(){x&&(n(new Y("Request aborted",Y.ECONNABORTED,r,x)),x=null)},x.onerror=function(){n(new Y("Network Error",Y.ERR_NETWORK,r,x)),x=null},x.ontimeout=function(){let w=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const _=i.transitional||e1;i.timeoutErrorMessage&&(w=i.timeoutErrorMessage),n(new Y(w,_.clarifyTimeoutError?Y.ETIMEDOUT:Y.ECONNABORTED,r,x)),x=null},o===void 0&&l.setContentType(null),"setRequestHeader"in x&&N.forEach(l.toJSON(),function(w,_){x.setRequestHeader(_,w)}),N.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),a&&a!=="json"&&(x.responseType=i.responseType),c&&([u,m]=io(c,!0),x.addEventListener("progress",u)),s&&x.upload&&([f,p]=io(s),x.upload.addEventListener("progress",f),x.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(d=h=>{x&&(n(!h||h.type?new or(null,r,x):h),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const v=K0(i.url);if(v&&Fe.protocols.indexOf(v)===-1){n(new Y("Unsupported protocol "+v+":",Y.ERR_BAD_REQUEST,r));return}x.send(o||null)})},ih=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let n=new AbortController,i;const o=function(c){if(!i){i=!0,a();const d=c instanceof Error?c:this.reason;n.abort(d instanceof Y?d:new or(d instanceof Error?d.message:d))}};let l=e&&setTimeout(()=>{l=null,o(new Y(`timeout ${e} of ms exceeded`,Y.ETIMEDOUT))},e);const a=()=>{r&&(l&&clearTimeout(l),l=null,r.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),r=null)};r.forEach(c=>c.addEventListener("abort",o));const{signal:s}=n;return s.unsubscribe=()=>N.asap(a),s}},oh=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let n=0,i;for(;n<t;)i=n+e,yield r.slice(n,i),n=i},lh=async function*(r,e){for await(const t of ah(r))yield*oh(t,e)},ah=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},wd=(r,e,t,n)=>{const i=lh(r,e);let o=0,l,a=s=>{l||(l=!0,n&&n(s))};return new ReadableStream({async pull(s){try{const{done:c,value:d}=await i.next();if(c){a(),s.close();return}let f=d.byteLength;if(t){let u=o+=f;t(u)}s.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(s){return a(s),i.return()}},{highWaterMark:2})},No=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",l1=No&&typeof ReadableStream=="function",sh=No&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),a1=(r,...e)=>{try{return!!r(...e)}catch{return!1}},dh=l1&&a1(()=>{let r=!1;const e=new Request(Fe.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),Sd=64*1024,ea=l1&&a1(()=>N.isReadableStream(new Response("").body)),oo={stream:ea&&(r=>r.body)};No&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!oo[e]&&(oo[e]=N.isFunction(r[e])?t=>t[e]():(t,n)=>{throw new Y(`Response type '${e}' is not supported`,Y.ERR_NOT_SUPPORT,n)})})})(new Response);const ch=async r=>{if(r==null)return 0;if(N.isBlob(r))return r.size;if(N.isSpecCompliantForm(r))return(await new Request(Fe.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(N.isArrayBufferView(r)||N.isArrayBuffer(r))return r.byteLength;if(N.isURLSearchParams(r)&&(r=r+""),N.isString(r))return(await sh(r)).byteLength},uh=async(r,e)=>{const t=N.toFiniteNumber(r.getContentLength());return t??ch(e)},fh=No&&(async r=>{let{url:e,method:t,data:n,signal:i,cancelToken:o,timeout:l,onDownloadProgress:a,onUploadProgress:s,responseType:c,headers:d,withCredentials:f="same-origin",fetchOptions:u}=o1(r);c=c?(c+"").toLowerCase():"text";let p=ih([i,o&&o.toAbortSignal()],l),m;const g=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let x;try{if(s&&dh&&t!=="get"&&t!=="head"&&(x=await uh(d,n))!==0){let _=new Request(e,{method:"POST",body:n,duplex:"half"}),b;if(N.isFormData(n)&&(b=_.headers.get("content-type"))&&d.setContentType(b),_.body){const[S,k]=xd(x,io(bd(s)));n=wd(_.body,Sd,S,k)}}N.isString(f)||(f=f?"include":"omit");const y="credentials"in Request.prototype;m=new Request(e,{...u,signal:p,method:t.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:y?f:void 0});let v=await fetch(m);const h=ea&&(c==="stream"||c==="response");if(ea&&(a||h&&g)){const _={};["status","statusText","headers"].forEach(C=>{_[C]=v[C]});const b=N.toFiniteNumber(v.headers.get("content-length")),[S,k]=a&&xd(b,io(bd(a),!0))||[];v=new Response(wd(v.body,Sd,S,()=>{k&&k(),g&&g()}),_)}c=c||"text";let w=await oo[N.findKey(oo,c)||"text"](v,r);return!h&&g&&g(),await new Promise((_,b)=>{r1(_,b,{data:w,headers:He.from(v.headers),status:v.status,statusText:v.statusText,config:r,request:m})})}catch(y){throw g&&g(),y&&y.name==="TypeError"&&/fetch/i.test(y.message)?Object.assign(new Y("Network Error",Y.ERR_NETWORK,r,m),{cause:y.cause||y}):Y.from(y,y&&y.code,r,m)}}),ta={http:N0,xhr:rh,fetch:fh};N.forEach(ta,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const kd=r=>`- ${r}`,ph=r=>N.isFunction(r)||r===null||r===!1,s1={getAdapter:r=>{r=N.isArray(r)?r:[r];const{length:e}=r;let t,n;const i={};for(let o=0;o<e;o++){t=r[o];let l;if(n=t,!ph(t)&&(n=ta[(l=String(t)).toLowerCase()],n===void 0))throw new Y(`Unknown adapter '${l}'`);if(n)break;i[l||"#"+o]=n}if(!n){const o=Object.entries(i).map(([a,s])=>`adapter ${a} `+(s===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(kd).join(`
`):" "+kd(o[0]):"as no adapter specified";throw new Y("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:ta};function il(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new or(null,r)}function Cd(r){return il(r),r.headers=He.from(r.headers),r.data=rl.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),s1.getAdapter(r.adapter||ei.adapter)(r).then(function(n){return il(r),n.data=rl.call(r,r.transformResponse,n),n.headers=He.from(n.headers),n},function(n){return n1(n)||(il(r),n&&n.response&&(n.response.data=rl.call(r,r.transformResponse,n.response),n.response.headers=He.from(n.response.headers))),Promise.reject(n)})}const d1="1.7.7",ts={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{ts[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const Ed={};ts.transitional=function(e,t,n){function i(o,l){return"[Axios v"+d1+"] Transitional option '"+o+"'"+l+(n?". "+n:"")}return(o,l,a)=>{if(e===!1)throw new Y(i(l," has been removed"+(t?" in "+t:"")),Y.ERR_DEPRECATED);return t&&!Ed[l]&&(Ed[l]=!0,console.warn(i(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,l,a):!0}};function hh(r,e,t){if(typeof r!="object")throw new Y("options must be an object",Y.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let i=n.length;for(;i-- >0;){const o=n[i],l=e[o];if(l){const a=r[o],s=a===void 0||l(a,o,r);if(s!==!0)throw new Y("option "+o+" must be "+s,Y.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Y("Unknown option "+o,Y.ERR_BAD_OPTION)}}const na={assertOptions:hh,validators:ts},Bt=na.validators;class yn{constructor(e){this.defaults=e,this.interceptors={request:new vd,response:new vd}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=kn(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:o}=t;n!==void 0&&na.assertOptions(n,{silentJSONParsing:Bt.transitional(Bt.boolean),forcedJSONParsing:Bt.transitional(Bt.boolean),clarifyTimeoutError:Bt.transitional(Bt.boolean)},!1),i!=null&&(N.isFunction(i)?t.paramsSerializer={serialize:i}:na.assertOptions(i,{encode:Bt.function,serialize:Bt.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=o&&N.merge(o.common,o[t.method]);o&&N.forEach(["delete","get","head","post","put","patch","common"],m=>{delete o[m]}),t.headers=He.concat(l,o);const a=[];let s=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(t)===!1||(s=s&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let d,f=0,u;if(!s){const m=[Cd.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,c),u=m.length,d=Promise.resolve(t);f<u;)d=d.then(m[f++],m[f++]);return d}u=a.length;let p=t;for(f=0;f<u;){const m=a[f++],g=a[f++];try{p=m(p)}catch(x){g.call(this,x);break}}try{d=Cd.call(this,p)}catch(m){return Promise.reject(m)}for(f=0,u=c.length;f<u;)d=d.then(c[f++],c[f++]);return d}getUri(e){e=kn(this.defaults,e);const t=i1(e.baseURL,e.url);return Zu(t,e.params,e.paramsSerializer)}}N.forEach(["delete","get","head","options"],function(e){yn.prototype[e]=function(t,n){return this.request(kn(n||{},{method:e,url:t,data:(n||{}).data}))}});N.forEach(["post","put","patch"],function(e){function t(n){return function(o,l,a){return this.request(kn(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}yn.prototype[e]=t(),yn.prototype[e+"Form"]=t(!0)});class ns{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o;const l=new Promise(a=>{n.subscribe(a),o=a}).then(i);return l.cancel=function(){n.unsubscribe(o)},l},e(function(o,l,a){n.reason||(n.reason=new or(o,l,a),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new ns(function(i){e=i}),cancel:e}}}function mh(r){return function(t){return r.apply(null,t)}}function gh(r){return N.isObject(r)&&r.isAxiosError===!0}const ra={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ra).forEach(([r,e])=>{ra[e]=r});function c1(r){const e=new yn(r),t=Hu(yn.prototype.request,e);return N.extend(t,yn.prototype,e,{allOwnKeys:!0}),N.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return c1(kn(r,i))},t}const pe=c1(ei);pe.Axios=yn;pe.CanceledError=or;pe.CancelToken=ns;pe.isCancel=n1;pe.VERSION=d1;pe.toFormData=Eo;pe.AxiosError=Y;pe.Cancel=pe.CanceledError;pe.all=function(e){return Promise.all(e)};pe.spread=mh;pe.isAxiosError=gh;pe.mergeConfig=kn;pe.AxiosHeaders=He;pe.formToJSON=r=>t1(N.isHTMLForm(r)?new FormData(r):r);pe.getAdapter=s1.getAdapter;pe.HttpStatusCode=ra;pe.default=pe;const vh=()=>{const r=(d,f)=>{const u={};for(let p=0;p<f.length;p++)f[p]==="pids"||f[p]==="divorced"?u[f[p]]=d[p]?d[p].split(",").map(m=>+m):[]:d[p]&&!isNaN(+d[p])?u[f[p]]=+d[p]:u[f[p]]=d[p];return u};xi.SEARCH_PLACEHOLDER='...   "?"  .',xi.elements.customTextarea=(d,f)=>{let u=xi.elements.generateId(),p=d[f.binding];return p?{html:`<label for='${u}'></label>
                    <textarea
                        readonly
                        id='${u}'
                        name='${u}'
                        style="width: 100%; height: 100px; padding: 5px 10px; text-align: left;"
                        data-binding='${f.binding}'
                    >${p}</textarea>`,id:u,value:p}:{html:""}};const i="https://sheets.googleapis.com/v4/spreadsheets/1BEAojfHoNVKSykooc-gVoHaBLqzg5DpmiXdnhOThrt4/values/tree_sheet/?alt=json&key=AIzaSyBvljjtQP-9zBpSVwucqgImSuaHVorDl5g",[o,l]=Dt.useState([]),[a,s]=Dt.useState({}),c=Dt.useRef(null);return Dt.useEffect(()=>{pe.get(i).then(({data:d})=>{console.log(d);const f=d.values[0],u=d.values.slice(1);for(let p=0;p<u.length;p++){if(o.push(r(u[p],f)),!o[p].name){let x=o[p].fullName.split(" ")[0];x==="..."?(o[p].name="",o[p].fullName=o[p].fullName.slice(4)):o[p].name=x}o[p].fullName=o[p].fullName.trim();let m=o[p].bD?new Date(o[p].bD):void 0,g=o[p].dD!=="a"?new Date(o[p].dD):new Date;o[p].age=new Date(g-m).getFullYear()-new Date(0).getFullYear()||"-",!o[p].bD&&!o[p].dD?o[p].dates="":(o[p].dates=o[p].bD||"",o[p].dD!=="a"&&(o[p].dates+="  "+(o[p].dD||"")))}l([...o])})},[i]),Dt.useEffect(()=>{s(new xi(c.current,{template:"hugo",nodes:o,nodeBinding:{field_0:"name",field_1:"age"},editForm:{titleBinding:"name",photoBinding:"ImgUrl",generateElementsFromFields:!1,elements:[{type:"textbox",label:" ",binding:"fullName"},{type:"textbox",label:"",binding:"dates"},{type:"textbox",label:"",binding:"age"},{type:"customTextarea",label:"",binding:"desc"}]},searchFields:["name","fullName","gender"]}))},[o]),Dt.useEffect(()=>{Object.keys(a).length&&a.on("render-link",function(d,f){let u=a.get(f.cnode.id),p=a.get(f.node.id);u.divorced!=null&&p.divorced!=null&&u.divorced.includes(f.node.id)&&p.divorced.includes(f.cnode.id)&&(f.html=f.html.replace("path","path stroke-dasharray='3, 2'"))})},[a]),kt.jsx("div",{id:"tree",ref:c})},yh=()=>kt.jsxs("div",{className:"app",children:[kt.jsx(Fp,{}),kt.jsx(vh,{})]});zu(document.getElementById("root")).render(kt.jsx(yh,{}));
